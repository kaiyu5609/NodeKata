/** Build on 2015-12-28*/
!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.Base=b()}(this,function(){var a=function(){};return a.prototype={extend:function(b){if(arguments.length>1){var c=this[b],d=arguments[1];if("function"==typeof d&&c&&/\bbase\b/.test(d)){var e=d;d=function(){var a=this.base;this.base=c;var b=e.apply(this,arguments);return this.base=a,b},d.method=e,d.ancestor=c}this[b]=d}else if(b){var f=a.prototype.extend;if(a._prototyping)for(var g,h=0,i=["constructor","toString","valueOf"];g=i[h++];)b[g]!=Object.prototype[g]&&f.call(this,g,b[g]);else"function"!=typeof this&&(f=this.extend||f);for(g in b)Object.prototype[g]||f.call(this,g,b[g])}return this},base:a},a.extend=function(b,c){var d=a.prototype.extend;a._prototyping=!0;var e=new this;d.call(e,b),delete a._prototyping;var f=e.constructor,g=e.constructor=function(){if(!a._prototyping){if(!this._constructing&&this.constructor!=g){var b=arguments[0];return null!=b&&(b.extend||d).call(b,e),b}this._constructing=!0,f.apply(this,arguments),delete this._constructing}};for(var h in a)g[h]=this[h];return g.ancestor=this,g.base=a.base,g.prototype=e,g.toString=this.toString,d.call(g,c),"function"==typeof g.init&&g.init(),g},a=a.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,base:a,implement:function(a){return"function"==typeof a?a(this.prototype):this.prototype.extend(a),this}})});