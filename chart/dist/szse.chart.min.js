!function(t,e){function n(e,r){var a,o=[];if("string"==typeof e)return s[e]||t[e];for(var c=0;c<e.length;++c)a=s[e[c]]||i(e[c])||n,o.push(a);r.apply(null,o)}function r(t,e){if("string"!=typeof t)throw"invalid module definition, module id must be defined and be a string";s[t]=e.call(null,n)}function i(e){for(var n=t,r=e.split(/[.\/]/),i=0;i<r.length;++i){if(!n[r[i]])return;n=n[r[i]]}return n}function a(e){for(var n in e){for(var r=t,i=e[n],a=n.split(/[.\/]/),o=0;o<a.length-1;++o)void 0===r[a[o]]&&(r[a[o]]={}),r=r[a[o]];r[a[a.length-1]]=s[i]}}var s={},o=e(r);a(o)}(window,function(t){return t("cn/szse/utils/EventEmitter",function(t){var e=t("Base"),n=e.extend({on:function(t,e){return void 0===this._handlers&&(this._handlers={}),void 0===this._handlers[t]&&(this._handlers[t]=[]),this._handlers[t].push(e),this},fire:function(){var t,e,n,r,i,a=[].slice,s=arguments[0],o=arguments[1]||null;if(t=2<=arguments.length?a.call(arguments,1):[],void 0!==this._handlers&&void 0!==this._handlers[s])for(i=this._handlers[s],n=0,r=i.length;r>n;n++)e=i[n],"function"==typeof e&&e.apply(o,t)===!1;return this},off:function(t){return t?this._handlers&&this._handlers.hasOwnProperty(t)&&delete this._handlers[t]:delete this._handlers,this}});return n}),t("cn/szse/chart/utils/Promise",function(t){var e=t("jQuery"),n={src:function(n){var r=e.Deferred();return t(n,function(){r.resolve.apply(r,arguments)}),r.promise()}};return n}),t("cn/szse/Component",function(t){"use strict";var e=t("Base"),n=t("cn/szse/utils/EventEmitter"),r={prefix:Date.now(),counter:0},i=e.extend({constructor:function(t){this.id=t.id||(r.prefix+ ++r.counter).toString(16),this.domEl=t.domEl,this.width=t.width,this.height=t.height},render:function(){}});return i.implement(n),i}),t("cn/szse/chart/elements/ICloud",function(){return function(){function t(t){return{width:function(){return e()},height:function(){return n()},fill:function(t,e){return r?r(t,e):""},category:function(t,e){return"function"==typeof o?o(t):""},series:function(t,e){return"function"==typeof a?a(t,e):""},data:function(){return t.map(function(t,e){var n=Math.abs(+t.value);return{series:a(t,e),value:s(n),data:t}})}}}var e,n,r,i,a,s,o;return t.width=function(n){return e=n,t},t.height=function(e){return n=e,t},t.fill=function(e){return r=e,t},t.opacity=function(e){return i=e,t},t.series=function(e){return a=e,t},t.category=function(e){return o=e,t},t.size=function(e){return s=e,t},t}}),t("cn/szse/chart/elements/IForce",function(t){var e=function(){function t(t){return{r:function(t,n){return"function"==typeof e?e(t,n):e},line:function(){return"function"==typeof n?n():n},charge:function(){return"function"==typeof r?r():r},icon:function(t,e){return"function"==typeof i?i(t,e):i},stroke:function(t,e){return s(t,e)},fill:function(t,e){return o(t,e)},label:function(){return a()},map:function(){return t}}}var e,n,r,i,a,s,o;return t.r=function(n){return e=n,t},t.line=function(e){return n=e,t},t.charge=function(e){return r=e,t},t.icon=function(e){return i=e,t},t.label=function(e){return a=e,t},t.stroke=function(e){return s=e,t},t.fill=function(e){return o=e,t},t};return e}),t("cn/szse/chart/elements/IGauge",function(t){var e=function(){function t(t){return{innerRadius:function(){return"function"==typeof e?e():97},outerRadius:function(){return"function"==typeof n?n():100},tickSubdivide:function(){return"function"==typeof r?r():4},get:function(){return t}}}var e,n,r;return t.innerRadius=function(n){return e=n,t},t.outerRadius=function(e){return n=e,t},t.tickSubdivide=function(e){return r=e,t},t};return e}),t("cn/szse/chart/elements/ILegend",function(){var t=function(){function t(t){return{left:function(t){return e(t)},top:function(t){return n(t)},fill:function(t,e){return"function"==typeof r?r(t,e):""},series:function(t,e){return"function"==typeof i?i(t,e):""},get:function(){return t}}}var e,n,r,i;return t.left=function(n){return e=n,t},t.top=function(e){return n=e,t},t.fill=function(e){return r=e,t},t.series=function(e){return i=e,t},t};return t}),t("cn/szse/chart/elements/ILine",function(t){var e=function(){function t(t){return{x:function(t){return e(t)},y:function(t,e){return isNaN(n(t,e))?NaN:n(t,e)},r:function(t,e){return"function"==typeof r?r(t,e):64},label:function(){return"function"==typeof i?i():!1},axis:function(){return"function"==typeof a?a():!0},get:function(){return t}}}var e,n,r,i,a;return t.x=function(n){return e=n,t},t.y=function(e){return n=e,t},t.r=function(e){return r=e,t},t.label=function(e){return i=e,t},t.axis=function(e){return a=e,t},t};return e}),t("cn/szse/chart/elements/IMap",function(){var t=function(){function t(t){return{r:function(t,n){return"function"==typeof e?e(t,n):84},fill:function(t,e){return"function"==typeof n?n(t,e):"#B3CDE3"},label:function(){return"function"==typeof r?r():!1},tooltipsText:function(t,e){return"function"==typeof i?i(t,e):""},animation:function(){return"function"==typeof a?a():!1},get:function(){return t}}}var e,n,r,i,a;return t.r=function(n){return e=n,t},t.fill=function(e){return n=e,t},t.label=function(e){return r=e,t},t.tooltipsText=function(e){return i=e,t},t.animation=function(e){return a=e,t},t};return t}),t("cn/szse/chart/shapes/IArcSlider",function(t){var e=function(){function t(t){return{tickSubdivide:function(){return"function"==typeof e?e():4},outerRadius:function(){return"function"==typeof n?n():100},innerRadius:function(t,e){return"function"==typeof r?r():100},label:function(t){return"function"==typeof i?i(t):null},klass:function(t,e){return"function"==typeof a?a(t,e):""},get:function(){return t}}}var e,n,r,i,a;return t.tickSubdivide=function(n){return e=n,t},t.outerRadius=function(e){return n=e,t},t.innerRadius=function(e){return r=e,t},t.label=function(e){return i=e,t},t.klass=function(e){return a=e,t},t};return e}),t("cn/szse/chart/member/map/mapdata",function(t){return{}}),t("cn/szse/chart/elements/impl/Breadcrumb",function(t){function e(t,e,r){var i=r.context.selectAll("div.s-chart-breadcrumb").data(["s-breadcrumb-uid"],function(t){return t});i.enter().append("div").attr("class","s-chart-breadcrumb"),i.exit().remove(),r.on("breadcrumb",function(t){var e=i.selectAll(".item").data(t),a=e.enter().append("span").attr("class","item");e.each(function(t){var e=n.select(this),r=e.selectAll(".txt").data([t]);r.enter().append("i").attr("class","txt"),r.attr("title",function(t){return t.series}).text(function(t){return t.series})}),a.append("em").attr("class","arrow"),e.on("click",function(t){if(1!==r.breadcrumb.length&&t!=r.currNode){r.currNode=t;var e=r.breadcrumb.indexOf(t)+1,n=r.breadcrumb.slice(e);n.forEach(function(t){t.active=!1}),r.breadcrumb=r.breadcrumb.slice(0,e),r.render([r.currNode]),r.fire("breadcrumb",r.breadcrumb)}}),e.exit().remove()})}var n=t("d3");return e}),t("cn/szse/chart/shapes/IArea",function(t){var e=function(){function t(t){return{x:function(t,n){return e(t,n)},y0:function(t,e){return n(t,e)},y1:function(t,e){return r(t,e)},fill:function(t,e){return"function"==typeof i?i(t,e):"none"},defined:function(t,e){return"function"==typeof a?a(t,e):!0},interpolate:function(){return"function"==typeof s?s():null},animation:function(){return"function"==typeof o?o():!1},klass:function(t,e){return"function"==typeof c?c(t,e):"item"},series:function(t,e){return"function"==typeof u?u(t,e):""},get:function(){return t}}}var e,n,r,i,a,s,o,c,u;return t.x=function(n){return e=n,t},t.y0=function(e){return n=e,t},t.y1=function(e){return r=e,t},t.fill=function(e){return i=e,t},t.defined=function(e){return a=e,t},t.interpolate=function(e){return s=e,t},t.animation=function(e){return o=e,t},t.klass=function(e){return c=e,t},t.series=function(e){return u=e,t},t};return e}),t("cn/szse/chart/shapes/ICandlestick",function(t){var e=function(){function t(t){return{left:function(t,n){return e(t,n)},width:function(t,e){return n(t,e)},values:function(t,e){return r(t,e)},get:function(){return t}}}var e,n,r;return t.left=function(n){return e=n,t},t.values=function(e){return r=e,t},t.width=function(e){return n=e,t},t};return e}),t("cn/szse/chart/shapes/ILabel",function(t){var e=function(){function t(t){return{dx:function(t,n){return"function"==typeof e?e(t,n):0},dy:function(t,e){return"function"==typeof n?n(t,e):"-1em"},stroke:function(t,e){return"function"==typeof r?r(t,e):""},fill:function(t,e){return"function"==typeof i?i(t,e):""},category:function(t,e){return"function"==typeof s?s(t,e):""},series:function(t,e){return"function"==typeof o?o(t,e):""},animation:function(){return"function"==typeof c?c():!1},delay:function(){return a?"function"==typeof a?a():a:0},anchor:function(t){return"function"==typeof u?u(t):"middle"},label:function(t){return"function"==typeof l?l(t):!1},transform:function(t,e){return"function"==typeof f?f(t,e):""},clippath:function(t,e){return"function"==typeof h?h(t,e):""},get:function(){return t}}}var e,n,r,i,a,s,o,c,u,l,f,h;return t.dx=function(n){return e=n,t},t.dy=function(e){return n=e,t},t.delay=function(e){return a=e,t},t.stroke=function(e){return r=e,t},t.fill=function(e){return i=e,t},t.category=function(e){return s=e,t},t.series=function(e){return o=e,t},t.animation=function(e){return c=e,t},t.anchor=function(e){return u=e,t},t.label=function(e){return l=e,t},t.transform=function(e){return f=e,t},t.clippath=function(e){return h=e,t},t};return e}),t("cn/szse/chart/shapes/ILine",function(t){var e=function(){function t(t){return{x1:function(t,n){return e?"function"==typeof e?e(t,n):e:0},y1:function(t,e){return n?"function"==typeof n?n(t,e):n:0},x2:function(t,e){return r?"function"==typeof r?r(t,e):r:0},y2:function(t,e){return i?"function"==typeof i?i(t,e):i:0},fill:function(t,e){return"function"==typeof a?a(t,e):"none"},stroke:function(t,e){return"function"==typeof s?s(t,e):"#bbb"},delay:function(){return o?"function"==typeof o?o():o:0},animation:function(t,e){return"function"==typeof c?c(t,e):!1},transform:function(t,e){return"function"==typeof u?u(t,e):""},get:function(){return t}}}var e,n,r,i,a,s,o,c,u;return t.x1=function(n){return e=n,t},t.y1=function(e){return n=e,t},t.x2=function(e){return r=e,t},t.y2=function(e){return i=e,t},t.fill=function(e){return a=e,t},t.stroke=function(e){return s=e,t},t.delay=function(e){return o=e,t},t.animation=function(e){return c=e,t},t.transform=function(e){return u=e,t},t};return e}),t("cn/szse/chart/shapes/impl/Icon",function(t){function e(){function t(t,n){return(f.get(e.call(this,t,n))||i)(a.call(this,t,n))}var e=r,a=n;return t.type=function(n){return arguments.length?(e="function"==typeof n?n:function(){return n},t):e},t.size=function(e){return arguments.length?(a="function"==typeof e?e:function(){return e},t):a},t}function n(){return 64}function r(){return"circle"}function i(t){var e=Math.sqrt(t/o);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function a(t,e){t*=1.3333333333333333;for(var n=Math.sqrt(t/o),r=0,i=e,a=360/i,s="M";i>r;r++){var u=Math.sin(c/360*(a*r))*n,l=Math.cos(c/360*(a*r))*n;l=i%2==1?-l:l,s+=0===r?u+","+l+"L":1===r?u+","+l:" "+u+","+l}return s+="Z"}var s=t("d3"),o=3.141592653589793,c=6.283185307179586,u=1.7320508075688772,l=.5773502691896257,f=s.map({circle:i,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*l)),n=e*l;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/u),n=e*u/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/u),n=e*u/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"},star:function(t){for(var e=.8960112010512896,n=.22451398828979266,r=-.3090169943749474,i=Math.sqrt(t*e),a=n*i,s=r*i,o="M0,"+-i+"L"+a+","+s,u=0;5>u;++u){var l=c*u/5,f=Math.cos(l),h=Math.sin(l);o+=" "+h*i+","+-f*i+" "+(f*a-h*s)+","+(h*a+f*s)}return o+="Z"},quadrangle:function(t){return a(t,4)},pentagon:function(t){return a(t,5)},hexagon:function(t){return a(t,6)},octagon:function(t){return a(t,8)}});return e.iconTypes=f.keys(),e}),t("cn/szse/chart/shapes/ISymbol",function(t){var e=function(){function t(t){return{x:function(t,n){return e(t,n)},y:function(t,e){return n(t,e)},klass:function(t,e){return"function"==typeof r?r(t,e):"item"},stroke:function(t,e){return"function"==typeof i?i(t,e):""},fill:function(t,e){return"function"==typeof a?a(t,e):""},opacity:function(t,e){return"function"==typeof s?s(t,e):1},category:function(t,e){return"function"==typeof o?o(t,e):""},series:function(t,e){return"function"==typeof c?c(t,e):""},icon:function(t){return"function"==typeof u?u(t):"circle"},animation:function(){return"function"==typeof l?l():!1},delay:function(){return"function"==typeof f?f():0},min:function(t){return"function"==typeof h?h():!1},max:function(t){return"function"==typeof p?p():!1},get:function(){return t}}}var e,n,r,i,a,s,o,c,u,l,f,h,p;return t.x=function(n){return e=n,t},t.y=function(e){return n=e,t},t.klass=function(e){return r=e,t},t.stroke=function(e){return i=e,t},t.fill=function(e){return a=e,t},t.opacity=function(e){return s=e,t},t.category=function(e){return o=e,t},t.series=function(e){return c=e,t},t.icon=function(e){return u=e,t},t.animation=function(e){return l=e,t},t.delay=function(e){return f=e,t},t.min=function(e){return h=e,t},t.max=function(e){return p=e,t},t};return e}),t("cn/szse/chart/elements/IArcAxis",function(t){var e=function(){function t(t){return{outerRadius:function(){return"function"==typeof e?e():100},innerRadius:function(){return"function"==typeof n?n():100},ticks:function(){return"function"==typeof r?r():[]},tickSubdivide:function(){return"function"==typeof i?i():4},tickMajorSize:function(){return"function"==typeof a?a():12},tickMinorSize:function(){return"function"==typeof s?s():8},tickPading:function(){return"function"==typeof o?o():3},tickLabel:function(){return"function"==typeof c?c():""},tickUnit:function(){return"function"==typeof u?u():[10]},klass:function(t,e){return"function"==typeof l?l(t,e):""},get:function(){return t}}}var e,n,r,i,a,s,o,c,u,l;return t.outerRadius=function(n){return e=n,t},t.innerRadius=function(e){return n=e,t},t.ticks=function(e){return r=e,t},t.tickSubdivide=function(e){return i=e,t},t.tickMajorSize=function(e){return a=e,t},t.tickMinorSize=function(e){return s=e,t},t.tickPading=function(e){return o=e,t},t.tickLabel=function(e){return c=e,t},t.tickUnit=function(e){return u=e,t},t.klass=function(e){return l=e,t},t};return e}),t("cn/szse/chart/elements/impl/Tooltips",function(t){function e(t,e,r){var i=e.get(),a=r.context.selectAll("div.s-chart-tooltips").data(["s-tooltips-uid"],function(t){return t});a.enter().append("div").attr("class","s-chart-tooltips"),a.exit().remove(),r.on("item-mouseover",function(t){var s=e.text(t),o=n.mouse(r.context.node()),c=a.node(),u=c.offsetWidth||112,l=c.offsetHeight||22,f=i.opts.width,h=i.opts.height,p=+i.opts.left,d=45,m=[-1e4,-1e4];a.style("display","block"),"right"===e.location()?p+f-o[0]-u-10<0?m[0]=o[0]-u-10:m[0]=o[0]+10:"left"===e.location()&&(o[0]+10-p<u?m[0]=o[0]+10:m[0]=o[0]-u-10),d+h-o[1]-l<0?m[1]=o[1]-l:m[1]=o[1],a.style({left:m[0]+"px",top:m[1]+"px"}),a.html(s)}).on("item-mouseout",function(t){a.style("display","none")})}var n=t("d3");return e}),t("cn/szse/chart/elements/IRadar",function(t){var e=function(){function t(t){return{x:function(t){return e(t)},y:function(t,e){return isNaN(n(t,e))?NaN:n(t,e)},r:function(t,e){return"function"==typeof r?r(t,e):64},label:function(){return"function"==typeof i?i():!1},get:function(){return t}}}var e,n,r,i;return t.x=function(n){return e=n,t},t.y=function(e){return n=e,t},t.r=function(e){return r=e,t},t.label=function(e){return i=e,t},t};return e}),t("cn/szse/chart/elements/IScatter",function(){var t=function(){function t(t){return{x:function(t){return e(t)},y:function(t){return n(t)},r:function(t,e){return"function"==typeof r?r(t,e):84},opacity:function(t,e){return"function"==typeof i?i(t,e):1},fill:function(t,e){return"function"==typeof a?a(t,e):""},category:function(t,e){return"function"==typeof o?o(t,e):""},series:function(t,e){return"function"==typeof s?s(t,e):""},label:function(){return"function"==typeof c?c():!1},get:function(){return t}}}var e,n,r,i,a,s,o,c;return t.x=function(n){return e=n,t},t.y=function(e){return n=e,t},t.r=function(e){return r=e,t},t.opacity=function(e){return i=e,t},t.fill=function(e){return a=e,t},t.series=function(e){return s=e,t},t.category=function(e){return o=e,t},t.label=function(e){return c=e,t},t};return t}),t("cn/szse/chart/shapes/impl/SVG",function(t){function e(t,e){var n=e.width,r=e.height;if(e.title){var i=t.selectAll("h3").data([e.title]);i.enter().append("h3").html(function(t){return t}),i.exit().remove()}var a=t.selectAll("svg.s-chart").data(["s-chart-uid"],function(t){return t});a.enter().append("svg").attr("class","s-chart").style("display","block"),a.attr("width",n).attr("height",r),a.selectAll("g").data(e.plots.children).enter().append("g").attr("class",function(t){return"s-chart-plot s-chart-"+t.sType.toLowerCase()}),a.exit().remove()}return e}),t("cn/szse/chart/elements/ITooltips",function(t){var e=function(){function t(t){return{location:function(){return"function"==typeof e?e():"right"},text:function(t,e){return"function"==typeof n?n(t,e):""},get:function(){return t}}}var e,n;return t.location=function(n){return e=n,t},t.text=function(e){return n=e,t},t};return e}),t("cn/szse/chart/elements/ITreemap",function(){var t=function(){function t(t){return{left:function(t){return e(t)},top:function(t){return n(t)},width:function(t){return r(t)},height:function(t){return i(t)},minHeight:function(t){return"function"==typeof a?a(t):!0},maxDepth:function(){return"function"==typeof s?s():1},barHeight:function(){return"function"==typeof o?o():21},stroke:function(t,e){return"function"==typeof c?c(t,e):""},fill:function(t,e){return"function"==typeof u?u(t,e):"none"},opacity:function(t,e){return"function"==typeof l?l(t,e):1},series:function(t,e){return"function"==typeof f?f(t,e):""},category:function(t,e){return"function"==typeof h?h(t,e):""},animation:function(){return"function"==typeof p?p():!1},get:function(){return t}}}var e,n,r,i,a,s,o,c,u,l,f,h,p;return t.left=function(n){return e=n,t},t.top=function(e){return n=e,t},t.width=function(e){return r=e,t},t.height=function(e){return i=e,t},t.minHeight=function(e){return a=e,t},t.maxDepth=function(e){return s=e,t},t.barHeight=function(e){return o=e,t},t.stroke=function(e){return c=e,t},t.fill=function(e){return u=e,t},t.opacity=function(e){return l=e,t},t.series=function(e){return f=e,t},t.category=function(e){return h=e,t},t.animation=function(e){return p=e,t},t};return t}),t("cn/szse/chart/utils/Utils",function(){var t,e,n={},r=(n.uid=function(){var t=Date.now();return function(){return(t++).toString(16)}}(),n.extent=function(t,e){var n,r;return t.forEach(function(t,i){var a=+e(t,i);!isNaN(parseFloat(a))&&isFinite(a)&&((void 0===n||n>a)&&(n=a),(void 0===r||a>r)&&(r=a))}),[n||0,r||0]},n.measureText=function(){var t=document.createElement("canvas");t.width=1,t.height=1;var e;return e?function(t){return e.measureText(t)}:(e=t.getContext("2d"),e.font="10px Arial",function(t){return e.measureText(t)})}(),n.each=function(t,e){var n,r,i,a;if(t)if(n=t.length,void 0===n){for(r in t)if(t.hasOwnProperty(r)&&(a=t[r],e.call(a,a,r)===!1))break}else for(i=0;n>i&&(a=t[i],e.call(a,a,i)!==!1);i++);return t}),i=(n.filter=function(t,e){var n=[];return r(t,function(t,r){e&&e(t,r)!==!0||n.push(t)}),n},n.map=function(t,e){var n=[];return r(t,function(t,r){n.push(e(t,r))}),n}),a=(n.unique=function(){function t(t){void 0!==t&&void 0===e[t]&&(n.push(t),e[t]=!0)}var e={},n=[];return t.data=function(){return n},t},n.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},n.sum=function(t,e){var n=0;return r(t,function(t,r){n+=e(t,r)}),n},n.range=function(t,e,n){var r=[];for(t;e>t;t+=n)r.push(t);return r},n.cluster=function(t,e){if(t[0]&&t[0].cluster)return t;var n={};return r(t,function(t,r){var i=e(t,r);n.hasOwnProperty(i)===!1&&(n[i]={series:i,values:[]}),n[i].values.push(t)}),i(n,function(t){return t})},n.timeFormat=function(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"H+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"w+":"日一二三四五六".charAt(t.getDay()),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};e=e||"yyyy/MM/dd",/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in n)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return e},{visibility:"hidden",display:"block"}),s=["Top","Right","Bottom","Left"],o=/^(none|table(?!-c[ea]).+)/,c=function(t,e){for(var n="width"===e?1:0,r=0;4>n;n+=2)r-=parseInt(l(t,"padding"+s[n]),10),r-=parseInt(l(t,"border"+s[n]+"Width"),10);return r},u=function(t,e){var n="width"===e?t&&1===t.nodeType&&t.offsetWidth:t&&1===t.nodeType&&t.offsetHeight;return n+c(t,e)},l=n.css=function(t,e){return t&&1===t.nodeType?window.getComputedStyle(t,null)[e]:void 0},f=n.swap=function(t,e,n){var r,i,a={};for(i in e)a[i]=t.style[i],t.style[i]=e[i];r=n.call(t);for(i in e)t.style[i]=a[i];return r},h=n.getOffset=function(n,r){var i,s;return t||(t=n),!n||1!==n.nodeType||0!==n.offsetWidth&&0!==n.offsetHeight?(i=u(n,"width"),n&&"BODY"===n.nodeName?s=r||300:(s=u(n,"height"),s=s>=300?s:r||300),e&&e>0&&(i=e),t=e=void 0,{width:i,height:s}):o.test(l(n,"display"))?f(n,a,function(){return i=u(t,"width"),s=u(t,"height"),i?s?(t=void 0,{width:i,height:s}):(e=i,h(t.parentNode)):h(n.parent)}):(i=u(n,"width"),!e&&i&&(e=i),h(n.parentNode))};n.isIE9=function(){return"Microsoft Internet Explorer"==navigator.appName&&"9."==navigator.appVersion.match(/9./i)?!0:!1},n.merge=function(t,e,r){var i,a="undefined"==typeof r?1:r;"object"!=typeof t&&(t={});for(i in e)e.hasOwnProperty(i)&&("object"==typeof t[i]&&a?n.merge(t[i],e[i],a-1):t[i]=e[i]);return t};return n}),t("cn/szse/chart/utils/TreemapScale",function(){function t(){function t(t,e){for(var n,r,i=-1,a=t.length;++i<a;)r=(n=t[i]).val*(0>e?0:e),n.area=isNaN(r)||0>=r?0:r}function s(t,e){for(var n,r=t.area,i=0,a=1/0,s=-1,o=t.length;++s<o;)(n=t[s].area)&&(a>n&&(a=n),n>i&&(i=n));return r*=r,e*=e,r?Math.max(e*i*x/r,r/(e*a*x)):1/0}function o(t,e,n,r){var i,a=-1,s=t.length,o=n.x,c=n.y,u=e?m(t.area/e):0;if(e==n.dx){for((r||u>n.dy)&&(u=n.dy);++a<s;)i=t[a],i.x=o,i.y=c,i.dy=u,i.percent=i.value/i.parent.val,o+=i.dx=Math.min(n.x+n.dx-o,u?m(i.area/u):0);i.z=!0,i.dx+=n.x+n.dx-o,n.y+=u,n.dy-=u}else{for((r||u>n.dx)&&(u=n.dx);++a<s;)i=t[a],i.x=o,i.y=c,i.dx=u,i.percent=i.value/i.parent.val,c+=i.dy=Math.min(n.y+n.dy-c,u?m(i.area/u):0);i.z=!1,i.dy+=n.y+n.dy-c,n.x+=u,n.dx-=u}}function c(e){var n=e.children;if(n&&n.length){var r,i,a,u=g(e,b),l=[],f=n.slice(),h=1/0,p=Math.min(u.dx,u.dy);for(t(f,u.dx*u.dy/e.val),l.area=0;(a=f.length)>0&&(r=f[a-1],!(r.depth>b));)l.push(r),l.area+=r.area,(i=s(l,p))<=h?(f.pop(),h=i):(l.area-=l.pop().area,o(l,p,u,!1),p=Math.min(u.dx,u.dy),l.length=l.area=0,h=1/0);l.length&&(o(l,p,u,!0),l.length=l.area=0),n.forEach(c)}}function u(t,e,n){for(var r=[t],i=[];t=r.pop();)if(i.push(t),n){var a;(a=t.parent)&&a.category&&r.push(a)}else{var s,o;if((s=t.children)&&(o=s.length))for(var c=-1;++c<o;)r.push(s[c])}for(;t=i.pop();)e(t)}function l(t){var e,n=[t],r=[];for(t.depth=0;e=n.pop();){r.push(e);var i,a,s;if((i=w.call(this,e))&&(a=i.length)){for(;--a>=0;)s=i[a],n.push(s),s.parent=e,s.depth=e.depth+1;M&&(e.value=0,e.val=0),e.children=i}else M&&(e.value=+M.call(this,e)||0,e.val=Math.abs(e.value)),delete e.children}return u(t,function(e){var n,r;if(A&&(n=e.children)&&n.sort(A),e.category&&(e.val=Math.abs(e.value)),M&&(r=e.parent)&&(r.val+=e.val,r.value+=e.value),e.category&&void 0===e.path&&(e.path=t.series,void 0===e.parents&&(e.parents=[]),u(e,function(t){t.category&&(e.path+="/"+t.series,e.parents.push(t))},!0)),void 0!==e.value&&(e.depth>0||void 0===e.children)){var i=+e.value;(i>=d||void 0===d)&&(d=i),(p>=i||void 0===p)&&(p=i),i>0&&(k+=i),0>i&&(z+=i)}}),r}function f(e){var n=h||l(e),r=n[0];return r.x=0,r.y=0,r.dx=v[0],r.dy=v[1],t([r],r.dx*r.dy/r.val),c(r),n}var h,p,d,m=Math.round,v=[1,1],y=null,g=i,x=1.618033988749895,b=1,z=0,k=0,A=e,w=n,M=r;return f.size=function(t){return arguments.length?(v=t,f):v},f.padding=function(t,e){function n(e,n){return a(e,t)}return arguments.length?(e=e||22,t=[e+t,t,t,t],g=n,f):y},f.sort=function(t){return arguments.length?(A=t,f):A},f.children=function(t){return arguments.length?(w=t,f):w},f.value=function(t){return arguments.length?(M=t,f):M},f.maxDepth=function(t){return arguments.length?(b=t,f):b},f.extent=function(){return[p,d]},f.total=function(){return[z,k]},f.nodes=f,f}function e(t,e){return t.val-e.val}function n(t){return t.children}function r(t){return t.value}function i(t,e){var n;return n=0===t.depth&&e>1?0:22,a(t,[n,0,0,0])}function a(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return 0>i&&(n+=i/2,i=0),0>a&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}return t}),t("cn/szse/chart/shapes/IPath",function(t){var e=function(){function t(t){return{x:function(t,n){return e(t,n)},y:function(t,e){return n(t,e)},stroke:function(t,e){return"function"==typeof r?r(t,e):"none"},fill:function(t,e){return"function"==typeof i?i(t,e):"none"},defined:function(t,e){return"function"==typeof a?a(t,e):""},interpolate:function(){return"function"==typeof s?s():null},animation:function(){return"function"==typeof o?o():!1},klass:function(t,e){return"function"==typeof c?c(t,e):"item"},type:function(t,e){return"function"==typeof u?u(t,e):0},get:function(){return t}}}var e,n,r,i,a,s,o,c,u;return t.x=function(n){return e=n,t},t.y=function(e){return n=e,t},t.stroke=function(e){return r=e,t},t.fill=function(e){return i=e,t},t.defined=function(e){return a=e,t},t.interpolate=function(e){return s=e,t},t.animation=function(e){return o=e,t},t.klass=function(e){return c=e,t},t.type=function(e){return u=e,t},t};return e}),t("cn/szse/chart/elements/IBreadcrumb",function(t){var e=function(){function t(t){return{get:function(){return t}}}return t};return e}),t("cn/szse/chart/utils/OrdinalScale",function(){function t(t,n){function r(t,e){a.band=e?!0:!1;var n=function(n){return e?a.map[n]/i*(t[1]-t[0])+e/i*(t[1]-t[0]):a.map[n]/(i-1||1)*(t[1]-t[0])};return n.rangeBand=function(){return e?(1-2*e)/i*(t[1]-t[0]):0},n.step=function(){return 1/(i-1||1)*(t[1]-t[0])},n.ticks=function(){return a},n}var i=t.length,a={size:i,values:[],map:{}},s=1;if(n===!0){var o=e([0,i-1]);s=o[2]}return t.forEach(function(t,e){a.map[t]=e,e%s===0&&a.values.push({tick:t,index:e})}),r}function e(t,e){e=e||10;var r=n(t),i=r[1]-r[0],a=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),s=e/i*a;return.15>=s?a*=10:.35>=s?a*=5:.75>=s&&(a*=2),r[0]=Math.ceil(r[0]/a)*a,r[1]=Math.floor(r[1]/a)*a+.5*a,r[2]=a,r}function n(t){var e=t[0],n=t[1];return n>e?[e,n]:[n,e]}return t}),t("cn/szse/chart/utils/LinearScale",function(){function t(t,n){function i(e,n,r){void 0===r&&o[0]>t[0]&&(o.splice(0,0,o[0]-c),a=o.length-1,o[a]<t[1]&&o.push(o[a]+c)),void 0===n&&(a=o.length-1,o[a]<t[1]&&(o.push(o[a]+c),0!==o[0]&&o.splice(0,0,o[0]-c)));var i=function(t){var n=(t-o[0])/(o[o.length-1]-o[0])*(e[1]-e[0]);return e[1]>e[0]?n:e[0]-e[1]+n};return i.ticks=function(){return{size:o.length,values:o.map(function(t,e){return{tick:(1e4*t).toFixed(0)/1e4,index:e}})}},i}var a,s=r(t,n||t[2]),o=e.apply(null,s),c=s[2];return i}function e(t,e,n){var r=[];for(t;e>=t;t+=n)r.push(t);return r}function n(t){var e=t[0],n=t[1];return e===n&&(0!==n?(e-=1,n+=1):(e=0,n=1)),n>e?[e,n]:[n,e]}function r(t,e){e=e||5;var r,i,a=n(t),s=a[1]-a[0],o=Math.pow(10,Math.floor(Math.log(s/e)/Math.LN10)),c=e/s*o;return.15>=c?o*=10:.35>=c?o*=5:.75>=c&&(o*=2),r=a[0]/o,i=a[1]/o,r=r>0?Math.ceil(r):Math.floor(r),i=Math.ceil(i),0>r&&(r=Math.abs(r),i=Math.abs(i),i>r?r=-i:(i=r,r=-i)),a[0]=r*o,a[1]=i*o,a[2]=o,a}return t}),t("cn/szse/chart/utils/IntraDayScale",function(){function t(t,r){function i(t,n,r){s.band=n?!0:!1;var i=function(e){return n?s.map[e]/a*(t[1]-t[0])+n/a*(t[1]-t[0]):s.map[e]/(a-1)*(t[1]-t[0])};return i.rangeBand=function(){return n?(1-2*n)/a*(t[1]-t[0]):0},i.ticks=function(){return e(s,r)},i}var a=t.length,s={size:a,values:[],map:{}},o=1;if(r===!0){var c=n([0,a-1]);o=c[2]}return t.forEach(function(t,e){s.map[t]=e,e%o===0&&s.values.push({tick:t,index:e})}),i}function e(t,e){var n=[];return t.values.forEach(function(t,e){e%60===0&&n.push({tick:t.tick,index:t.index})}),e===!0&&n.splice(0,1),{size:t.size,values:n,band:t.band}}function n(t,e){e=e||10;var n=r(t),i=n[1]-n[0],a=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),s=e/i*a;return.15>=s?a*=10:.35>=s?a*=5:.75>=s&&(a*=2),n[0]=Math.ceil(n[0]/a)*a,n[1]=Math.floor(n[1]/a)*a+.5*a,n[2]=a,n}function r(t){var e=t[0],n=t[1];return n>e?[e,n]:[n,e]}return t}),t("cn/szse/chart/utils/EventHandlers",function(t){var e={};return e.delegate=function(t,e){this.bindEvent(t,"click",function(t){var n=/\sitem\s/,r=t.target.getAttribute("class");n.test(" "+r+" ")===!0&&e.fire("item-click",t.target,t.target.__data__||{})})},e.bindEvent=function(t,e,n){t.addEventListener?t.addEventListener(e,this.callEvent(n),!1):t.attachEvent&&("input"===e&&(e="propertychange"),t.attachEvent("on"+e,this.callEvent(n)))},e.callEvent=function(t){return function(e){e=e||window.event,e.target=e.target||e.toElement||e.relatedTarget||e.srcElement,t.call(this,e)}},e}),t("cn/szse/chart/elements/IAxis",function(t){var e=function(){function t(t){return{type:function(){return e()},left:function(){return"function"==typeof r?r():0},top:function(){return"function"==typeof i?i():0},width:function(t,e){return a()},rotate:function(t,e){return"function"==typeof l?l():!1},height:function(t,e){return s()},fill:function(t,e){return"function"==typeof f?f(t,e):"#acadb5"},tick:function(t,e){return n(t,e)},label:function(t,e){return"function"==typeof u?u():""},enable:function(){return"function"==typeof c&&c()===!1?!1:!0},animation:function(){return"function"==typeof o?o():!1},klass:function(){return"function"==typeof h?h():""},data:function(e,n){return t}}}var e,n,r,i,a,s,o,c,u,l,f,h;return t.type=function(n){return e=n,t},t.left=function(e){return r=e,t},t.fill=function(e){return f=e,t},t.top=function(e){return i=e,t},t.rotate=function(e){return l=e,t},t.width=function(e){return a=e,t},t.height=function(e){return s=e,t},t.label=function(e){return u=e,t},t.enable=function(e){return c=e,t},t.tick=function(e){return n=e,t},t.animation=function(e){return o=e,t},t.klass=function(e){return h=e,t},t};return e}),t("cn/szse/chart/shapes/IRect",function(){var t=function(){function t(t){return{left:function(t){return e(t)},top:function(t){return n(t)},width:function(t){return r(t)},height:function(t){return i(t)},minHeight:function(t){return"function"==typeof a?a(t):!0},stroke:function(t,e){return"function"==typeof s?s(t,e):""},fill:function(t,e){return"function"==typeof o?o(t,e):""},category:function(t,e){return"function"==typeof u?u(t,e):""},series:function(t,e){return"function"==typeof c?c(t,e):""},animation:function(){return"function"==typeof l?l():!1},klass:function(){return"function"==typeof f?f():""},xtype:function(){return"function"==typeof h?h():"left"},ytype:function(){return"function"==typeof p?p():"bottom"},xtop:function(){return"function"==typeof d?d():0},xwidth:function(){return"function"==typeof m?m():t.opts.width},xreverse:function(){return"function"==typeof v?v():!1},yreverse:function(){return"function"==typeof y?y():!1},transform:function(t){return"function"==typeof g?g(t):[-1e4,-1e4]},label:function(t){return"function"==typeof x?x(t):!1},get:function(){return t}}}var e,n,r,i,a,s,o,c,u,l,f,h,p,d,m,v,y,g,x;return t.left=function(n){return e=n,t},t.top=function(e){return n=e,t},t.width=function(e){return r=e,t},t.height=function(e){return i=e,t},t.minHeight=function(e){return a=e,t},t.stroke=function(e){return s=e,t},t.fill=function(e){return o=e,t},t.series=function(e){return c=e,t},t.category=function(e){return u=e,t},t.animation=function(e){return l=e,
t},t.klass=function(e){return f=e,t},t.xtype=function(e){return h=e,t},t.ytype=function(e){return p=e,t},t.xtop=function(e){return d=e,t},t.xwidth=function(e){return m=e,t},t.xreverse=function(e){return v=e,t},t.yreverse=function(e){return y=e,t},t.transform=function(e){return g=e,t},t.label=function(e){return x=e,t},t};return t}),t("cn/szse/chart/shapes/IPolyLine",function(t){var e=function(){function t(t){return{stroke:function(t,n){return"function"==typeof e?e(t,n):""},fill:function(t,e){return"function"==typeof n?n(t,e):""},category:function(t,e){return"function"==typeof r?r(t,e):""},series:function(t,e){return"function"==typeof i?i(t,e):""},animation:function(){return"function"==typeof a?a():!1},delay:function(){return s?"function"==typeof s?s():s:0},polyLine:function(t){return o(t)},points:function(t,e){return"function"==typeof c?c(t,e):""},transform:function(t,e){return"function"==typeof u?u(t,e):""},data:function(){return t}}}var e,n,r,i,a,s,o,c,u;return t.stroke=function(n){return e=n,t},t.fill=function(e){return n=e,t},t.category=function(e){return r=e,t},t.series=function(e){return i=e,t},t.animation=function(e){return a=e,t},t.delay=function(e){return s=e,t},t.polyLine=function(e){return o=e,t},t.points=function(e){return c=e,t},t.transform=function(e){return u=e,t},t};return e}),t("cn/szse/chart/shapes/IPolygon",function(t){var e=function(){function t(t){return{category:function(t,e){return"function"==typeof c?c(t,e):""},series:function(t,e){return"function"==typeof o?o(t,e):""},fill:function(t,n){return"function"==typeof e?e(t,n):"none"},points:function(t,e){return"function"==typeof s?s(t,e):""},stroke:function(t,e){return"function"==typeof n?n(t,e):"#bbb"},delay:function(){return r?"function"==typeof r?r():r:0},animation:function(t,e){return"function"==typeof i?i(t,e):!1},transform:function(t,e){return"function"==typeof a?a(t,e):""},get:function(){return t}}}var e,n,r,i,a,s,o,c;return t.fill=function(n){return e=n,t},t.points=function(e){return s=e,t},t.stroke=function(e){return n=e,t},t.delay=function(e){return r=e,t},t.animation=function(e){return i=e,t},t.transform=function(e){return a=e,t},t.category=function(e){return c=e,t},t.series=function(e){return o=e,t},t};return e}),t("cn/szse/chart/shapes/impl/Label",function(t){function e(t,e,n){var r=e.get(),i=r.store,a=e.animation(),s=500,o=t.selectAll("text.item").data(i.data()),c=o.enter().append("text").attr("class","item").attr("dx",function(t,n){return r.dx?r.dx:e.dx(t,n)}).attr("dy",function(t,n){return r.dy?r.dy:e.dy(t,n)}).attr("data-series",function(t,n){return e.series(t,n)}).style("fill",function(t,n){return e.fill(t,n)}).classed("max",function(t){return t.max?!0:void 0}).classed("min",function(t){return t.min?!0:void 0}).attr("transform",function(t,n){return e.transform(t,n)});a===!0?void 0===n.state.label?(c.attr("opacity",0).transition().duration(400).delay(e.delay()).attr("opacity",1).style("text-anchor",function(t){return e.anchor(t)}).text(function(t){return e.label().text(t)}),n.state.label=!0):o.transition().duration(s).attr("transform",function(t,n){return e.transform(t,n)}).style("text-anchor",function(t){return e.anchor(t)}).text(function(t){return e.label().text(t)}):o.attr("transform",function(t,n){return e.transform(t,n)}).style("text-anchor",function(t){return e.anchor(t)}).text(function(t){return e.label().text(t)}),o.exit().remove()}t("d3"),t("cn/szse/chart/utils/Utils");return e}),t("cn/szse/chart/utils/TimeScale",function(t){function e(t,e){function r(t,e,r){s.band=e?!0:!1;var a=function(n){return e?s.map[n]/i*(t[1]-t[0])+e/i*(t[1]-t[0]):s.map[n]/(i-1)*(t[1]-t[0])};return a.rangeBand=function(){return e?(1-2*e)/i*(t[1]-t[0]):0},a.ticks=function(){return n(s,r)},a}var i=t.length,s={size:i,values:[],map:{}},o=1;if(e===!0){var c=a([0,i-1]);o=c[2]}return t.forEach(function(t,e){s.map[t]=e,e%o===0&&s.values.push({tick:t,index:e})}),r}function n(t,e){var n,a,s,o,c={},u=[],l=t.values.length-1;try{n=new Date(t.values[0].tick.replace("-","/")),a=new Date(t.values[l].tick.replace("-","/")),s=a.getTime()-n.getTime()}catch(f){s=26784e5}if(216e5>s){var h={"09:30:00":"09:30","10:00:00":"10:00","10:30:00":"10:30","11:00:00":"11:00","11:29:00":"13:00","13:30:00":"13:30","14:00:00":"14:00","14:30:00":"14:30","15:00:00":"15:00"};t.values.forEach(function(t){var e=i(t);h[e]&&(c[e]=1,u.push({tick:h[e],index:t.index}))}),60>=l&&l>30?(o=t.values.filter(function(t,e){return e%5===0}),u=r(o)):30>=l&&(o=t.values.filter(function(t,e){return e%2===1}),u=r(o))}else 26784e5>s?t.values.forEach(function(t){var e=new Date(t.tick.replace("-","/")),n=e.getFullYear()+"/"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"/"+(e.getDate()<10?"0"+e.getDate():e.getDate());c[n]||(c[n]=1,u.push({tick:n,index:t.index}))}):t.values.forEach(function(t){var e=new Date(t.tick.replace("-","/")),n=e.getFullYear()+"/"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1);c[n]||(c[n]=1,u.push({tick:n,index:t.index}))});return e===!0&&u.splice(0,1),{size:t.size,values:u,band:t.band}}function r(t){return t.map(function(t,e){return{tick:i(t,"HH:mm"),index:t.index}})}function i(t,e){var n=new Date(t.tick.replace("-","/"));return e=e||"HH:mm:ss",o.timeFormat(n,e)}function a(t,e){e=e||10;var n=s(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),a=e/r*i;return.15>=a?i*=10:.35>=a?i*=5:.75>=a&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function s(t){var e=t[0],n=t[1];return n>e?[e,n]:[n,e]}var o=t("cn/szse/chart/utils/Utils");return e}),t("cn/szse/chart/shapes/impl/Symbol",function(t){function e(t,e,r){var i=e.get(),a=i.store,s=e.animation(),o=500,c=(n(r.context.node()),t.selectAll("path.item").data(a.data())),u=c.enter().append("path").attr("class",function(t,n){return e.klass(t,n)}).style("fill-opacity",function(t,n){return t.depth?t.depth:e.opacity(t,n)}).attr("data-category",function(t,n){return e.category(t,n)}).attr("data-series",function(t,n){return e.series(t,n)}).attr("transform",function(t){var n=e.x(t),r=isNaN(e.y(t))?-1e4:e.y(t);return"translate("+n+","+r+")"}).style("display",function(t,e){return"undefined"==typeof t.hidden||t.hidden?"block":"none"});c.classed("max",function(t){return t.max?!0:!1}).classed("min",function(t){return t.min?!0:!1}).attr("d",function(t,n){return e.icon(t)}),s===!0?void 0===r.state.symbol?(u.attr("opacity",0).transition().duration(400).delay(e.delay()).attr("opacity",1).style("stroke",function(t,n){return e.fill(t,n)}).style("fill",function(t,n){return e.fill(t,n)}),setTimeout(function(){r.state.symbolready=!0},e.delay()),r.state.symbol=!0):c.transition().duration(o).attr("opacity",1).attr("transform",function(t){var n=e.x(t),r=isNaN(e.y(t))?-1e4:e.y(t);return"translate("+n+","+r+")"}).style("stroke",function(t,n){return e.fill(t,n)}).style("fill",function(t,n){return e.fill(t,n)}):c.attr("transform",function(t){var n=e.x(t),r=isNaN(e.y(t))?-1e4:e.y(t);return"translate("+n+","+r+")"}).style("stroke",function(t,n){return e.fill(t,n)}).style("fill",function(t,n){return e.fill(t,n)}),c.exit().remove(),c.on("mouseover",function(t,e){return s===!0&&void 0===r.state.symbolready?!1:void r.fire("symbol-mouseover",{element:this,data:t,index:e})}).on("mousemove",function(t,e){return s===!0&&void 0===r.state.symbolready?!1:void r.fire("symbol-mousemove",{element:this,data:t,index:e})}).on("mouseout",function(t){return s===!0&&void 0===r.state.symbolready?!1:void r.fire("symbol-mouseout")})}var n=(t("d3"),t("jQuery"));t("cn/szse/chart/utils/Utils");return e}),t("cn/szse/chart/elements/ISlice",function(t){t("cn/szse/chart/utils/Utils");return function(){function t(t){return{animation:function(){return e()},label:function(){return n()},series:function(t){return a(t)},category:function(t){return s(t)},stroke:function(t,e){return"function"==typeof r?r(t,e):""},fill:function(t,e){return"function"==typeof i?i(t,e):""},data:function(){return t}}}var e,n,r,i,a,s;return t.animation=function(n){return e=n,t},t.stroke=function(e){return r=e,t},t.fill=function(e){return i=e,t},t.label=function(e){return n=e,t},t.series=function(e){return a=e,t},t.category=function(e){return s=e,t},t}}),t("cn/szse/chart/shapes/impl/Subine",function(t){function e(t){var e=t.selectAll("line.mouse-line-y").data(["mouse-line"]);e.enter().append("line").attr("class","mouse-line-y").attr("x1",function(){return 0}).attr("x2",function(){return map.opts.width}).attr("transform",function(){return"translate(0, -1000)"}),e.exit().remove()}t("cn/szse/chart/utils/Utils");return e}),t("cn/szse/chart/shapes/impl/Rect",function(t){function e(t,e,n){var r=e.get(),i=r.store,a=i.data(),s=[],o=["Bar","Mixed"],c=["HBar"],u=o.concat(c),l=t.selectAll("rect.item").data(a),f=l.enter().append("rect");l.attr("class",function(t){return"item"}).attr("data-series",function(t){return t.series}).attr("data-category",function(t){return t.category}).style("fill",function(t,n){return e.fill(t,n)}).on("mousemove",function(t){n.fire("item-mouseover",t)}).on("mouseout",function(t){n.fire("item-mouseout")}).on("click",function(t,r){n.fire("item-click",{element:this,dataset:e,data:t,index:r})}),e.animation()===!0?(u.indexOf(r.opts.sType)>-1?f.attr("height",function(){return 0}).attr("transform",function(t,n){return"translate("+e.left(t,n)+","+(e.top(t,n)+e.height(t,n))+")"}):f.attr("transform",function(t,n){return"translate("+e.left(t,n)+","+e.top(t,n)+")"}),l.transition().duration(500).attr({width:function(t,n){var i=e.width(t,n);return 6>i&&c.indexOf(r.opts.sType)>-1&&s.push(t),0>i&&(i=0),i},height:function(t,n){var i=e.height(t,n);return 6>i&&o.indexOf(r.opts.sType)>-1&&s.push(t),e.minHeight()&&1>i?1:i},transform:function(t,n){return"translate("+e.left(t,n)+","+e.top(t,n)+")"}})):l.attr({width:function(t,n){var i=e.width(t,n);return 6>i&&c.indexOf(r.opts.sType)>-1&&s.push(t),0>i&&(i=0),i},height:function(t,n){var i=e.height(t,n);return 6>i&&o.indexOf(r.opts.sType)>-1&&s.push(t),e.minHeight()&&1>i?1:i},transform:function(t,n){return"translate("+e.left(t,n)+","+e.top(t,n)+")"},"fill-opacity":function(t){return t.opacity}}),l.exit().remove();var h=t.selectAll("rect.short-item").data(s);h.enter().append("rect");h.attr({"class":"short-item",width:function(t,n){var i=e.width(t,n);return c.indexOf(r.opts.sType)>-1?i+10:i},height:function(t,n){var i=e.height(t,n);return o.indexOf(r.opts.sType)>-1?i+10:i},transform:function(t,n){return o.indexOf(r.opts.sType)>-1?"translate("+e.left(t,n)+","+(e.top(t,n)-e.height(t,n)-10)+")":"translate("+(e.left(t,n)+e.width(t,n))+","+e.top(t,n)+")"}}).style("fill-opacity",0).on("mousemove",function(t){n.fire("item-mouseover",t)}).on("mouseout",function(t){n.fire("item-mouseout")}).on("click",function(t,r){n.fire("item-click",{element:this,dataset:e,data:t,index:r})}),h.exit().remove()}t("cn/szse/chart/utils/Utils");return e}),t("cn/szse/chart/shapes/impl/PolyLine",function(t){function e(t,e,n){var r=e.data(),i=e.animation(),a=500,s=t.selectAll("polyline.polyline").data(r),o=s.enter().append("polyline").attr("class","polyline");s.attr("data-series",function(t,n){return e.series(t,n)}).attr("data-category",function(t,n){return e.category(t,n)}).attr("fill",e.fill).attr("stroke",e.stroke),s.exit().remove(),i===!0?void 0===n.state.polyline?(o.attr("opacity",0).transition().duration(400).delay(e.delay()).attr("opacity",.3).attr("transform",function(t,n){return e.transform(t,n)}).attr("points",function(t,n){return e.points(t,n)}),n.state.polyline=!0):s.transition().duration(a).attr("transform",function(t,n){return e.transform(t,n)}).attr("points",function(t,n){return e.points(t,n)}):s.attr("points",function(t,n){return e.points(t,n)}).attr("opacity",.3).attr("transform",function(t,n){return e.transform(t,n)})}t("d3"),t("cn/szse/chart/utils/Utils");return e}),t("cn/szse/chart/shapes/impl/Polygon",function(t){function e(t,e,n){var r=e.get(),i=e.animation(),a=500,s=t.selectAll("polygon.item").data(r);s.enter().append("polygon").attr("class","item").attr("data-series",e.series).attr("data-category",e.category).on("mouseover",function(t){n.fire("polygon-mouseover",t)}).on("mouseout",function(t){n.fire("polygon-mouseout",t)}),s.exit().remove(),i===!0?void 0===n.state.polygon?(s.attr("opacity",0).transition().duration(400).delay(e.delay()).attr("stroke",e.stroke).attr("fill",e.fill).attr("opacity",e.opacity).attr("points",e.points),n.state.polygon=!0):s.transition().duration(a).attr("stroke",e.stroke).attr("fill",e.fill).attr("points",e.points):s.attr("points",e.points).attr("stroke",e.stroke).attr("fill",e.fill)}t("cn/szse/chart/utils/Utils");return e}),t("cn/szse/chart/shapes/impl/Path",function(t){function e(t,e){return t.series}function n(t){var e=i.svg.line().defined(function(e){return!isNaN(t.defined(e))}).x(function(e,n){return t.x(e)}).y(function(e,n){return t.y(e)});return"function"==typeof t.interpolate&&t.interpolate()===!0&&e.interpolate("monotone"),e}function r(t,r,s){var o=r.get(),c=o.store,u=c.data(),l=n(r),f=a.cluster(u,e),h=t.selectAll("path.item").data(f),p=h.enter().append("path").attr("class",function(t,e){return r.klass(t,e)}).style("stroke-dasharray",function(t,e){return r.type(t,e)});if(h.style("stroke",function(t,e){return r.stroke(t,e)}).attr("data-series",function(t,e){return t.series}).style("stroke-opacity",function(t){return t.depth}),r.animation()===!0)if(void 0===s.state.line){var d=["Line","Mixed"];d.Line=1e3,d.Mixed=500,p.transition().duration(function(){return d.indexOf(o.opts.sType)>-1?d[o.opts.sType]:400}).delay(function(t,e){return d.indexOf(o.opts.sType)>-1?200*e:400*e}).attrTween("d",function(t){var e=t.values.map(function(t){return{value:void 0!==t.value?Math.max(Math.floor(c.extent()[0]),0):void 0,stack:t.stack}}),n=i.interpolate(e,t.values);return function(t){return l(n(t))}}),s.state.line=!0}else h.transition().duration(500).attr("d",function(t,e){return l(t.values)});else h.attr("d",function(t,e){return l(t.values)});h.exit().remove()}var i=t("d3"),a=t("cn/szse/chart/utils/Utils");return r}),t("cn/szse/chart/shapes/impl/Marker",function(t){function e(t,e){return r.uid()}function n(t,r,i,a){var s=t.selectAll("g.marker").data(r,e);s.enter().append("g").attr("class","marker").attr("title",function(t){return t.data.message}).attr("transform",function(t){return"translate("+[t.x,t.y]+")"}),s.append("polyline").attr("points",function(){var t=0,e=[[t,0],[t+2,-15],[t+15,-15],[t+13,-5],[t+2,-5]];return e}),s.append("text").text(function(t){return t.data.icon||t.data.message.substr(0,1)}),s.append("circle").attr("r",2),s.on("mouseenter",function(t){var e=t.x+i.opts.left+20+"px",r=t.y+i.opts.left/2+"px";n.tips||(n.tips=a.context.append("div").attr("class","s-marker-tips").style("position","absolute")),n.tips.style({display:"block",left:e,top:r}).text(t.data.message)}).on("mouseleave",function(){n.tips.style("display","none")}),s.exit().remove()}var r=t("cn/szse/chart/utils/Utils");return n}),t("cn/szse/chart/elements/impl/Tips",function(t){function e(t){var e=t.selectAll("div.s-chart-tips").data(["s-tips-uid"],function(t){return t});e.enter().append("div").attr("class","s-chart-tips"),e.exit().remove()}t("cn/szse/chart/utils/Utils");return e}),t("cn/szse/chart/shapes/impl/Map",function(t){function e(t,e,a){var s=e.get(),o=s.store,c=o.mapdata(),u=a.state,l=500,f=o.getPath(o.getProjection()),h=t.selectAll(".item").data(c.features);h.enter().append("path").attr({"class":"item",stroke:e.stroke,"stroke-width":.5,"data-category":function(t){return t.properties.name}}),h.on("click",function(r,i){var s=r.properties.id,o=(r.properties.name,c.cityInterval[s]),l=c.cities.slice(o[0],o[1]),f=c.provinceInfoMap[s];u.provinceId=s,u.cities=l,u.provinceInfoMap=f,n(t,e,u.provinceId,u.cities,u.provinceInfoMap,a),a.fire("province-click",t)}).on("mouseover",function(t,e){var n=i.select(this),s=r(n,t);a.fire("item-mouseover",s)}).on("mousemove",function(t,e){var n=i.select(this),s=r(n,t);a.fire("item-mouseover",s)}).on("mouseout",function(t,e){a.fire("item-mouseout")}),e.animation()===!0?h.transition().duration(l).attr({d:f}):h.attr({d:f}),h.exit().remove(),u.cities&&n(t,e,u.provinceId,u.cities,u.provinceInfoMap,a)}function n(t,e,n,a,s,o){var c=e.get(),u=c.store,l=500,f=u.getChildProjection(),h=f(c.opts,s),p=u.getPath(h),d=o.context.select("g.s-chart-"+c.opts.sType.toLowerCase()),m=d.selectAll("g.items-city").data(["items-city"]);m.enter().insert("g").attr("class","items-city"),m.exit().remove();var v=m.selectAll("path.item").data(a);v.enter().append("path").attr({"class":"item",stroke:e.stroke,"stroke-width":.5,"data-category":function(t){return t.properties.name}}),v.on("click",function(n,r){o.fire("map-root",e),o.fire("city-click",t),o.state.cities=null}).on("mouseover",function(t,e){var n=i.select(this),a=r(n,t);o.fire("item-mouseover",a)}).on("mousemove",function(t,e){var n=i.select(this),a=r(n,t);o.fire("item-mouseover",a)}).on("mouseout",function(t,e){o.fire("item-mouseout")}),e.animation()===!0?v.transition().duration(l).attr({d:p}):v.attr({d:p}),v.exit().remove(),o.fire("map-fetch",u.data(),n,a,h,p)}function r(t,e){return{category:e.properties.name,series:t.attr("data-series"),number:t.attr("data-number"),value:t.attr("value")}}var i=t("d3");t("cn/szse/chart/utils/Utils");return e}),t("cn/szse/chart/shapes/impl/Line",function(t){function e(t,e,n){var r=e.get(),i=t.selectAll("line.line").data(r);i.enter().append("line").attr("class","line").attr("x1",function(t,n){return e.x1(t,n)}).attr("y1",function(t,n){return e.y1(t,n)}).attr("x2",function(t,n){return e.x2(t,n)}).attr("y2",function(t,n){return e.y2(t,n)}).attr("stroke",function(t,n){return e.stroke(t,n)}).attr("transform",function(t,n){return e.transform(t,n)}).style("stroke-opacity","0.75").style("stroke-width","1px"),i.exit().remove()}t("cn/szse/chart/utils/Utils");return e}),t("cn/szse/chart/shapes/impl/LabelClip",function(t){function e(t,e,r){var i=e.get(),a=i.store,s=e.animation(),o=500,c=t.selectAll("g.item").data(a.data());c.enter().append("g").attr("class","item"),c.attr("clip-path",function(t,n){return e.clippath(t,n)}).each(function(t){var a=n.select(this),c=a.selectAll("text.item").data([t]),u=c.enter().append("text").attr("class","item").attr("dx",function(t,n){return i.dx?i.dx:e.dx(t,n)}).attr("dy",function(t,n){return i.dy?i.dy:e.dy(t,n)}).attr("data-series",function(t,n){return e.series(t,n)}).style("fill",function(t,n){return e.fill(t,n)}).classed("max",function(t){return t.max?!0:void 0}).classed("min",function(t){return t.min?!0:void 0}).attr("transform",function(t,n){return e.transform(t,n)});s===!0?void 0===r.state.label?(u.attr("opacity",0).transition().duration(400).delay(e.delay()).attr("opacity",1).style("text-anchor",function(t){return e.anchor(t)}).text(function(t){return e.label().text(t)}),r.state.label=!0):c.transition().duration(o).attr("transform",function(t,n){return e.transform(t,n)}).style("text-anchor",function(t){return e.anchor(t)}).text(function(t){return e.label().text(t)}):c.attr("transform",function(t,n){return e.transform(t,n)}).style("text-anchor",function(t){return e.anchor(t)}).text(function(t){return e.label().text(t)}),c.exit().remove()}),c.exit().remove()}var n=t("d3");t("cn/szse/chart/utils/Utils");return e}),t("cn/szse/chart/shapes/impl/Volume",function(t){function e(t,e){var n=e.get(),r=n.store,i=r.data(),a=t.selectAll("rect.item").data(i);a.enter().append("rect").attr("class",function(t){return"item"}).attr("data-category",function(t){return t.category}).attr("height",function(){return 0}).attr("transform",function(t,n){return"translate("+e.left(t,n)+","+(e.top(t,n)+e.height(t,n))+")"}),a.attr({"data-series":function(t){return t.series},width:function(t,n){return e.width(t,n)},height:function(t,n){return e.height(t,n)},transform:function(t,n){return"translate("+e.left(t,n)+","+e.top(t,n)+")"}}).style("fill",function(t,n){return e.fill(t,n)}),a.exit().remove()}t("cn/szse/chart/utils/Utils");return e}),t("cn/szse/chart/elements/impl/Loader",function(t){function e(t){var e=t.selectAll("span.s-chart-loader").data(["s-loader-uid"],function(t){return t});e.enter().append("span").attr("class","s-chart-loader"),e.selectAll("span").data([1,2,3,4,5]).enter().append("span"),e.exit().remove()}t("cn/szse/chart/utils/Utils");return e}),t("cn/szse/chart/shapes/impl/ClipPath",function(t){function e(t,e,r){var i=e.get(),a=i.store,s=a.data(),o=r.context.node().getAttribute("id"),c=t.selectAll("defs").data(["defs"]);c.enter().append("defs"),c.exit().remove();var u=c.selectAll(".item").data(s);u.enter().append("clipPath"),u.attr("class",function(t){return"item"}).attr("id",function(t,e){return o+"-clippath-"+(e+1)}),u.each(function(t){var r=n.select(this),i=r.selectAll("rect").data([t]);i.enter().append("rect"),i.attr({width:function(t,n){return e.width(t,n)},height:function(t,n){return e.height(t,n)},transform:function(t,n){return"translate("+e.left(t,n)+","+e.top(t,n)+")"}}),i.exit().remove()}),u.exit().remove()}var n=t("d3");t("cn/szse/chart/utils/Utils");return e}),t("cn/szse/chart/shapes/impl/Circle",function(t){function e(t,e){var n=(e.get(),t.selectAll("g.items-circle").data(["items-circle"]));n.enter().append("g").attr("class","items-circle"),n.exit().remove();var r=n.selectAll("circle.item").data(data);r.enter().append("circle").attr("class","item").attr("transform",function(t,e){var n=[t.x,t.y];return"translate("+n+")"}).attr("fill",function(t,e){return colors(e)}).attr("r",function(){return Math.ceil(8*Math.random()+5)}),r.transition().duration(500).attr("r",function(){return Math.ceil(8*Math.random()+5)}).attr("transform",function(t,e){var n=[t.x,t.y];return"translate("+n+")"}),r.exit().remove()}t("cn/szse/chart/utils/Utils");return e}),t("cn/szse/chart/shapes/impl/Candlestick",function(t){function e(t,e){var r=e.get(),i=t.selectAll("path.item").data(r.store.data);i.enter().append("path").attr("data-series",function(t,e){return t.series||""}).attr("data-category",function(t,e){return t.time}),i.attr("class",function(t){return"item "+(t.open<t.close?"rise":"fall")}).attr("d",function(t,r){return n(e,t,r)}),i.exit().remove()}function n(t,e,n){var r=t.values(e),i=r.high,a=r.open,s=r.close,o=r.low,c=t.left(e),u=Math.floor(t.width(e));u=u%2===0?u:u>1?u-1:0;var l=.5*u;return["M"+Math.floor(c+l),i,"L"+Math.floor(c+l),a,Math.floor(c),a,Math.floor(c),s,Math.floor(c+l),s,Math.floor(c+l),o,"M"+Math.floor(c+l),s,Math.floor(c+u),s,Math.floor(c+u),a,Math.floor(c+l),a].join(" ")}t("cn/szse/chart/utils/Utils");return e}),t("cn/szse/chart/shapes/impl/Area",function(t){function e(t,e){return t.series}function n(t){var e=(t.get(),i.svg.area().defined(function(e,n){return t.defined(e,n)}).x(function(e,n){return t.x(e)}).y0(function(e,n){return t.y0(e)}).y1(function(e,n){return t.y1(e)}));if("function"==typeof t.interpolate){var n=t.interpolate();n===!0&&e.interpolate("monotone")}return e}function r(t,r,s){var o=r.get(),c=o.store,u=n(r),l=a.cluster(c.data(),e),f=r.animation(),h=500,p=t.selectAll("path.item").data(l),d=p.enter().append("path").attr("class",function(t){return r.klass(t)});p.style("fill",function(t){return r.fill(t,c.getIndex(t.series))}).attr("data-series",function(t,e){return r.series(t,e)}),f===!0?void 0===s.state.area?(d.transition().duration(400).delay(function(t,e){return 400*e}).attrTween("d",function(t){var e=t.values.map(function(t){return{value:"StackArea"===o.opts.sType?void 0!==t.value?0:void 0:c.extent()[0],stack:t.stack}}),n=i.interpolate(e,t.values);return function(t){return u(n(t))}}),s.state.area=!0):p.transition().duration(h).attr("d",function(t,e){return u(t.values)}):p.attr("d",function(t,e){return u(t.values)}),p.exit().remove()}var i=t("d3"),a=t("cn/szse/chart/utils/Utils");return r}),t("cn/szse/chart/shapes/impl/ArcSlider",function(t){function e(t,e,s){var o=e.get(),c=o.store.data()[0].value,f=o.store.data()[0].series,h=e.outerRadius(),p=500,d=.9,m=a(o.x),v=i(o.x.range()),y=t.selectAll("g.item-arc").data(["item-arc"]);y.enter().append("g").attr("class","item-arc"),y.attr("transform","translate("+(o.opts.width/2+3*o.opts.left/4)+","+(o.opts.height/2+o.opts.left)+")"),y.exit().remove();var g=y.selectAll("path.lane").data(["arc-lane"]);g.enter().append("path").attr({"class":"lane",d:u.svg.arc().startAngle(v[0]).endAngle(v[1]).innerRadius(d*h).outerRadius(h)}),g.exit().remove();var x=y.selectAll("path.cursor").data(["arc-cursor"]),b=u.svg.arc().startAngle(m[0]).endAngle(m[1]).innerRadius(d*h).outerRadius(h);x.enter().append("path").attr({"class":"cursor",d:b}),x.exit().remove();var z=t.selectAll("g.item-caption").data(["item-caption"]);z.enter().append("g"),z.attr("class","item-caption").attr("transform","translate("+(o.opts.width/2+3*o.opts.left/4)+","+(o.opts.height/2+h/8)+")"),z.exit().remove();var k=z.selectAll("text").data(["item-serie"]);k.enter().append("text").attr("class","unselectable"),k.text(function(){return f}).attr("text-anchor","middle"),k.exit().remove();var A=t.selectAll("g.item-label").data(["item-label"]);A.enter().append("g"),A.attr("class",function(){return e.klass(c,"item-label")}).attr("transform","translate("+(o.opts.width/2+3*o.opts.left/4)+","+(o.opts.height/2+o.opts.left+2*h/5)+")"),A.exit().remove();var w=A.selectAll("text").data(["item-text"]);w.enter().append("text").attr("class","unselectable"),w.text(function(){return e.label(c)}).attr("text-anchor","middle"),w.exit().remove();var M=t.selectAll("g.item-indicator").data(["item-indicator"]);M.enter().append("g"),M.attr("class",function(){return e.klass(c,"item-indicator")}).attr("transform","translate("+(o.opts.width/2+3*o.opts.left/4)+","+(o.opts.height/2+o.opts.left)+")"),M.exit().remove();var E=M.selectAll("g.item-pointer").data(["item-pointer"]);E.enter().append("g").attr({"class":"item-pointer",transform:"rotate("+180*m[0]/l+")"}),E.call(r,h,p),E.exit().remove(),n(b,x,E,o,m,p)}function n(t,e,n,r,i,a){var u=r.store.data()[0].value,f=s(r.x,u),h="undefined"==typeof c||isNaN(c)?i[0]:c;e.transition().duration(a).attrTween("d",function(){return function(e){return c=h+(f-h)*e,o=r.x.invert(c),c>i[1]&&(c=i[1]),n.attr("transform","rotate("+180*c/l+")"),t.endAngle(c)()}})}function r(t,e,n){var r=t.selectAll("path").data(["indicator-path"]);r.enter().append("path"),r.attr("d","M0 "+.2*e+" L -5 10  L 0 "+-.86*e+" L 5 10 L 0 "+.2*e),r.exit().remove()}function i(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function a(t){var e=i(t.range()),n=t.range();return n[0]<n[n.length-1]?[e[0],e[1]]:[e[1],e[0]]}function s(t,e){var n=t(e);return n=isNaN(n)?a(t)[0]:n}var o,c,u=t("d3"),l=(t("cn/szse/chart/utils/Utils"),3.141592653589793);return e}),t("cn/szse/chart/shapes/impl/Arc",function(t){function e(t,e,i){var a=e.animation(),s=e.delay(),o=t.selectAll("path.segments").data(e.data());o.enter().append("path").attr("class","segments").style("stroke",function(t){return t.stroke}).attr("data-series",function(t,n){return e.series(t,n)}).attr("data-category",function(t,n){return e.category(t,n)}).on("click",function(t,e){i.fire("arc-click",t,e,this)}).on("mouseover",function(t){i.fire("arc-mouseover",t),i.fire("item-mouseover",t)}).on("mouseout",function(t){i.fire("arc-mouseout",t),i.fire("item-mouseout",t)}),o.style("fill",function(t){return t.fill}),o.exit().remove(),a?o.transition().duration(s).ease("linear").attrTween("d",function(t){var e=this._current_;e||(e={startAngle:0,endAngle:0});var i=n.interpolate(e,t);return this._current_=i(1),function(t){return r(i(t))}}).attr("transform",function(t,n){return e.transform(t,n)}):o.attr("d",function(t){return r(t)}).attr("transform",function(t,n){return e.transform(t,n)})}var n=t("d3"),r=(t("cn/szse/chart/utils/Utils"),n.svg.arc());return e}),t("cn/szse/chart/elements/impl/LegendGradient",function(t){function e(t,e,r){var i=t.selectAll("div.s-chart-legend-gradient").data(["s-chart-legend-gradient"]);i.enter().append("div").attr("class","s-chart-legend-gradient ");var a=i.selectAll(".item-gradient").data(e);a.enter().append("div").attr("class","item-gradient"),a.style("background-image",function(t){return"-webkit-linear-gradient(left, "+t.fillFrom+", "+t.fillTo+")"}).style("background-image",function(t){return"-moz-linear-gradient(left, "+t.fillFrom+", "+t.fillTo+")"}),a.exit().remove(),a.each(function(t,e){var r=n.select(this),i=r.selectAll(".item-label").data([t,{from:0,index:e}]);i.enter().append("span").attr("class",function(t,e){return t.from<0?"item-label item-label-left":1==t.index?"item-label item-label-left":"item-label item-label-right"}),i.text(function(t){return t.from<0?void 0===t.index?Math.ceil(100*Math.abs(t.from))+"%":0:void 0===t.index?Math.floor(100*Math.abs(t.from))+"%":0}),i.exit().remove()})}var n=t("d3");t("cn/szse/chart/utils/Utils"),n.scale.category10();return e}),t("cn/szse/chart/elements/impl/Legend",function(t){function e(t,e){return a.uid()}function n(t,e){switch(t){case"bottom-left":return"0 0 0 "+e+"px";case"bottom-right":return"0 "+e+"px 0 ";case"bottom-center":return"0 "+e+"px 0";default:return"0px"}}function r(t,r,a,c){var u=r.location||"bottom-center",l=r.action||!1,f=r.start||45,h=t.selectAll("div.s-chart-legend").data(["s-chart-legend"],function(t){return t});h.enter().append("div").attr("class","s-chart-legend "+u).style("padding",function(){return n(u,f)});var p=h.selectAll("span.item-legend").data(a,e);p.enter().append("span").attr("class","item-legend").html(function(t){return'<i style="background-color:'+t.color+'"></i><span><span>'+t.series+"</span>"}),p.style("opacity",function(t,e){return t.hidden?.4:(o[t.series]||(o[t.series]=!0,s.push(t.series)),c.state&&(c.state.show=s),1)}).on("click",function(t,e){var n=i.select(this),r=(a.length,c.state.show.length);if(!l||!t.hidden&&1>=r)return!1;var s=c.state.show.indexOf(t.series);c.state.show.indexOf(t.series)>=0?(c.state.show.splice(s,1),n.style("opacity",.4)):(c.state.show.push(t.series),n.style("opacity",1)),t.hidden=!t.hidden,c.fire("item-legend-click",t)}),p.exit().remove(),h.exit().remove()}var i=t("d3"),a=t("cn/szse/chart/utils/Utils"),s=[],o={};return r}),t("cn/szse/chart/elements/impl/GridsBox",function(t){function e(t,e){var i,a,s,o=e.get();"function"==typeof e.klass&&(i=e.klass()),s=n(i),a=r(i);var c=t.selectAll("rect."+a).data([a]);c.enter().append("rect").attr("class",s),c.attr("transform",function(){return"translate("+o.opts.left+", "+o.opts.top+")"}).attr("width",function(){return o.opts.width}).attr("height",function(){return o.opts.height}),c.exit().remove()}function n(t){return t?"grid-box grid-box-"+t:"grid-box"}function r(t){return t?"grid-box.grid-box-"+t:"grid-box"}t("cn/szse/chart/utils/Utils");return e}),t("cn/szse/chart/elements/impl/Cloud",function(t){function e(t,e){return a.uid()}function n(t,e,n){i.layout.cloud().size([e.width(),e.height()]).words(e.data()).padding(15).rotate(function(){return 30*Math.random()*(Math.floor(2*Math.random())>0?-1:1)}).fontSize(function(t){return t.value}).on("end",function(i){return r.call(self,i,t,e,n)}).start()}function r(t,n,r,i){var a=n.attr("transform",function(){return"translate("+.5*r.width()+", "+.5*r.height()+")"}).selectAll("g.cloud").data(t,e);a.enter().append("g").attr("class","cloud").attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}),a.append("text").attr("class","item").attr("text-anchor","middle").style("font",function(t){return t.value+"px 微软雅黑"}).style("fill",function(t,e){return r.fill(t,e)}).text(function(t,e){return t.series}).attr("data-series",function(t,e){return r.series(t,e)}).attr("data-category",function(t,e){return r.category(t,e)}),a.exit().remove()}var i=t("d3"),a=t("cn/szse/chart/utils/Utils");t("cn/szse/chart/elements/impl/Tooltips"),t("cn/szse/chart/elements/ITooltips");return n}),t("cn/szse/chart/elements/impl/Axis",function(t){function e(t,e,i,a){var s=a.type(),o=a.width(),c=a.height(),u=a.enable(),l=a.animation(),f=a.label(),h=a.klass();if(u===!0){var p=a.data(),d=p.values,m=p.band,v=p.size,y=r(s,d,o,c,a.rotate()),g=t.selectAll("g."+(h||s)).data(["axis-"+s]);g.enter().append("g").attr("class","axis "+s+" "+h);if(g.attr("transform",function(t,n){return"translate("+(a.left()+e)+","+(a.top()+i)+")";
}).each(function(){n.call(this,y,s,o,c,v,m,l,a.tick,a.rotate(),a.fill)}),g.exit().remove(),f){var x=g.selectAll("text.label").data([f]);x.enter().append("text").attr("class","label").style("text-anchor","start").style("fill",function(){return"#777"}).style("font-size",function(){return"12px"}).attr("transform",function(t,n){return"translate(-"+(.5*e+15)+",0)rotate(90)"}).text(function(t){return t}),x.exit().remove()}}}function n(t,e,n,r,o,u,l,f,h,p){var d=s.select(this).selectAll("g.ticks").data(t);d.enter().append("g").attr("class","ticks").style("opacity",.5).attr("transform",function(t){var s=[0,0];return"top"===e||"bottom"===e?s=a(t,n,o,u):("left"===e||"right"===e)&&(s=i(t,r,o,u)),"translate("+s+")"}),l===!0?d.transition().duration(500).style("opacity",1).attr("transform",function(t){var s=[0,0];return"top"===e||"bottom"===e?s=a(t,n,o,u):("left"===e||"right"===e)&&(s=i(t,r,o,u)),"translate("+s+")"}):d.style("opacity",1).attr("transform",function(t){var s=[0,0];return"top"===e||"bottom"===e?s=a(t,n,o,u):("left"===e||"right"===e)&&(s=i(t,r,o,u)),"translate("+s+")"}),d.each(function(t,i){var a=s.select(this),o=a.selectAll("text").data([t]);o.enter().append("text"),h&&o.attr("transform",function(t,e){return"rotate(-30)"}).style("text-anchor","end"),o.style("fill",function(t,e){return t.fill||p(t,e)}).text(function(){return f(t,i)});var u=a.selectAll("line").data([t]);u.enter().append("line");var l=c[e];l(u,o,n,r)}),d.exit().remove()}function r(t,e,n,r,i){var a,s=e,c=e.length,u=n/(c-1>0?c-1:1),l=!1;if("left"===t||"right"===t)a=Math.ceil(12*(c-1)/r),s=e.filter(function(t,e){return e%a===0});else if(i!==!0){var f=o.sum(e,function(t){return t.measureText=t.measureText||o.measureText(t.tick).width,t.measureText+20});c>1&&(l=e[c-1].measureText/2+e[c-2].measureText/2<u),a=Math.ceil(f/n),s=e.filter(function(t,e){return t.tick=l||e!=c-2?t.tick:(t._tick=t.tick,""),e==c-1||e%a===0})}return s}function i(t,e,n,r){var i=[0,0];return r?i[1]=e-(t.index/n*e+.5/n*e):i[1]=e-t.index/(n-1)*e,i}function a(t,e,n,r){var i=[0,0],a=e/n;return r?i[0]=t.index*a+a/2:i[0]=t.index/(n-1||1)*e,i}var s=t("d3"),o=t("cn/szse/chart/utils/Utils"),c={};return c.top=function(t,e,n,r){t.attr("y1",function(){return 15}).attr("y2",function(){return r+13}),e.attr("y",function(){return"1em"}).attr("x",function(){return 0})},c.bottom=function(t,e,n,r){t.attr("y1",function(){return 3}).attr("y2",function(){return-r}),e.attr("y",function(){return"1.8em"})},c.left=function(t,e,n,r){t.attr("class",function(t){return t.style}).attr("x1",function(){return-2}).attr("x2",function(){return n+1}),e.attr("y",function(){return"0.5em"}).attr("x",function(){return"-6px"})},c.right=function(t,e,n,r){t.attr("x1",function(){return 0}).attr("x2",function(){return n+3}),e.attr("y",function(){return"0.5em"}).attr("x",function(){return n+5})},e}),t("cn/szse/chart/elements/impl/ArcAxis",function(t){function e(t,e,s){var o=e.get(),c=o.x,u=e.ticks(),l=r(c,u,e.tickSubdivide()),f=e.outerRadius(),h=e.innerRadius(),p=f-h,d=(n(c.range()),o.store.domainData()),m=t.selectAll("g.item-axis").data(["item-axis"]);m.enter().append("g").attr("class","item-axis"),m.attr("transform","translate("+(o.opts.width/2+3*o.opts.left/4)+","+(o.opts.height/2+o.opts.left)+")"),m.exit().remove();var v=m.selectAll("g.tick.major").data(u),y=v.enter().append("g").attr("class",function(t,n){return e.klass(t,"tick major")});y.attr("transform",function(t){var e=c(t);return"translate("+f*Math.sin(e)+","+-f*Math.cos(e)+") rotate("+180/a*e+")"}),v.exit().remove(),y.append("line").attr({x2:0,y2:e.tickMajorSize()+p,"class":function(t,n){return e.klass(t,"tick")}}),y.append("text").attr({"class":"unselectable",transform:function(t){var n=c(t);return"rotate("+-180/a*n+") translate("+-(Math.max(e.tickMajorSize(),0)+e.tickPading()+p)*Math.sin(n)+","+(Math.max(e.tickMajorSize(),0)+e.tickPading()+p)*Math.cos(n)+")"}}).style("text-anchor",function(t){var e=c(t);return e=-a>e?e+=2*a:e>a?e-=2*a:e,e>-7*a/8&&-a/8>e?"start":7*a/8>e&&e>a/8?"end":"middle"}).style("baseline-shift",function(t){return-100*Math.pow(Math.cos(Math.abs(c(t)/2)),3)+"%"}).text(e.tickLabel());var g=m.selectAll("line.tick.minor").data(l);g.enter().append("line").attr("class",function(t,n){return e.klass(t,"tick minor")}),g.attr({x2:0,y2:e.tickMinorSize()+p,transform:function(t){var e=c(t);return"translate("+f*Math.sin(e)+","+-f*Math.cos(e)+") rotate("+180/a*e+")"}}),g.exit().remove();var x=m.selectAll("path.domain").data(d);x.enter().append("path").attr("class",function(t){return"domain domain"+t.index}),x.attr("d",function(t){return i.svg.arc().startAngle(t.startAngle).endAngle(t.endAngle).innerRadius(h).outerRadius(f)()}),x.exit().remove()}function n(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function r(t,e,r){var i=[];if(r&&e.length>1){for(var a,s,o=n(t.domain()),c=-1,u=e.length,l=(e[1]-e[0])/++r;++c<u;)for(a=r;--a>0;)(s=+e[c]-a*l)>=o[0]&&i.push(s);for(--c,a=0;++a<r&&(s=+e[c]+a*l)<o[1];)i.push(s)}return i}var i=t("d3"),a=(t("cn/szse/chart/utils/Utils"),3.141592653589793);return e}),t("cn/szse/chart/shapes/IArc",function(t){t("cn/szse/chart/utils/Utils");return function(){function t(t){return{animation:function(){return e()},series:function(t){return a(t)},category:function(t){return s(t)},stroke:function(t,e){return"function"==typeof n?n(t,e):"#000"},delay:function(){return r?"function"==typeof r?r():r:0},fill:function(t,e){return"function"==typeof i?i(t,e):""},transform:function(t,e){return"function"==typeof o?o(t,e):""},tween:function(t,e){return"function"==typeof c?c(t):""},data:function(){return t}}}var e,n,r,i,a,s,o,c;return t.animation=function(n){return e=n,t},t.stroke=function(e){return n=e,t},t.fill=function(e){return i=e,t},t.delay=function(e){return r=e,t},t.series=function(e){return a=e,t},t.category=function(e){return s=e,t},t.transform=function(e){return o=e,t},t.tween=function(e){return c=e,t},t}}),t("cn/szse/chart/elements/impl/Gauge",function(t){function e(t,e,r){var a=n(e,r);t.call(a);var s=i(e,r);t.call(s)}function n(t,e){var n=r(t);return function(t){return t.call(c,n,e)}}function r(t){var e=t.get(),n=e.opts.series.item,r=o().tickSubdivide(function(){return t.tickSubdivide()}).innerRadius(function(){return t.innerRadius()}).outerRadius(function(){return t.outerRadius()}).tickMajorSize(function(){try{return"number"==typeof n.tickMajorSize?n.tickMajorSize:12}catch(t){return 12}}).tickMinorSize(function(){try{return"number"==typeof n.tickMinorSize?n.tickMinorSize:8}catch(t){return 8}}).tickPading(function(){try{return"number"==typeof n.tickPading?n.tickPading:3}catch(t){return 3}}).tickLabel(function(){var t,n;try{t=e.opts.xAxis[0].tickUnit instanceof Array?e.opts.xAxis[0].tickUnit:"number"==typeof e.opts.xAxis[0].tickUnit?[e.opts.xAxis[0].tickUnit]:[10]}catch(r){t=[10]}n=e.x.tickFormat.apply(e.x,t);try{return"function"==typeof e.opts.xAxis[0].tickLabel?e.opts.xAxis[0].tickLabel:n}catch(r){return n}}).tickUnit(function(){try{return e.opts.xAxis[0].tickUnit instanceof Array?e.opts.xAxis[0].tickUnit:"number"==typeof e.opts.xAxis[0].tickUnit?[e.opts.xAxis[0].tickUnit]:[10]}catch(t){return[10]}}).ticks(function(){return e.x.domain()[1]%10!==0||e.x.domain()[1]/10>=15?s.apply(null,[e.x.domain()[0],e.x.domain()[1],10]):e.x.ticks()}).klass(function(t,n){for(var r=0,i=e.store.domainData().length;i>r;r++)if(t>=e.store.domainData()[r].from&&t<=e.store.domainData()[r].to)return n+" domain"+(r+1)});return r(e)}function i(t,e){var n=a(t);return function(t){return t.call(l,n,e)}}function a(t){var e=t.get(),n=e.opts.series.item,r=u().innerRadius(function(){return t.innerRadius()}).outerRadius(function(){return t.outerRadius()}).label(function(t){try{return"function"==typeof n.label.text?n.label.text(t):t}catch(e){return t}}).klass(function(t,n){for(var r=0,i=e.store.domainData().length;i>r;r++){if(t>=e.store.domainData()[r].from&&t<=e.store.domainData()[r].to)return n+" domain"+(r+1);if(t>e.store.domainData()[i-1].to)return n+" domain0"}});return r(e)}function s(t,e,n){var r=[];for(n=e/n,t;e>t;t+=n)r.push(t);return r.push(e),r}var o=(t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/elements/IArcAxis")),c=t("cn/szse/chart/elements/impl/ArcAxis"),u=t("cn/szse/chart/shapes/IArcSlider"),l=t("cn/szse/chart/shapes/impl/ArcSlider");return e}),t("cn/szse/chart/elements/impl/Bar",function(t){function e(t,e,r){var a=e.get(),o=n(e),u=i(e);t.call(f,e).call(o).call(u);var l=t.selectAll("g.items-rect").data(["items-rect"]);l.enter().append("g").attr("class","items-rect").attr("transform",function(){return"translate("+a.opts.left+", "+a.opts.top+")"}),l.call(p,e,r),l.exit().remove();var h=s(e,r);if(t.call(h),e.label()){var d=t.selectAll("g.items-label").data(["items-label"]);d.enter().append("g").attr("class","items-label").attr("transform",function(){return"translate("+a.opts.left+", "+a.opts.top+")"});var m=c(e,r);d.call(m)}}function n(t){var e=r(t),n=t.get(),i=n.opts,a=i.left,s=i.top;return function(t){return t.call(l,a,s,e)}}function r(t){var e=t.get(),n=h().type(function(){return"bottom"}).top(function(){return e.opts.height}).width(function(){return e.opts.width}).height(function(){return e.opts.height}).rotate(function(t){try{return e.opts.xAxis[0].rotate}catch(n){return!1}}).tick(function(t){try{return e.opts.xAxis[0].tickLabel(t)}catch(n){return t.tick}});return n(e.x.ticks())}function i(t){var e=a(t),n=t.get(),r=n.opts,i=r.left,s=r.top;return function(t){return t.call(l,i,s,e)}}function a(t){var e=t.get(),n=h().type(function(){return"left"}).width(function(){return e.opts.width}).height(function(){return e.opts.height}).tick(function(t){try{return e.opts.yAxis[0].tickLabel(t)}catch(n){return t.tick}});return n(e.y.ticks())}function s(t,e){var n=o(t);return function(t){return t.call(d,n,e)}}function o(t){var e=t.get(),n=e.opts.series.item,r=m().location(function(){var t=n.tooltips;if(t){var e=t.location;return e?e:"right"}}).text(function(t){var e=n.tooltips;if(e){var r=e.text;return void 0===r?'<h4 class="tips-title">'+t.series+'</h4>值: <span class="s-chart-height s-chart-price">'+Math.floor(100*t.value)/100+"</span><br />":r(t)}});return r(e)}function c(t,e){var n=u(t,e);return function(t){return t.call(y,n,e)}}function u(t,e){var n=t.get(),r=n.opts.series.item,i=v().series(function(t){return t.series}).category(function(t){return t.category}).dy(function(){return"0.5em"}).fill(function(e,n){var i;try{var a=r.style(e,n).fill;return a||(i=t.label())&&i.fill||t.fill(e,n)}catch(s){return(i=t.label())&&i.fill||t.fill(e,n)}}).animation(function(){try{return n.opts.animation}catch(t){return!1}}).delay(function(){return"Line"===n.opts.sType?1300:400*n.store.series().length}).label(function(t){var e={text:function(){}};try{var n=r.label;if(n){var i=n.text;return i||(i=function(t){return isNaN(+t.value)?null:(+t.value).toFixed(0)}),{text:i}}return e}catch(a){return e}}).transform(function(e){return"translate("+t.transform(e)+")"});return i(n)}var l=(t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/elements/impl/Axis")),f=t("cn/szse/chart/elements/impl/GridsBox"),h=t("cn/szse/chart/elements/IAxis"),p=t("cn/szse/chart/shapes/impl/Rect"),d=t("cn/szse/chart/elements/impl/Tooltips"),m=t("cn/szse/chart/elements/ITooltips"),v=t("cn/szse/chart/shapes/ILabel"),y=t("cn/szse/chart/shapes/impl/Label");return e}),t("cn/szse/chart/elements/impl/HorizonSeries",function(t){function e(t,e,i){var o=e.get(),c=a(e),u=s(e);t.call(h,e).call(c).call(u);var l=t.selectAll("g.items-line").data(["items-line"]);l.enter().append("g").attr("class","items-line").attr("transform",function(){return"translate("+o.opts.left+", "+o.opts.top+")"}),l.call(d,e,i),l.exit().remove();var f=t.selectAll("circle.items-series-point").data([{x:o.x,y:o.y,left:o.opts.left,top:o.opts.top}]);f.enter().append("circle").attr("class","items-series-point").attr("r",3).attr("transform",function(){return"translate(-9999, -9999)"}),r(f,e,i),n(t,e,i)}function n(t,e,n){var r=e.get(),i=l.uid(),a=[{id:"fall",data:[{offset:"0%","stop-color":"rgb(0,145,0)"},{offset:"100%","stop-color":"#cbfba7"}]},{id:"rise",data:[{offset:"0%","stop-color":"#cc3d3d"},{offset:"100%","stop-color":"#ee9a9a"}]}],s=t.selectAll("rect.items-series-rect").data(a);s.enter().append("rect").attr("class","items-series-rect").attr("x",r.opts.left).attr("y",r.opts.top).style("opacity",.8),s.attr("width",r.opts.width).attr("height",r.opts.height).style("fill",function(t){return'url("#linear-gradient-'+t.id+i+'")'}).attr("clip-path",function(t){return"url(#clip-area-"+t.id+i+")"}),s.exit().remove();var o=t.selectAll(".linear-gradient").data(a);o.enter().append("linearGradient").attr("class","linear-gradient").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2","100%"),o.attr("id",function(t){return"linear-gradient-"+t.id+i}),o.exit().remove(),o.each(function(t){var e=u.select(this).selectAll("stop").data(t.data);e.enter().append("stop").attr("offset",function(t){return t.offset}).attr("stop-color",function(t){return t["stop-color"]}),e.exit().remove()});var c=e.get(),f=c.store.data(),h=[],p=[];f.forEach(function(t){"rise"===t.series?h.push(t):p.push(t)});var d=r.opts.width/r.store.category().length,m=u.svg.area().defined(function(t,e){return!isNaN(t.value)}).x(function(t){return t.time?r.x(t.time):r.x(t.stime)+t.value*d}).y0(function(t,e){return r.opts.height}).y1(function(t,e){return t.time?r.y(Math.abs(t.value)):r.y(0)}).interpolate("monotone"),v=t.selectAll(".clip-area-rise").data(["clip-area-rise"]);v.enter().append("clipPath").attr("class","clip-area-rise").attr("transform",function(){return"translate("+r.opts.left+", "+r.opts.top+")"}),v.attr("id","clip-area-rise"+i),v.exit().remove();var y=t.selectAll(".clip-area-fall").data(["clip-area-fall"]);y.enter().append("clipPath").attr("class","clip-area-fall").attr("transform",function(){return"translate("+r.opts.left+", "+r.opts.top+")"}),y.attr("id","clip-area-fall"+i),y.exit().remove();var g=v.selectAll("path.item").data(h);g.enter().append("path").attr("class",function(t){return"item"}),g.attr("d",function(t){return m(t.values)}).attr("data-series",function(t,e){return t.series}),g.exit().remove();var x=y.selectAll("path.item").data(p);x.enter().append("path").attr("class",function(t){return"item"}).attr("data-series",function(t,e){return t.series}),x.attr("d",function(t){return m(t.values)}),x.exit().remove(),n.context.selectAll("circle.items-series-point").attr("transform",function(){return"translate(-9999, -9999)"})}function r(t,e,n){var r,i,a,s=n.context.select("div.s-chart-tips"),o=e.get(),l=o.store.category(),f=l.length;n.context.on("mousemove",function(){var t=u.mouse(this),e=t[0]-o.opts.left,h=Math.floor(e/o.opts.width*f);if(l[h]&&r!==l[h]){r=l[h];var p=o.store.getIndex(r);n.context.selectAll("circle.items-series-point").each(function(t,e){var n=p.values[e];u.select(this).attr("transform",function(){return"translate("+(t.left+t.x(r))+", "+(t.top+t.y(Math.abs(n.value)))+")"})}),s.attr("style",""),s.style("display","block"),"string"==typeof n.options.plots.tooltips?(o.opts.width/2>t[0]?s.style("right",function(){return"44px"}):s.style("left",function(){return o.opts.left+"px"}),i=n.options.plots.tooltips,a=c.template(i),s.html(a({data:{time:r,values:p.values}}))):"string"==typeof o.opts.series.item.tooltips&&(o.opts.width/2>t[0]?s.style("right",function(){return"44px"}):s.style("left",function(){return o.opts.left+"px"}),i=o.opts.series.item.tooltips,a=c.template(i),s.html(a({data:{time:r,values:p.values}})))}}).on("mouseleave",function(){s.style("display","none"),n.context.selectAll("circle.items-series-point").attr("transform",function(){return"translate(-9999, -9999)"})})}function i(t){var e=t.get(),n=p().type(function(){return"bottom"}).top(function(){return e.opts.height}).width(function(){return e.opts.width}).height(function(){return e.opts.height}).enable(function(){try{return e.opts.xAxis[0].enable}catch(t){return!0}}).tick(function(t){try{return e.opts.xAxis[0].tickLabel(t)}catch(n){return t.tick}});return n(e.x.ticks())}function a(t){var e=i(t),n=t.get(),r=n.opts,a=r.left,s=r.top;return function(t){return t.call(f,a,s,e)}}function s(t){var e=o(t),n=t.get(),r=n.opts,i=r.left,a=r.top;return function(t){return t.call(f,i,a,e)}}function o(t){var e=t.get(),n=p().type(function(){return"left"}).width(function(){return e.opts.width}).height(function(){return e.opts.height}).label(function(t){try{return e.opts.yAxis[0].label}catch(n){return""}}).tick(function(t){try{return e.opts.yAxis[0].tickLabel(t)}catch(n){return t.tick}});return n(e.y.ticks())}var c=t("_"),u=t("d3"),l=t("cn/szse/chart/utils/Utils"),f=t("cn/szse/chart/elements/impl/Axis"),h=t("cn/szse/chart/elements/impl/GridsBox"),p=t("cn/szse/chart/elements/IAxis"),d=t("cn/szse/chart/shapes/impl/Path");t("cn/szse/chart/shapes/IArea"),t("cn/szse/chart/shapes/impl/Area"),t("cn/szse/chart/shapes/impl/Marker");return e}),t("cn/szse/chart/elements/impl/AreaRange",function(t){function e(t,e,n){var i=e.get(),o=a(e),c=s(e);t.call(p,e).call(o).call(c);var u=t.selectAll("g.items-series").data(["items-series"]);u.enter().append("g").attr("class","items-series").attr("transform",function(){return"translate("+i.opts.left+", "+i.opts.top+")"});var f=l.svg.area().interpolate("monotone").defined(function(t,e){return!isNaN(t.values[0].value)}).x(function(t){return i.x(t.time)}).y0(function(t,e){return i.y(t.values[0].value)}).y1(function(t,e){return i.y(t.values[1].value)}),h=u.selectAll("path.items-area").data([i.store.buffer()]);h.enter().append("path").attr("class",function(t){return"items-area"}).style("fill",function(){return"rgba(100,180,170,0.5)"}),h.attr("d",function(t){return f(t)}),h.exit().remove(),i.store.data().length&&u.call(m,e);var d=t.selectAll("g.items-series-point").data(["items-series-point"]);d.enter().append("g").attr("class","items-series-point").attr("transform",function(){return"translate("+i.opts.left+", "+i.opts.top+")"}),d.exit().remove(),d.selectAll("circle.line-point").attr("transform",function(t){return"translate(-9999, 0)"}),r(d,e,n)}function n(t,e,n,r,i){var a=t.selectAll("circle.line-point").data(e);return a.enter().append("circle").attr("class","line-point").attr("r",function(){return 1.5}).attr("fill",function(t){return i.colors(t.series)}).attr("stroke",function(t){return i.colors(t.series)}),a.attr("transform",function(t){return"translate("+n(t.time)+", "+r(t.value)+")"}),a.exit().remove(),a}function r(t,e,n){var r=e.get(),a=r.store,s=a.category(),o=s.length,c=n.context.select("div.s-chart-tips");n.context.on("mousemove",function(){var e=l.mouse(this),f=e[0]-r.opts.left,h=Math.floor(f/r.opts.width*o),p=s[h],d=a.values(p);if(d=d.filter(function(t){return isNaN(+t.value)?!1:!0}),i(t,d,r.x,r.y,n),c.attr("style",""),f<.5*r.opts.width?c.style("right",function(){return"44px"}):c.style("left",function(){return r.opts.left+"px"}),d.length>0){var m=d.map(function(t){return{color:n.colors(t.series),data:t}});if("string"==typeof r.opts.series.item.tooltips){var v=r.opts.series.item.tooltips,y=u.template(v);c.html(y({data:{time:p,data:m}}))}c.style("display","block")}else c.style("display","none")}).on("mouseleave",function(){i(t,[],r.x,r.y,n),c.style("display","none")})}function i(t,e,r,i,a){var s=e.filter(function(t){return"volume"===t.type?!1:!0});n(t,s,r,i,a)}function a(t){var e=o(t),n=t.get(),r=n.opts,i=r.left,a=r.top;return function(t){return t.call(h,i,a,e)}}function s(t){var e=t.get(),n=e.opts,r=n.left,i=n.top,a=n.width,s=n.height;return function(t){var o=c(a,s,"left",n.yAxis[0]);t.call(h,r,i,o(e.y.ticks()))}}function o(t){var e=t.get(),n=d().type(function(){return"bottom"}).top(function(){return e.opts.height}).width(function(){return e.opts.width}).height(function(){return e.opts.height}).tick(function(t){try{return e.opts.xAxis[0].tickLabel(t)}catch(n){return t.tick}});return n(e.x.ticks())}function c(t,e,n,r){var i=d().type(function(){return n||"left"}).width(function(){return t}).height(function(){return e}).label(function(t){try{return r.label}catch(e){return""}}).tick(function(t){try{return r.tickLabel(t)}catch(e){return t.tick}});return i}var u=t("_"),l=t("d3"),f=t("cn/szse/chart/utils/Utils"),h=t("cn/szse/chart/elements/impl/Axis"),p=t("cn/szse/chart/elements/impl/GridsBox"),d=t("cn/szse/chart/elements/IAxis"),m=t("cn/szse/chart/shapes/impl/Path");t("cn/szse/chart/shapes/IArea"),t("cn/szse/chart/shapes/impl/Area"),t("cn/szse/chart/shapes/impl/Marker");return e}),t("cn/szse/chart/elements/impl/Brush",function(t){function e(t,e,i){var s=e.get(),o=n(e,i),c=r(e),l=a(e);t.call(c).call(l).call(u,e);var h=t.selectAll("g.items-series").data(["items-series"]);h.enter().append("g").attr("class","items-series"),h.attr("transform",function(){return"translate("+s.opts.left+", "+s.opts.top+")"}),h.call(f,e),h.call(o).selectAll("rect").attr("height",s.opts.height),h.exit().remove()}function n(t,e){var n=t.get(),r=n.store.category(),i=r.length,a=o.scale.linear(),s=a.domain([0,i-1]).range([0,n.opts.width]),c=o.svg.brush().x(s).extent(e.BRUSH_EXTENT||n.store.range.apply(null,n.opts.domain)).on("brushstart",function(){var t=c.extent(),n=Math.floor(t[0]),i=Math.floor(t[1]);e.fire("brush-start",r[n],r[i])}).on("brushend",function(t){var n=c.extent(),i=Math.floor(n[0]),a=Math.floor(n[1]);e.BRUSH_EXTENT=[i,a],a!==i&&e.fire("brush-end",r[i],r[a])}).on("brush",function(){var t=c.extent(),n=Math.floor(t[0]),i=Math.floor(t[1]);e.fire("brush-drag",r[n],r[i])});return c}function r(t){var e=i(t),n=t.get(),r=n.opts,a=r.left,s=r.top;return function(t){return t.call(c,a,s,e)}}function i(t){var e=t.get(),n=l().type(function(){return"bottom"}).top(function(){return e.opts.height}).width(function(){return e.opts.width}).height(function(){return e.opts.height}).enable(function(){try{return e.opts.xAxis[0].enable}catch(t){return!0}}).tick(function(t){return t.tick});return n(e.x.ticks())}function a(t){var e=t.get(),n=e.opts,r=n.left,i=n.top,a=n.width,o=n.height,u=s(a,o);return function(t){t.call(c,r,i,u(e.y.ticks()))}}function s(t,e,n){var r=l().type(function(){return n||"left"}).width(function(){return t}).height(function(){return e}).tick(function(t){return t.tick});return r}var o=t("d3"),c=(t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/elements/impl/Axis")),u=t("cn/szse/chart/elements/impl/GridsBox"),l=t("cn/szse/chart/elements/IAxis"),f=t("cn/szse/chart/shapes/impl/Path");return e}),t("cn/szse/chart/shapes/impl/MapSymbol",function(t){function e(t,e,r){var a,s,o=e.get(),c=o.store;if("items-symbol"==c.items()?(a=t.selectAll("g.items-symbol").data(c.items()),a.enter().append("g").attr("class","items-symbol"),a.exit().remove()):(a=t.selectAll("g.items-city-symbol").data(c.items()),a.enter().append("g").attr("class","items-city-symbol"),a.exit().remove()),s=n(e,r),a.call(s),void 0===r.state.symbolEvent&&(r.on("symbol-mouseover",function(t){r.fire("item-mouseover",t.data)}).on("symbol-mousemove",function(t){r.fire("item-mouseover",t.data)}).on("symbol-mouseout",function(){r.fire("item-mouseout")}),r.state.symbolEvent=!0),e.label()){var u,l;"items-symbol"==c.items()?(u=t.selectAll("g.items-label").data(["items-label"]),u.enter().append("g").attr("class","items-label"),l=i(e,r),u.call(l)):(u=t.selectAll("g.items-city-label").data(["items-city-label"]),u.enter().append("g").attr("class","items-city-label"),l=i(e,r),u.call(l))}}function n(t,e){var n=r(t,e);return function(t){return t.call(c,n,e)}}function r(t,e){var n=t.get(),r=n.store,i=n.opts.series.item,a=s().x(function(t,e){return r.getCityMap()[t.category]&&r.getCityMap()[t.category][0]}).y(function(t,e){return r.getCityMap()[t.category]&&r.getCityMap()[t.category][1]}).klass(function(t){return"item"}).series(function(t){return t.series}).category(function(t){return t.category}).fill(function(t,n){try{var r=i.style(t,n).fill;return r||e.colors(t.series)}catch(a){return e.colors(t.series)}}).opacity(function(t,e){try{return i.style(t,e).opacity||.6}catch(n){return.6}}).icon(function(e){try{var r,i=n.opts.series.icon,a=t.r(e);return r="string"==typeof i?l().type(i).size(a):l().size(a),"110000"===e.category&&(r=l().type("star").size(a)),r()}catch(s){return l("circle")()}}).animation(function(){try{return n.opts.animation}catch(t){return!1}});return a(n)}function i(t,e){var n=a(t,e);return function(t){return t.call(u,n,e)}}function a(t,e){var n=t.get(),r=n.store,i=n.opts.series.item,a=o().series(function(t){return t.series}).fill(function(t,n){try{var r=i.style(t,n).fill;return r||e.colors(t.series)}catch(a){return e.colors(t.series)}}).animation(function(){try{return n.opts.animation}catch(t){return!1}}).label(function(t){try{var e=i.label;if(e){var n=e.text;return n||(n=function(t){return isNaN(t.value)?null:r.mapdata().propertiesMap[t.category]+", "+t.value}),{text:n}}return!1}catch(a){return!1}}).transform(function(t){var e=-1e4,n=-1e4;return r.getCityMap()[t.category]&&(e=r.getCityMap()[t.category][0],n=r.getCityMap()[t.category][1]),"translate("+[e,n]+")"});return a(n)}var s=(t("d3"),t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/shapes/ISymbol")),o=t("cn/szse/chart/shapes/ILabel"),c=t("cn/szse/chart/shapes/impl/Symbol"),u=t("cn/szse/chart/shapes/impl/Label"),l=t("cn/szse/chart/shapes/impl/Icon");return e}),t("cn/szse/chart/shapes/impl/MapGradient",function(t){function e(t,e,i){var s,c=e.get(),u=c.store,l=o.hsl(e.fill()),f=o.scale.linear().domain([u.getFillMap()._min,u.getFillMap()._max]).range([.8,.2]);if("items-province"==u.items()?n(i,u,f,l)(!0):r(i,u,f,l)(),e.label()){var h,p;"items-province"==u.items()?(h=t.selectAll("g.items-label").data(["items-label"]),h.enter().append("g").attr("class","items-label"),p=a(e,i),h.call(p)):(h=t.selectAll("g.items-city-label").data(["items-city-label"]),h.enter().append("g").attr("class","items-city-label"),p=a(e,i),h.call(p))}if(void 0!==u.getFillMap().minCategory&&void 0!==u.getFillMap().maxCategory){var d=2===u.getFillMap().minCategory.length?u.getFillMap().minCategory+"0000":u.getFillMap().minCategory,m=2===u.getFillMap().maxCategory.length?u.getFillMap().maxCategory+"0000":u.getFillMap().maxCategory;s=u.getFillMap().min==u.getFillMap().max||"440300"===d&&"440300"===m?[{series:u.mapdata().propertiesMap[d],color:o.hsl(l.h,l.s,f(u.getFillMap().min))}]:[{series:u.mapdata().propertiesMap[d]+"(最小值)",color:o.hsl(l.h,l.s,f(u.getFillMap().min))},{series:u.mapdata().propertiesMap[m]+"(最大值)",color:o.hsl(l.h,l.s,f(u.getFillMap().max))}]}else s=[];i.legend(s)}function n(t,e,n,r){var a=t.context.select("g.items-province").selectAll("path.item");return function(t){i(a,e,n,r,t)}}function r(t,e,n,r){var a=t.context.select("g.items-city").selectAll("path.item");return function(t){i(a,e,n,r,t)}}function i(t,e,i,a,s){t.style("fill",function(t,c){var u;u=s===!0?n.getKey(t):r.getKey(t);var l=e.getFillMap()[u];if(void 0!==l&&l.value>=e.getFillMap().min&&l.value<=e.getFillMap().max){var f=i(l.value);return l.category=2===l.category.length?l.category+"0000":4===l.category.length?l.category+"00":l.category,o.select(this).attr({"data-number":l.category,"data-series":l.series,value:l.value}),o.hsl(a.h,a.s,f)}},"important")}function a(t,e){var n=s(t,e);return function(t){return t.call(l,n,e)}}function s(t,e){var n=t.get(),r=n.store,i=n.opts.series.item,a=u().dy(function(){return 0}).series(function(t){return t.series}).fill(function(t,n){try{return i.label.style(t,n).fill}catch(r){return e.colors(t.series)}}).animation(function(){try{return n.opts.animation}catch(t){return!1}}).label(function(t){try{var e=i.label;if(e){var n=e.text;return n||(n=function(t){return isNaN(t.value)?null:r.mapdata().propertiesMap[t.category]+", "+t.value}),{text:n}}return!1}catch(a){return!1}}).transform(function(t){var e=-1e4,n=-1e4;return r.getCityMap()[t.category]&&(e=r.getCityMap()[t.category][0],n=r.getCityMap()[t.category][1]),"translate("+[e,n]+")"});return a(n)}var o=t("d3"),c=t("cn/szse/chart/utils/Utils"),u=(t("cn/szse/chart/elements/ITooltips"),t("cn/szse/chart/elements/impl/Tooltips"),t("cn/szse/chart/shapes/ILabel")),l=t("cn/szse/chart/shapes/impl/Label");return n.getKey=function(t){return"440300"===t.properties.id?t.properties.id:t.properties.id.substr(0,2)},r.getKey=function(t){return t.properties.id},e}),t("cn/szse/chart/elements/impl/Line",function(t){function e(t,e,r){var a=e.get(),o=v(r.context.node());if(e.axis()){t.call(x,e);var u=h(e),f=d(e);t.call(u).call(f)}if("Area"===a.opts.sType||"StackArea"===a.opts.sType){var p=t.selectAll("g.items-area").data(["items-area"]);p.enter().append("g").attr("class","items-area").attr("transform",function(){return"translate("+a.opts.left+", "+a.opts.top+")"});var m=i(e,r);p.call(m)}var y=t.selectAll("g.items-line").data(["items-line"]);y.enter().append("g").attr("class","items-line").attr("transform",function(){return"translate("+a.opts.left+", "+a.opts.top+")"});var g=t.selectAll("g.items-symbol").data(["items-symbol"]);g.enter().append("g").attr("class","items-symbol").attr("transform",function(){return"translate("+a.opts.left+", "+a.opts.top+")"});var b=n(e,r),z=s(e,r);if(y.call(b),g.call(z),void 0===r.state.symbolEvent&&(r.state.symbolEvent=!0,r.on("symbol-mouseover",function(t){var e=v(t.element),n=e.data("series"),i=e.siblings("path.item"),a=(o.find("g.items-symbol path.item"),o.find("g.items-line path.item")),s=o.find("g.items-label text.item");r.fire("series-siblings-event",i,n).fire("series-siblings-event",a,n).fire("series-siblings-event",s,n),r.fire("item-mouseover",t.data)}).on("symbol-mousemove",function(t){r.fire("item-mouseover",t.data)}).on("symbol-mouseout",function(){o.find("g.items-symbol path.item").attr("opacity",1),o.find("g.items-line path.item").attr("opacity",1),o.find("g.items-label text.item").attr("opacity",1),r.fire("item-mouseout")}),r.on("series-siblings-event",function(t,e){return t.each(function(t){var n=v(this),r=n.data("series");r!==e&&n.attr("opacity",.5)}),this}),r.on("item-legend-click",function(t){var e=o.find('path[data-series="'+t.series+'"]');t.hidden?e.css("display","none"):e.css("display","block")})),e.label()){var k=t.selectAll("g.items-label").data(["items-label"]);k.enter().append("g").attr("class","items-label").attr("transform",function(){return"translate("+a.opts.left+", "+a.opts.top+")"});var A=c(e,r);k.call(A)}if(void 0!==a.opts.series.item.tooltips){var w=l(e,r);t.call(w)}}function n(t,e){var n=r(t,e);return function(t){return t.call(E,n,e)}}function r(t,e){var n=t.get(),r=n.opts.series,i=k().x(function(t,e){return n.size?n.x(t.category)+n.size/2:n.x(t.category)}).y(function(e,n){return t.y(e,n)}).klass(function(t){var e,r="item ";try{e=n.opts.series.show||n.store.series()}catch(i){e=n.store.series()}return"average"===t.series&&(r+="average "),e.indexOf(t.series)<0&&(r+="none "),r}).type(function(t){try{var e=r.lineType,i=n.store.getIndex(t.series),a=e[i];return"solid"===a?0:"dashed"===a?3:0}catch(s){return 0}}).stroke(function(t,n){try{var i=r.style(t,n).stroke;return i||e.colors(t.series)}catch(a){return e.colors(t.series)}}).interpolate(function(){try{return r.interpolate}catch(t){return"linear"}}).defined(function(t){return t.value||0===t.value?isNaN(t.value)?void 0:t.value:"Null"}).animation(function(){try{return n.opts.animation}catch(t){return!1}});return i(n)}function i(t,e){var n=a(t,e);return function(t){return t.call(L,n,e)}}function a(t,e){var n=t.get(),r=n.opts.series,i=M().x(function(t){return n.x(t.category)}).y0(function(t,e){return"StackArea"==n.opts.sType?n.y(t.stack):n.opts.height}).y1(function(t,e){return"StackArea"==n.opts.sType?n.y(t.stack+t.value):n.y(t.value)}).series(function(t){return t.series}).fill(function(t,n){try{return r.item.style(t,n).fill||e.colors(t.series)}catch(i){return e.colors(t.series)}}).interpolate(function(){try{return r.interpolate||"linear"}catch(t){return"linear"}}).defined(function(t,e){return t.value||0===t.value?isNaN(t.value)?!1:"StackArea"==n.opts.sType?t.stack+t.value:0===t.value?!0:t.value:"Null"}).animation(function(){try{return n.opts.animation}catch(t){return!1}}).klass(function(t){var e,r="item ";try{e=n.opts.series.show||n.store.series()}catch(i){e=n.store.series()}return e.indexOf(t.series)<0&&(r+="none "),
r});return i(n)}function s(t,e){var n=o(t,e);return function(t){return t.call(T,n,e)}}function o(t,e){var n=t.get(),r=n.opts.series.item,i=A().x(function(t,e){return n.size?n.x(t.category)+n.size/2:n.x(t.category)}).y(function(e,n){return null===e.value&&(e.value=0),e.value||0===e.value?t.y(e,n):-1e4}).klass(function(t){var e,r="item ";try{e=n.opts.series.show||n.store.series()}catch(i){e=n.store.series()}return"average"===t.series&&(r+="average "),e.indexOf(t.series)<0&&(r+="none "),r}).series(function(t){return t.series}).category(function(t){return t.category}).fill(function(t,n){try{var i=r.style(t,n).fill;return i||e.colors(t.series)}catch(a){return e.colors(t.series)}}).icon(function(e){try{var r,i=n.opts.series.icon,a=n.opts.series.min||"circle",s=n.opts.series.max||"circle",o=t.r(e);if(i instanceof Array){var c=n.store.getIndex(e.series);r=I().type(i[c]).size(o)}else r="string"==typeof i?I().type(i).size(o):I().size(o);return e.max&&"string"==typeof s&&(r=I().type(s).size(o)),e.min&&"string"==typeof a&&(r=I().type(a).size(o)),r()}catch(u){return I("circle")()}}).animation(function(){try{return n.opts.animation}catch(t){return!1}}).delay(function(){var t=["Line","Mixed"];return t.Line=1300,t.Mixed=600,t.indexOf(n.opts.sType)>-1?t[n.opts.sType]:400*n.store.series().length});return i(n)}function c(t,e){var n=u(t,e);return function(t){return t.call(S,n,e)}}function u(t,e){var n=t.get(),r=n.opts.series.item,i=w().series(function(t){return t.series}).category(function(t){return t.category}).fill(function(t,n){try{var i=r.style(t,n).fill;return i||e.colors(t.series)}catch(a){return e.colors(t.series)}}).animation(function(){try{return n.opts.animation}catch(t){return!1}}).delay(function(){return"Line"===n.opts.sType?1300:400*n.store.series().length}).label(function(t){try{var e=r.label;if(e){var n=e.text;return n||(n=function(t){return isNaN(t.value)?null:t.value.toFixed(2)}),{text:n}}return!1}catch(i){return!1}}).transform(function(e){var r=t.x(e),i=isNaN(t.y(e))?-1e4:t.y(e);return 0===r&&(r+=15),r==n.opts.width&&(r-=15),20>=i&&(i=20),"translate("+[r,i]+")"});return i(n)}function l(t,e){var n=f(t);return function(t){return t.call(z,n,e)}}function f(t){var e=t.get(),n=e.opts.series.item,r=g().location(function(){var t=n.tooltips;if(t){var e=t.location;return e?e:"right"}}).text(function(t){var e=n.tooltips;if(e){var r=e.text;return void 0===r?'<h4 class="tips-title">'+t.series+'</h4>price: <span class="s-chart-height s-chart-price">'+t.value.toFixed(2)+"</span><br />":r(t)}});return r(e)}function h(t){var e=p(t),n=t.get(),r=n.opts,i=r.left,a=r.top;return function(t){return t.call(b,i,a,e)}}function p(t){var e=t.get(),n=y().type(function(){try{return e.opts.xAxis[0].location}catch(t){return"bottom"}}).top(function(){var t;try{t=e.opts.xAxis[0].location}catch(n){t="bottom"}return"bottom"==t?e.opts.height:-13}).width(function(){return e.opts.width}).height(function(){return e.opts.height}).tick(function(t){try{return e.opts.xAxis[0].tickLabel(t)}catch(n){return t.tick}}).animation(function(){try{return e.opts.animation}catch(t){return!1}});return n(e.x.ticks())}function d(t){var e=m(t),n=t.get(),r=n.opts,i=r.left,a=r.top;return function(t){return t.call(b,i,a,e)}}function m(t){var e=t.get(),n=y().type(function(){try{return e.opts.yAxis[0].location}catch(t){return"left"}}).width(function(){return e.opts.width}).height(function(){return e.opts.height}).tick(function(t){try{return e.opts.yAxis[0].tickLabel(t)}catch(n){return t.tick}}).animation(function(){try{return e.opts.animation}catch(t){return!1}});return n(e.y.ticks())}var v=(t("d3"),t("jQuery")),y=(t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/elements/IAxis")),g=t("cn/szse/chart/elements/ITooltips"),x=t("cn/szse/chart/elements/impl/GridsBox"),b=t("cn/szse/chart/elements/impl/Axis"),z=t("cn/szse/chart/elements/impl/Tooltips"),k=t("cn/szse/chart/shapes/IPath"),A=t("cn/szse/chart/shapes/ISymbol"),w=t("cn/szse/chart/shapes/ILabel"),M=t("cn/szse/chart/shapes/IArea"),E=t("cn/szse/chart/shapes/impl/Path"),T=t("cn/szse/chart/shapes/impl/Symbol"),S=t("cn/szse/chart/shapes/impl/Label"),L=t("cn/szse/chart/shapes/impl/Area"),I=t("cn/szse/chart/shapes/impl/Icon");return e}),t("cn/szse/chart/elements/impl/Candlestick",function(t){function e(t,e){return p.uid()}function n(t,e,n,i){var a=e.get(),c=a.opts.left,l=a.opts.top,f=o(e),h=u(e,n);t.call(f).call(h).call(m,e);var p=t.selectAll("g.items-candlestick").data(["items-candlestick"]);p.enter().append("g").attr("class","items-candlestick").attr("transform",function(){return"translate("+c+", "+l+")"}),p.call(g,e);var d=r(i._messages,e);p.call(x,d,a,i),p.exit().remove();var v=t.selectAll("g.items-series").data(["items-series"]);v.enter().append("g").attr("class","items-series").attr("transform",function(){return"translate("+c+", "+l+")"}),v.call(y,n),v.exit().remove(),s(v,e,i)}function r(t,e){var n=e.get(),r=[];return t.forEach(function(t){var e=n.store.values(t.time);e&&r.push({x:n.x(e.time)+.5*n.x.rangeBand(),y:n.y(e.high),data:t})}),r}function i(t,n){var r=t.selectAll("line.subline-x").data(["subline-x"],e);return r.enter().append("line").attr("class","subline-x").attr("y1",function(){return 0}).attr("transform",function(){return"translate(-1000, 0)"}),r.attr("y2",function(){return n.opts.height}),r.exit().remove(),r}function a(t,n){var r=t.selectAll("line.subline-y").data(["subline-y"],e);return r.enter().append("line").attr("class","subline-y").attr("x1",function(){return 0}).attr("transform",function(){return"translate(0, -1000)"}),r.attr("x2",function(){return n.opts.width}),r.exit().remove(),r}function s(t,e,n){function r(){c=n.context.selectAll("line.subline-x");var t=f.mouse(this),r=t[0]-u.opts.left,i=Math.floor(r/u.opts.width*d);if(p[i]){o=p[i];var a=l.values(o),s=Math.floor(e.width(a));s=s%2===0?s:s>1?s-1:0;var y=.5*s;if(c.attr("transform",function(){var t=e.left(a);return"translate("+Math.floor(t+y)+",0)"}),v.attr("transform",function(){return"translate(0, "+u.y(a.close)+")"}),m.attr("style",""),r<.5*u.opts.width?m.style("right",function(){return(u.opts.right-1||44)+"px"}):m.style("left",function(){return u.opts.left+"px"}),"string"==typeof u.opts.series.item.tooltips){var g=u.opts.series.item.tooltips,x=h.template(g);m.html(x({data:a}))}m.style("display","block")}}function s(){c=n.context.selectAll("line.subline-x"),m.style("display","none"),c.attr("transform",function(){return"translate(-1000, 0)"}),v.attr("transform",function(){return"translate(0, -1000)"})}var o,c,u=e.get(),l=u.store,p=l.category(),d=p.length,m=n.context.select("div.s-chart-tips"),v=(i(t,u),a(t,u));n.context.select("svg").on("mousemove",r).on("mouseleave",s),n.context.select("svg").on("touchmove",r)}function o(t){var e=c(t),n=t.get(),r=n.opts,i=r.left,a=r.top;return function(t){return t.call(d,i,a,e)}}function c(t){var e=t.get(),n=v().type(function(){return"bottom"}).top(function(){return e.opts.height}).width(function(){return e.opts.width}).height(function(){return e.opts.height}).enable(function(){try{return e.opts.xAxis[0].enable}catch(t){return!0}}).tick(function(t){try{return e.opts.xAxis[0].tickLabel(t)}catch(n){return t.tick}});return n(e.x.ticks())}function u(t,e){var n=t.get(),r=e.get(),i=n.opts,a=i.left,s=i.top,o=i.width,c=i.height;return function(t){var e=l(o,c,"left",i.yAxis[0]);t.call(d,a,s,e(n.y.ticks()));var u,f=l(o,c,"right",i.yAxis[1]),h=r.y.ticks(),p={};try{u=i.yAxis[1].share||!1}catch(m){u=!1}u?(p.size=h.size,p.values=h.values.map(function(t){return{index:t.index,tick:t.tick,fill:.01*t.tick<0?"#17a017":"#e10019",style:.01*t.tick===0?"stroke-dasharray":""}})):p=h,t.call(d,a,s,f(p))}}function l(t,e,n,r){var i=v().type(function(){return n||"left"}).width(function(){return t}).height(function(){return e}).tick(function(t){try{return r.tickLabel(t)}catch(e){return t.tick}});return i}var f=t("d3"),h=t("_"),p=t("cn/szse/chart/utils/Utils"),d=t("cn/szse/chart/elements/impl/Axis"),m=t("cn/szse/chart/elements/impl/GridsBox"),v=t("cn/szse/chart/elements/IAxis"),y=t("cn/szse/chart/shapes/impl/Path"),g=t("cn/szse/chart/shapes/impl/Candlestick"),x=t("cn/szse/chart/shapes/impl/Marker");return n}),t("cn/szse/chart/elements/impl/Map",function(t){function e(t,e,i){var o=e.get(),c=t.selectAll("g.items-province").data(["items-province"]);c.enter().append("g").attr("class","items-province"),c.exit().remove();var u=n(e,i);if(c.call(u),void 0===i.state.itemEvent){var l=o.opts.sType.toLowerCase(),f=i.context.select("g.s-chart-"+l);i.on("province-click",function(t){a()(t,f)}),i.on("city-click",function(t){s()(t,f)}),i.state.itemEvent=!0}var h=r(e,i);t.call(h)}function n(t,e){return function(n){n.call(l,t,e)}}function r(t,e){var n=i(t);return function(t){return t.call(u,n,e)}}function i(t){var e=t.get(),n=e.opts.series.item,r=c().location(function(){var t=n.tooltips;if(t){var e=t.location;return e?e:"right"}}).text(function(e,n){return t.tooltipsText(e,n)});return r(e)}function a(){var t=["none","block"];return function(e,n){o(e,n,t)}}function s(){var t=["block","none"];return function(e,n){o(e,n,t)}}function o(t,e,n){t.style("display",n[0]),e.select("g.items-symbol").style("display",n[0]),e.select("g.items-label").style("display",n[0]),e.select("g.items-city").style("display",n[1]),e.select("g.items-city-symbol").style("display",n[1]),e.select("g.items-city-label").style("display",n[1])}var c=(t("d3"),t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/elements/IMap"),t("cn/szse/chart/elements/ITooltips")),u=(t("cn/szse/chart/elements/impl/GridsBox"),t("cn/szse/chart/elements/impl/Tooltips")),l=t("cn/szse/chart/shapes/impl/Map");return e}),t("cn/szse/chart/elements/impl/MarchBrush",function(t){function e(t,e,r){var a=e.get(),o=n(t,e,r),u=i(t,e,r),f=c(e),h=l(e);t.call(f).call(h).call(m,e);var p=t.selectAll("g.items-series").data(["items-series"]);p.enter().append("g").attr("class","items-series"),p.attr("transform",function(){return"translate("+a.opts.left+", "+a.opts.top+")"});var d=t.selectAll("g.items-symbol").data(["items-symbol"]);d.enter().append("g").attr("class","items-symbol"),d.attr("transform",function(){return"translate("+a.opts.left+", "+a.opts.top+")"});var v=s(e,r);p.call(y,e),d.call(v),p.call(o).call(u).selectAll("rect").attr("height",a.opts.height),p.exit().remove()}function n(t,e,n){var i,s=e.get(),o=s.store.data(),c=s.store.input(),u=o.length,l=c.length,f=s.store.category();try{i=s.opts.series.minExtent||15}catch(p){i=15}var d,m,v=h.scale.linear(),y=v.domain([0,u-1]).range([0,s.opts.width]),g=a(e,n),x=s.store.range.apply(null,[g.start,g.stop]);if(n.BRUSH_EXTENT){var b=n.BRUSH_EXTENT[1];b===l-2&&(n.BRUSH_EXTENT[0]+=1,n.BRUSH_EXTENT[1]+=1,d=Math.floor(n.BRUSH_EXTENT[0]),m=Math.floor(n.BRUSH_EXTENT[1]),n.fire("brush-end",f[d],f[m]))}else l-1===x[1]&&(n.BRUSH_EXTENT=x);var z=h.svg.brush().x(y).extent(n.BRUSH_EXTENT||x).on("brushstart",function(){var t=z.extent(),e=Math.floor(t[0]),r=Math.floor(t[1]);n.BRUSH_EXTENT=[e,r],n.fire("brush-start",f[e],f[r]),n.state.start=e,n.state.stop=r}).on("brushend",function(t){var e,a=z.extent(),s=Math.floor(a[0]),o=Math.floor(a[1]);z.extent(n.BRUSH_EXTENT),o-s>=i?(n.BRUSH_EXTENT=[s,o],n.fire("brush-end",f[s],f[o]),n.state.start=s,n.state.stop=o):(e=r(n,s,o,i),s=e[0],o=e[1],n.BRUSH_EXTENT=[s,o],n.fire("brush-end",f[s],f[o]))}).on("brush",function(){var t,e,r=z.extent(),i=Math.floor(r[0]),a=Math.floor(r[1]);f[i]&&(t=f[i].split(" ")[1]),f[a]&&(e=f[a].split(" ")[1]),n.fire("brush-label",f[i]&&t||"--:--",f[a]&&e||"--:--")});return z}function r(t,e,n,r){return e!=t.state.start&&n==t.state.stop?t.state.start=e=n-r:e==t.state.start&&n!=t.state.stop?t.state.stop=n=e+r:e!=t.state.start&&n!=t.state.stop&&r>n-e&&(n=e+r),[e,n]}function i(t,e,n){return function(t){var r=(e.get(),n.context.select("g.resize.w")),i=n.context.select("g.resize.e"),s=r.selectAll("text.resize-w").data([0]),o=i.selectAll("text.resize-e").data([0]);s.enter().append("text"),o.enter().append("text"),s.attr("class","resize-w").attr("text-anchor","middle").attr("dy","-0.1em"),o.attr("class","resize-e").attr("text-anchor","middle").attr("dy","-0.1em"),s.exit().remove(),o.exit().remove();var c=a(e,n);s.text(c.startLabel),o.text(c.stopLabel),n.on("brush-label",function(t,e){s.text(t),o.text(e)})}}function a(t,e){var n=t.get(),r=n.store.category(),i=r.length,a=p.timeFormat(new Date,"yyyy-MM-dd"),s=a+" "+n.opts.domain[0],o=a+" "+n.opts.domain[1],c=new Date(s).getTime(),u=new Date(o).getTime(),l=new Date(r[0]).getTime(),f=new Date(r[i-1]).getTime(),h=n.opts.domain[0],d=n.opts.domain[1];if(l>c&&(h=r[0].split(" ")[1],s=r[0]),u>f&&(d=r[i-1].split(" ")[1],o=r[i-1]),e.BRUSH_EXTENT){var m=Math.floor(e.BRUSH_EXTENT[0]),v=Math.floor(e.BRUSH_EXTENT[1]);r[m]&&(h=r[m].split(" ")[1]),r[v]&&(d=r[v].split(" ")[1])}return{startLabel:h,stopLabel:d,start:s,stop:o}}function s(t,e){var n=o(t);return function(t){return t.call(x,n,e)}}function o(t){var e=t.get(),n=e.opts.series.item,r=g().x(function(t,n){return e.size?e.x(t.time)+e.size/2:e.x(t.time)}).y(function(e,n){return null===e.value&&(e.value=0),e.value||0===e.value?t.y(e,n):-1e4}).klass(function(t){return"item "}).category(function(t){return t.time}).series(function(t){return t.code}).fill(function(t,e){try{return n.style(t,e).fill||z(t.series)}catch(r){return z(t.series)}}).icon(function(t){var e=b().size(12);return e()});return r(e)}function c(t){var e=u(t),n=t.get(),r=n.opts,i=r.left,a=r.top;return function(t){return t.call(d,i,a,e)}}function u(t){var e=t.get(),n=v().type(function(){return"bottom"}).top(function(){return e.opts.height}).width(function(){return e.opts.width}).height(function(){return e.opts.height}).tick(function(t){return t.tick});return n(e.x.ticks())}function l(t){var e=t.get(),n=e.opts,r=n.left,i=n.top,a=n.width,s=n.height,o=f(a,s);return function(t){t.call(d,r,i,o(e.y.ticks()))}}function f(t,e,n){var r=v().type(function(){return n||"left"}).width(function(){return t}).height(function(){return e}).tick(function(t){return t.tick});return r}var h=t("d3"),p=t("cn/szse/chart/utils/Utils"),d=t("cn/szse/chart/elements/impl/Axis"),m=t("cn/szse/chart/elements/impl/GridsBox"),v=t("cn/szse/chart/elements/IAxis"),y=t("cn/szse/chart/shapes/impl/Path"),g=t("cn/szse/chart/shapes/ISymbol"),x=t("cn/szse/chart/shapes/impl/Symbol"),b=t("cn/szse/chart/shapes/impl/Icon"),z=h.scale.category10();return e}),t("cn/szse/chart/elements/impl/CirclePartition",function(t){function e(t){return t.startAngle+(t.endAngle-t.startAngle)/2}function n(t){var n=e(t);return 0>n?!1:n%(2*Math.PI)<Math.PI}function i(t,e,n,r){var i=n.context.selectAll("div.s-chart-breadcrumb").data(["s-breadcrumb-uid"],function(t){return t});i.enter().append("div").attr("class","s-chart-breadcrumb");var s=i.selectAll(".item");s=s.data(n.breadcrumb);var c=s.enter().append("span").attr("class","item");s.each(function(t){var e=p.select(this),n=e.selectAll(".txt").data([t]);n.enter().append("i").attr("class","txt"),n.attr("title",function(t){return t.series}).text(function(t){return t.series})}),c.append("em").attr("class","arrow"),s.exit().remove(),s.on("click",function(t){n.selkey=t.series;var e=n.breadcrumb.indexOf(t)+1;n.breadcrumb=n.breadcrumb.slice(0,e),n.update()}),t.attr("transform",function(){return"translate("+(r.width/2+35)+", "+(r.height/2+20)+")"});var l=t.selectAll("g.items-path").data(["items-path"]);l.enter().append("g").attr("class","items-path");var h=a(e,n);if(l.call(h),n.off("arc-click").on("arc-click",function(t,e){if(0!==+t.data.value&&0!==t.data.childs.length){n.selkey=t.data.series;var r=[];t.data.parents.forEach(function(t){t.active=!0,r.push(t)}),n.breadcrumb=r,n.update()}}),e.label()){var d=t.selectAll("g.items-label").data(["items-label"]);d.enter().append("g").attr("class","items-label");var m=o(e,n);if(d.call(m),"OUT"===e.label().location.toUpperCase()){var v=t.selectAll("g.items-polyline").data(["items-polyline"]);v.enter().append("g").attr("class","items-polyline");var y=u(e,n);v.call(y)}}if(void 0!==r.series.item.tooltips){var g=f(e,n,r);t.call(g)}var x=e.data().series.map(function(t){try{return{series:t,color:r.series.style({series:t}).fill||"#000"}}catch(n){return{series:t,color:e.fill({series:t})}}});n.legend(x)}function a(t,e){var n=s(t,e);return function(t){return t.call(x,n,e)}}function s(t,e){var n=t.data().data,r=(new g).series(t.series).category(t.category).animation(t.animation).delay(500).fill(t.fill).stroke(t.stroke).transform(function(t){if(e.selSeries.indexOf(t.data.series)>=0){var n=12.5;return mid=k.centroid({startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:.9*n,outerRadius:.9*n,data:t}),"translate("+mid+")"}return""});return r(n)}function o(t,e){var n=c(t,e);return function(t){t.call(m,n,e)}}function c(t,r){var i={store:{data:function(){return t.data().data}},dy:".3em"},a=(new d).anchor(function(n){return t.label()&&"OUT"===t.label().location.toUpperCase()?e(n)<Math.PI?"start":"end":"middle"}).series(t.series).category(t.category).animation(t.animation).delay(500).transform(function(e,i){if(r.selSeries.indexOf(e.data.series)>=0)return t.label()&&"OUT"===t.label().location.toUpperCase()?(a=1.25*(e.outerRadius+10),s=k.centroid({startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:.9*a,outerRadius:.9*a,data:e}),o=[.95*a*(n(e)?1:-1),s[1]],"translate("+o+")"):(a=1.25*(e.innerRadius+(e.outerRadius-e.innerRadius)/2),s=k.centroid({startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:.9*a,outerRadius:.9*a,data:e}),"translate("+s+")");if(t.label()&&"OUT"===t.label().location.toUpperCase()){var a=1.25*e.outerRadius,s=k.centroid({startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:.9*a,outerRadius:.9*a,data:e}),o=[.95*a*(n(e)?1:-1),s[1]];return"translate("+o+")"}return t.label()&&"IN"===t.label().location.toUpperCase()?"translate("+k.centroid(e)+")":void 0}).label(t.label);return a(i)}function u(t,e){var n=l(t,e);return function(t){t.call(y,n,e)}}function l(t,e){var i=t.data().data,a=(new v).fill(t.fill).series(t.series).category(t.category).animation(t.animation).delay(500).points(function(t,e){outerRadius=t.outerRadius;var r=1.25*t.outerRadius,i=k.centroid({startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:.8*r,outerRadius:.8*r,data:t}),a=k.centroid({startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:.9*r,outerRadius:.9*r,data:t}),s=[.95*r*(n(t)?1:-1),a[1]];return[i,a,s]}).transform(function(t,n){return e.selSeries.indexOf(t.data.series)>=0?(r=12.5,mid=k.centroid({startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:.9*r,outerRadius:.9*r,data:t}),"translate("+mid+")"):void 0});return a(i)}function f(t,e,n){var r=h(t,n);return function(t){return t.call(z,r,e)}}function h(t,e){var n=t.data().data,r=e.series.item,i=b().location(function(){var t=r.tooltips;if(t){var e=t.location;return e?e:"right"}}).text(function(t){var e=r.tooltips;if(e){var n=e.text;return void 0===n?'<h4 class="tips-title">'+t.data.series+'</h4>value: <span class="s-chart-height s-chart-price">'+t.value.toFixed(2)+"</span><br />":n(t)}});return i({store:n,opts:e})}var p=t("d3"),d=(t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/shapes/ILabel")),m=t("cn/szse/chart/shapes/impl/Label"),v=t("cn/szse/chart/shapes/IPolyLine"),y=t("cn/szse/chart/shapes/impl/PolyLine"),g=t("cn/szse/chart/shapes/IArc"),x=t("cn/szse/chart/shapes/impl/Arc"),b=t("cn/szse/chart/elements/ITooltips"),z=t("cn/szse/chart/elements/impl/Tooltips"),k=p.svg.arc();return i}),t("cn/szse/chart/elements/impl/Radar",function(t){function e(t,e,r){var o=e.get(),c=o.opts,u=c.series.item;t.attr("transform","translate("+(u.width/2+35)+","+(u.height/2+20)+")");var l=t.selectAll("g.items-level").data(["items-level"]);l.enter().append("g").attr("class","items-level");var f=s(e,r);l.call(f);var h=t.selectAll("g.items-axies").data(["items-axies"]);h.enter().append("g").attr("class","items-axies");var p=a(e,r);h.call(p);var d=t.selectAll("g.items-polygon").data(["items-polygon"]);d.enter().append("g").attr("class","items-polygon");var m=i(e,r);if(d.call(m),void 0!==c.series.item.tooltips){var v=n(e,r,c);t.call(v)}void 0===r.state.events&&(r.state.events=!0,r.on("polygon-mouseover",function(e){t.selectAll("polygon").transition(200).style("fill-opacity",function(t){var n=this.getAttribute("data-series");return n===e.series?.7:0}),t.selectAll("path.item").transition(200).style("fill-opacity",function(t){var n=this.getAttribute("data-series");return n===e.series?1:.5})}).on("polygon-mouseout",function(e){t.selectAll("polygon").transition(200).style("fill-opacity",""),t.selectAll("path.item").transition(200).style("fill-opacity","")}).on("symbol-mouseover",function(e){t.selectAll("polygon").transition(200).style("fill-opacity",function(t){var n=this.getAttribute("data-series");return n===e.data.series?.7:0}),t.selectAll("path.item").transition(200).style("fill-opacity",function(t){var n=this.getAttribute("data-series");return n===e.data.series?1:.5}),r.fire("item-mouseover",e.data)}).on("symbol-mouseout",function(e){t.selectAll("polygon").transition(200).style("fill-opacity",""),t.selectAll("path.item").transition(200).style("fill-opacity",""),r.fire("item-mouseout")}))}function n(t,e,n){var i=r(t,n);return function(t){return t.call(S,i,e)}}function r(t,e){var n=t.get(),r=e.series.item,i=T().location(function(){var t=r.tooltips;if(t){var e=t.location;return e?e:"right"}}).text(function(t){var e=r.tooltips;if(e){var n=e.text;return void 0===n?'<h4 class="tips-title">'+t.category+'</h4><span class="s-chart-height s-chart-price">'+t.series+'</span><br /><span class="s-chart-height s-chart-price">'+t.data.value+"</span><br />":n(t)}});return i(n)}function i(t,e){var n=o(t);return function(t){return t.call(z,n.iPolygon,e).call(A,n.iSymbol,e)}}function a(t,e){var n=c(t);return function(t){return t.call(x,n.iLine,e).call(M,n.iLable,e)}}function s(t,e){var n=u(t),r=t.get(),i=r.opts.series.item;return function(t){return i.ticklabel?t.call(x,n.iLine,e).call(M,n.iLable,e):t.call(x,n.iLine,e)}}function o(t){var e=t.get(),n=e.store.store(),r=e.opts,i=r.series.item,a=e.store.category(),s=e.store.series(),o=a.length,c=i.radius||i.factor*Math.min(i.width/2,i.height/2),u=(v.format(""),[]),l=[];return s.forEach(function(t){var e=n[t],r=[];e.forEach(function(t,e){var n=i.extent[t.category],a=0,s=0,u=a+Math.sin(e*i.radians/o)*c*((t.value-n.min)/(n.max-n.min)),f=s-Math.cos(e*i.radians/o)*c*((t.value-n.min)/(n.max-n.min)),h=[u,f];r.push(h);var p={x:u,y:f,series:t.series,category:t.category,fill:i.color(t),stroke:i.stroke(t),data:t};l.push(p)}),r.push(r[0]);var a="";r.forEach(function(t,e){a+=t[0]+","+t[1]+" "});var s={points:a,series:t,stroke:i.stroke({series:t}),fill:i.color({series:t})};u.push(s)}),{iPolygon:h(u,t),iSymbol:m({store:{data:function(){return l}}},t)}}function c(t){var e=t.get(),n=e.opts,r=n.series.item,i=e.store.category(),a=i.length,s=r.radius||r.factor*Math.min(r.width/2,r.height/2),o=(v.format(""),[]),c=[];return i.forEach(function(t,e){var n=0,i=0,u=n+Math.sin(e*r.radians/a)*s,l=i-Math.cos(e*r.radians/a)*s,f={x1:n,y1:i,x2:u,y2:l};o.push(f);var h=n>=u?-1*y.measureText(t).width:y.measureText(t).width/2,p=i>l?-18:18,d={x:u+6,y:l+6,transform:"translate("+h+","+p+")",text:t};c.push(d)}),{iLine:p(o,t),iLable:d({store:{data:function(){return c}}},t)}}function u(t){var e=t.get(),n=e.opts,r=n.series.item,i=e.store.category(),a=i.length,s=r.radius||r.factor*Math.min(r.width/2,r.height/2),o=v.format(""),c=[],u=[];return l(r.levels).forEach(function(t,e){var n=r.factor*s*((e+1)/r.levels);f(i).forEach(function(t,i){var s=n*(1-r.factor*Math.sin(i*r.radians/a)),l=n*(1-r.factor*Math.cos(i*r.radians/a)),f=n*(1-r.factor*Math.sin((i+1)*r.radians/a)),h=n*(1-r.factor*Math.cos((i+1)*r.radians/a)),p={x1:s,y1:l,x2:f,y2:h,fill:"",transform:"translate("+-1*n+", "+-1*n+")"};c.push(p);var d=r.extent[t],m="";m="translate("+-1*n+", "+-1*n+")";var v={x:f,y:h,transform:m,text:o((e+1)*(d.max-d.min)/r.levels+d.min)};u.push(v)})}),{iLine:p(c,t),iLable:d({store:{data:function(){return u}}},t)}}function l(t){for(var e=[],n=0;t>n;n++)e.push(n);return e}function f(t){for(var e=[],n=t.length-1;n>=0;n--)e.push(t[n]);return e}function h(t,e){var n=e.get(),r=n.opts.series.item,i=(new b).stroke(function(t,e){return t.stroke}).fill(function(t,e){return t.fill}).points(function(t,e){return t.points}).series(function(t,e){return t.series}).animation(function(){try{return r.animation}catch(t){return!1}}).category(function(t,e){return t.category});return i(t)}function p(t,e){var n=(new g).x1(function(t,e){return t.x1}).x2(function(t,e){return t.x2}).y1(function(t,e){return t.y1}).y2(function(t,e){return t.y2}).stroke(function(t,e){return t.stroke}).transform(function(t,e){return t.transform});return n(t)}function d(t,e){var n=(new w).dx(function(t,e){return t.x}).dy(function(t,e){return t.y}).fill(function(t,e){return t.fill}).transform(function(t,e){return t.transform}).label(function(t,e){return{text:function(t){return t.text}}});return n(t)}function m(t,e){var n=e.get(),r=(n.cfg,n.opts.series.item),i=k().x(function(t,e){return t.x}).y(function(t,e){return t.y}).series(function(t){return t.series}).category(function(t){return t.category}).fill(function(t,e){return t.fill}).stroke(function(t,e){return t.stroke}).icon(function(t){try{var r,i=n.opts.series.icon,a=n.opts.series.min||"circle",s=n.opts.series.max||"circle",o=e.r(t);if(i instanceof Array){var c=n.store.getIndex(t.series);r=E().type(i[c]).size(o)}else r="string"==typeof i?E().type(i).size(o):E().size(o);return t.max&&"string"==typeof s&&(r=E().type(s).size(o)),t.min&&"string"==typeof a&&(r=E().type(a).size(o)),r()}catch(u){return E("circle")()}}).animation(function(){try{return r.animation}catch(t){return!1}});return i(t)}var v=t("d3"),y=t("cn/szse/chart/utils/Utils"),g=t("cn/szse/chart/shapes/ILine"),x=t("cn/szse/chart/shapes/impl/Line"),b=t("cn/szse/chart/shapes/IPolygon"),z=t("cn/szse/chart/shapes/impl/Polygon"),k=t("cn/szse/chart/shapes/ISymbol"),A=t("cn/szse/chart/shapes/impl/Symbol"),w=t("cn/szse/chart/shapes/ILabel"),M=t("cn/szse/chart/shapes/impl/Label"),E=t("cn/szse/chart/shapes/impl/Icon"),T=t("cn/szse/chart/elements/ITooltips"),S=t("cn/szse/chart/elements/impl/Tooltips");return e}),t("cn/szse/chart/factory/Cloud",function(t){function e(t,e){var r=i(t,e.xAxis[0]);return n(this,r,e)}function n(t,e,n){return function(){return r(t,e,n)}}function r(t,e,n){var r=e.extent(),i=e.series();u.domain(i);var s=a.scale.linear().domain(r).range([12,30]),l=o().width(function(){return n.width}).height(function(){return n.height}).fill(function(t,e){try{return n.item.style(t,e).fill}catch(r){return u(t.series)}}).size(function(t){return s(t)}).series(function(t,e){return t.series}).category(function(t,e){return t.value}),f=l(e.data());return function(e){return e.call(c,f,t)}}function i(t){var e=s.extent(t,function(t){return Math.abs(+t.value)}),n=t.map(function(t){return t.series});return{extent:function(){return e},series:function(){return n},data:function(){return t}}}var a=t("d3"),s=(t("cloud"),t("cn/szse/chart/utils/Utils")),o=t("cn/szse/chart/elements/ICloud"),c=t("cn/szse/chart/elements/impl/Cloud"),u=a.scale.category20();return e}),t("cn/szse/chart/elements/impl/Risk",function(t){function e(t,e,n,r){var s=e.get(),o=f(e),l=p(e,n);t.call(x,e).call(o).call(l);var h=t.selectAll("g.items-series-left").data(["items-series-left"]);h.enter().append("g").attr("class","items-series items-series-left").attr("transform",function(){return"translate("+s.opts.left+", "+s.opts.top+")"}),s.store.data().length&&h.call(z,e);var d=a(r._messages,e);h.call(w,d,s,r),h.exit().remove();var m=t.selectAll("g.items-series-right").data(["items-series-right"]);m.enter().append("g").attr("class","items-series items-series-right ").attr("transform",function(){return"translate("+s.opts.left+", "+s.opts.top+")"}),n.get().store.data().length&&m.call(z,n),m.exit().remove();var v=t.selectAll("g.items-series-point").data(["items-series-point"]);v.enter().append("g").attr("class","items-series-point").attr("transform",function(){return"translate("+s.opts.left+", "+s.opts.top+")"}),v.exit().remove(),v.selectAll("circle.line-point").attr("transform",function(t){return"translate(-9999, 0)"});var y=c(e,n,r);i(t,n,r),u(v,y,r)}function n(t,e){var n=r(t);return function(t){return t.call(A,n,e)}}function r(t){var e=t.get(),n=(e.opts.series,e.opts.width/e.store.category().length,k().x(function(t){return e.x(t.time)+.5*e.x.rangeBand()}).y0(function(t,n){return e.opts.height}).y1(function(t,n){return t.time?e.y(Math.abs(t.value)):e.y(0)}).series(function(t){return t.series}).interpolate(function(){return!0}).fill(function(t,e){return"url(#linearGradient)"}));return n(e)}function i(t,e,r){var i=e.get(),a=t.selectAll("rect.items-series-rect").data(["items-series-rect"]);a.enter().append("rect").attr("class","items-series-rect").attr("x",i.opts.left).attr("y",i.opts.top).style("fill",'url("#linear-gradient")').attr("clip-path","url(#clip-area)").style("opacity",.5),a.attr("width",i.opts.width).attr("height",i.opts.height),a.exit().remove();var s=t.selectAll(".linear-gradient").data(["linear-gradient"]);s.enter().append("linearGradient").attr("class","linear-gradient").attr("id","linear-gradient").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2","100%"),s.exit().remove();var o=[{offset:"0%","stop-color":"#ff0000"},{offset:"25%","stop-color":"#FF5400"},{offset:"50%","stop-color":"#FFD200"},{offset:"75%","stop-color":"#056D00"},{offset:"100%","stop-color":"#002389"}],c=s.selectAll("stop").data(o);c.enter().append("stop").attr("offset",function(t){return t.offset}).attr("stop-color",function(t){return t["stop-color"]}),c.exit().remove();var u=t.selectAll(".clip-area").data(["clip-area"]);u.enter().append("clipPath").attr("class","clip-area").attr("transform",function(){return"translate("+i.opts.left+", "+i.opts.top+")"}).attr("id","clip-area"),u.exit().remove();var l=n(e,r);u.call(l)}function a(t,e){var n=e.get(),r=[];return t.forEach(function(t){var i=n.store.values(t.time);i&&r.push({x:e.x(i),y:e.y(i),data:t})}),r}function s(t,e,n,r){var i=t.selectAll("line.subline-x").data(e);return i.enter().append("line").attr("class","subline-x").attr("y1",function(){return 0}),i.attr("y2",function(){return n}),i.exit().remove(),r.context.selectAll("line.subline-x").attr("transform",function(){return"translate("+e[0].x+", 0)"}),i}function o(t,e){var n=t.selectAll("circle.line-point").data(e);return n.enter().append("circle").attr("class","line-point").attr("r",function(){return 2}),n.attr("transform",function(t){return"translate("+t.x+", "+t.y+")"}).attr("fill",function(t){return t.color}).attr("stroke",function(t){return t.color}),n.exit().remove(),n}function c(t,e,n){var r,i=t.get(),a=e.get(),s=i.store.category(),o=i.store.size();return{width:i.opts.width,height:i.opts.height,left:function(t){return t[0]-i.opts.left},optsLeft:function(){return i.opts.left},index:function(t){var e=t[0]-i.opts.left;return Math.floor(e/i.opts.width*o)},find:function(t){var e=this.index(t);return s[e]&&r!==s[e]?(r=s[e],e):-1},size:function(){return o},findKey:function(t){return s[t]&&r!==s[t]&&(r=s[t]),r},values:function(){var t=i.store.values(r);if(!t)return{};var e,s=a.store.values(r),o={time:t.time,data:[]},c="#333";try{e=i.opts.series.style({series:t.series}).stroke||n.colors(t.series)}catch(u){e=n.colors(t.series)}if(s)try{c=i.opts.series.style({series:s.series}).stroke||n.colors(s.series)}catch(u){c=n.colors(s.series)}return o.data.push({x:i.x(t.time)+.5*i.x.rangeBand(),y:i.y(t.value),color:e,attr:t.attr,data:{series:t.series,time:t.time,value:t.value}}),s&&o.data.push({x:a.x(t.time)+.5*a.x.rangeBand(),y:a.y(s.value),color:c,attr:s.attr,data:{series:s.series,time:s.time,value:s.value}}),o},data:function(){return i.store.data()},buffer:function(){return n._buffer[r]?n._buffer[r].values:[]},get:function(){return i.opts}}}function u(t,e,n){var r;r=e.findKey(n.categoryIndex),r&&l(t,e,n.categoryIndex,n),n.context.on("mousemove",function(){var r=v.mouse(this),i=(e.left(r),e.find(r));l(t,e,i,n)}),n.off("item-subline-event").on("item-subline-event",function(i){r=e.findKey(i),r&&l(t,e,i,n)})}function l(t,e,n,r){var i=r.context.select("div.s-chart-tips"),a=e.get(),c=e.size(),u=e.data().length,l={};
if(n>=0)if(map=e.values(),i.attr("style",""),map.time){t.call(s,[map.data[0]],e.height,r).call(o,map.data),.5*c>n?i.style("right",function(){return e.optsLeft()+"px"}):i.style("left",function(){return e.optsLeft()+"px"}),l.time=map.time,l.data=[],map.data.forEach(function(t){l.data.push({data:t.data,color:"#333",attr:t.attr})});var f=e.buffer();if(f.forEach(function(t){l.data.push({data:t,color:"#333",attr:t.attr})}),"string"==typeof a.series.item.tooltips){var h=a.series.item.tooltips,p=m.template(h);i.html(p({data:l}))}i.style("display","block"),t.style("display","block"),r.categoryIndex=n,r.categoryLength=u}else i.style("display","none")}function f(t){var e=h(t),n=t.get(),r=n.opts,i=r.left,a=r.top;return function(t){return t.call(g,i,a,e)}}function h(t){var e=t.get(),n=b().type(function(){return"bottom"}).top(function(){return e.opts.height}).width(function(){return e.opts.width}).height(function(){return e.opts.height}).tick(function(t){try{return e.opts.xAxis[0].tickLabel(t)}catch(n){return t.tick}});return n(e.x.ticks())}function p(t,e){var n=t.get(),r=e.get(),i=n.opts,a=i.left,s=i.top,o=i.width,c=i.height;return function(t){var e=d(o,c,"left",i.yAxis[0]);t.call(g,a,s,e(n.y.ticks()));var u=d(o,c,"right",i.yAxis[1]);t.call(g,a,s,u(r.y.ticks()))}}function d(t,e,n,r){var i=b().type(function(){return n||"left"}).width(function(){return t}).height(function(){return e}).tick(function(t){try{return r.tickLabel(t)}catch(e){return t.tick}});return i}var m=t("_"),v=t("d3"),y=t("cn/szse/chart/utils/Utils"),g=t("cn/szse/chart/elements/impl/Axis"),x=t("cn/szse/chart/elements/impl/GridsBox"),b=t("cn/szse/chart/elements/IAxis"),z=t("cn/szse/chart/shapes/impl/Path"),k=t("cn/szse/chart/shapes/IArea"),A=t("cn/szse/chart/shapes/impl/Area"),w=t("cn/szse/chart/shapes/impl/Marker");return e}),t("cn/szse/chart/elements/impl/Scatter",function(t){function e(t,e,r,a,o){var u=e.get(),f=v(o.context.node()),p=h(e),m=d(e);t.call(x,e).call(p).call(m);var y=t.selectAll("g.items-symbol").data(["items-symbol"]);y.enter().append("g").attr("class","items-symbol").attr("transform",function(){return"translate("+u.opts.left+", "+u.opts.top+")"});var g=n(e,o);if(y.call(g),u.opts.series.average===!0){var b=t.selectAll("g.items-average").data(["items-average"]);b.enter().append("g").attr("class","items-average").attr("transform",function(){return"translate("+u.opts.left+", "+u.opts.top+")"});var z=s(a,o);b.call(z);var k=c(a,o);b.call(k)}if(void 0!==u.opts.series.curves){var A=t.selectAll("g.items-line").data(["items-line"]);A.enter().append("g").attr("class","items-line").attr("transform",function(){return"translate("+u.opts.left+", "+u.opts.top+")"});var w=s(r,o);A.call(w)}if(e.label()){var M=t.selectAll("g.items-label").data(["items-label"]);M.enter().append("g").attr("class","items-label").attr("transform",function(){return"translate("+u.opts.left+", "+u.opts.top+")"});var E=i(e,o);M.call(E)}if(void 0!==u.opts.series.item.tooltips){var T=l(e,o);t.call(T)}void 0===o.state.symbolEvent&&(o.state.symbolEvent=!0,o.on("symbol-mouseover",function(t){var e=v(t.element),n=e.data("series"),r=e.siblings("path.item"),i=(f.find("g.items-symbol path.item"),f.find("g.items-line path.item")),a=f.find("g.items-label text.item");o.fire("series-siblings-event",r,n).fire("series-siblings-event",i,n).fire("series-siblings-event",a,n),o.fire("item-mouseover",t.data)}).on("symbol-mousemove",function(t){o.fire("item-mouseover",t.data)}).on("symbol-mouseout",function(){f.find("g.items-symbol path.item").attr("opacity",1),f.find("g.items-line path.item").attr("opacity",1),f.find("g.items-label text.item").attr("opacity",1),o.fire("item-mouseout")}),o.on("series-siblings-event",function(t,e){return t.each(function(t){var n=v(this),r=n.data("series");r!==e&&n.attr("opacity",.5)}),this}))}function n(t,e){var n=r(t,e);return function(t){return t.call(M,n,e)}}function r(t,e){var n=t.get(),r=n.opts.series.item,i=A().x(function(e,n){return t.x(e,n)}).y(function(e,n){return t.y(e,n)}).series(function(t){return t.series}).category(function(t){return t.category}).fill(function(t,n){try{return r.style(t,n).fill}catch(i){return e.colors(t.series)}}).opacity(function(e,r){if(void 0!==e.opacity)try{return n.o(e.opacity).toFixed(1)}catch(i){return t.opacity(e,r)}return t.opacity(e,r)}).icon(function(e){try{var i,a=r.icon,s=r.min||"circle",o=r.max||"circle",c=t.r(e);if(a instanceof Array){var u=n.store.getIndex(e.series);i=S().type(a[u]).size(c)}else i="string"==typeof a?S().type(a).size(c):S().size(c);return e.max&&"string"==typeof o&&(i=S().type(o).size(c)),e.min&&"string"==typeof s&&(i=S().type(s).size(c)),i()}catch(l){return S("circle")()}}).animation(function(){try{return n.opts.animation}catch(t){return!1}});return i(n)}function i(t,e){var n=a(t,e);return function(t){return t.call(E,n,e)}}function a(t,e){var n=t.get(),r=n.opts.series.item,i=k().series(function(t){return t.series}).category(function(t){return t.category}).fill(function(t,n){try{return r.style(t,n).fill}catch(i){return e.colors(t.series)}}).animation(function(){try{return n.opts.animation}catch(t){return!1}}).label(function(t){try{var e=r.label;if(e){var n=e.text;return n||(n=function(t){return t.x+","+t.y}),{text:n}}return!1}catch(i){return!1}}).transform(function(e){var r=t.x(e),i=isNaN(t.y(e))?-1e4:t.y(e);return 0===r&&(r+=15),r==n.opts.width&&(r-=15),20>=i&&(i=20),"translate("+[r,i]+")"});return i(n)}function s(t,e){var n=o(t,e);return function(t){return t.call(T,n,e)}}function o(t,e){var n=t.get(),r=w().x(function(t,e){return n.x(t.x)}).y(function(t,e){return n.y(t.y)}).stroke(function(t,r){try{return n.opts.series.style(t,r).stroke}catch(i){return e.colors(t.series||t.name)}}).interpolate(function(){return!0}).defined(function(t){return"TimeBubble"==n.opts.sType?!0:t.x}).animation(function(){try{return n.opts.animation}catch(t){return!1}});return r(n)}function c(t,e){var n=u(t,e);return function(t){return t.call(E,n,e)}}function u(t,e){var n=t.get(),r=k().fill(function(t,r){try{return n.opts.series.item.style(t,r).fill}catch(i){return e.colors(t.series)}}).animation(function(){try{return n.opts.animation}catch(t){return!1}}).label(function(t){try{var e=n.opts.series.item.label;if(e){var r=e.text;return r||(r=function(t){return t.y.toFixed(2)}),{text:r}}return{text:function(){}}}catch(i){return!1}}).transform(function(e){var r=t.x(e),i=t.y(e)+8;return 0===r&&(r+=15),r==n.opts.width&&(r-=15),"translate("+[r,i]+")"});return r(n)}function l(t,e){var n=f(t);return function(t){return t.call(z,n,e)}}function f(t){var e=t.get(),n=e.opts.series.item,r=g().location(function(){var t=n.tooltips;if(t){var e=t.location;return e?e:"right"}}).text(function(t){var e=n.tooltips;if(e){var r=e.text;return void 0===r?'<h4 class="tips-title">'+t.series+'</h4>身高: <span class="s-chart-weight s-chart'+t.x+'">'+t.x+'</span><br />体重: <span class="s-chart-height s-chart'+t.y+'">'+t.y+"</span>":r(t)}});return r(e)}function h(t){var e=p(t),n=t.get(),r=n.opts,i=r.left,a=r.top;return function(t){return t.call(b,i,a,e)}}function p(t){var e=t.get(),n=y().type(function(){try{return e.opts.xAxis[0].location}catch(t){return"bottom"}}).top(function(){return e.opts.height}).width(function(){return e.opts.width}).height(function(){return e.opts.height}).tick(function(t){try{return e.opts.xAxis[0].tickLabel(t)}catch(n){return t.tick}}).animation(function(){try{return e.opts.animation}catch(t){return!1}});return n(e.x.ticks())}function d(t){var e=m(t),n=t.get(),r=n.opts,i=r.left,a=r.top;return function(t){return t.call(b,i,a,e)}}function m(t){var e=t.get(),n=y().type(function(){try{return e.opts.yAxis[0].location}catch(t){return"left"}}).width(function(){return e.opts.width}).height(function(){return e.opts.height}).tick(function(t){try{return e.opts.xAxis[0].tickLabel(t)}catch(n){return t.tick}}).animation(function(){try{return e.opts.animation}catch(t){return!1}});return n(e.y.ticks())}var v=(t("d3"),t("jQuery")),y=(t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/elements/IAxis")),g=t("cn/szse/chart/elements/ITooltips"),x=t("cn/szse/chart/elements/impl/GridsBox"),b=t("cn/szse/chart/elements/impl/Axis"),z=t("cn/szse/chart/elements/impl/Tooltips"),k=t("cn/szse/chart/shapes/ILabel"),A=t("cn/szse/chart/shapes/ISymbol"),w=t("cn/szse/chart/shapes/IPath"),M=t("cn/szse/chart/shapes/impl/Symbol"),E=t("cn/szse/chart/shapes/impl/Label"),T=t("cn/szse/chart/shapes/impl/Path"),S=t("cn/szse/chart/shapes/impl/Icon");return e}),t("cn/szse/chart/elements/impl/Slice",function(t){function e(t){return t.startAngle+(t.endAngle-t.startAngle)/2}function n(t,e){var n=parseInt(e/E);return M[t.data.series][n]}function r(t,n){M={};var r,i=[],a=[],s=[],o=[];t.data().forEach(function(t,n){r?r<t.outerRadius&&(r=t.outerRadius):r=t.outerRadius;var c=e(t)/(2*Math.PI);c>=.75?o.push(t):c>=.5?s.push(t):c>=.25?a.push(t):i.push(t)});var c=function(t,n){var r=e(t)/(2*Math.PI),i=e(n)/(2*Math.PI);return r>i?1:-1};i.sort(c).forEach(function(t,e){var a=n.height/2/i.length,s=[1.25*r,e*a-n.height/2+12];M[t.data.series]||(M[t.data.series]=[],E++),M[t.data.series].push(s)}),a.sort(c).forEach(function(t,e){var i=n.height/2/a.length,s=[1.25*r,e*i+12];M[t.data.series]||(M[t.data.series]=[],E++),M[t.data.series].push(s)}),s.reverse().forEach(function(t,e){var i=n.height/2/s.length,a=[1.25*r*-1,e*i+12];M[t.data.series]||(M[t.data.series]=[],E++),M[t.data.series].unshift(a)}),o.reverse().forEach(function(t,e){var i=n.height/2/o.length,a=[1.25*r*-1,e*i-n.height/2+12];M[t.data.series]||(M[t.data.series]=[],E++),M[t.data.series].unshift(a)})}function i(t,e,r){outerRadius=t.outerRadius;var i,a,s=1.25*t.outerRadius;r?(s+=10,i=w.centroid({startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:1.2*t.outerRadius,outerRadius:1.2*t.outerRadius,data:t}),a=w.centroid({startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:.9*s,outerRadius:.9*s,data:t})):(i=w.centroid({startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.outerRadius,outerRadius:t.outerRadius,data:t}),a=w.centroid({startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:.9*s,outerRadius:.9*s,data:t}));var o=n(t,e);return[i,a,o]}function a(t,e,n,i){r(e,i),t.attr("transform",function(){return"translate("+(i.width/2+35)+", "+(i.height/2+20)+")"});var a=t.selectAll("g.items-path").data(["items-path"]);a.enter().append("g").attr("class","items-path");var c=o(e,n);if(a.call(c),n.off("arc-click").on("arc-click",function(t,r,a){var o;o!==a&&(o&&o.setAttribute("class","segments"),o=a),a.setAttribute("class","segments item");var c=m.select(a).attr("transform"),u=a.getAttribute("data-series");s(n,e,i,c,u,r),n.fire("slice-click",t)}),n.off("arc-mouseover").on("arc-mouseover",function(t){n.context.selectAll("[data-series='"+t.data.series+"']").attr("opacity",function(t){return"polyline"===this.tagName?1:void 0})}),n.off("arc-mouseout").on("arc-mouseout",function(t){n.context.selectAll("[data-series='"+t.data.series+"']").attr("opacity",function(t){return"polyline"===this.tagName?.2:void 0})}),e.label()){var l=t.selectAll("g.items-label").data(["items-label"]);l.enter().append("g").attr("class","items-label");var h=u(e,n);if(l.call(h),"OUT"===e.label().location.toUpperCase()){var d=t.selectAll("g.items-polyline").data(["items-polyline"]);d.enter().append("g").attr("class","items-polyline");var v=f(e,n);d.call(v)}}if(void 0!==i.series.item.tooltips){var y=p(e,n,i);t.call(y)}}function s(t,e,a,s,o,c){r(e,a);var u=t.context.selectAll("[data-series="+o+"]");if(s)u.attr("transform",function(t){if("text"===this.tagName){if(e.label()&&"OUT"===e.label().location.toUpperCase()){var r=n(t,c);return"translate("+r+")"}if(e.label()&&"IN"===e.label().location.toUpperCase())return"translate("+w.centroid(t)+")"}else if("path"===this.tagName)return""}).attr("points",function(t){if("polyline"===this.tagName){var e=m.select(this).attr("points").split(","),n=i(t,c,!1);return n[2]=[e[4],e[5]],n}}).attr("class",function(t){return"text"===this.tagName?"item":"path"===this.tagName?"segments item":"polyline"===this.tagName?"polyline":void 0}),t.selSeries.indexOf(o)>-1&&t.selSeries.splice(t.selSeries.indexOf(o),1);else{u.attr("transform",function(t){var r,i;return"text"===this.tagName?e.label()&&"OUT"===e.label().location.toUpperCase()?(i=n(t,c),"translate("+i+")"):(r=1.25*(t.innerRadius+(t.outerRadius-t.innerRadius)/2),mid=w.centroid({startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:.9*r,outerRadius:.9*r,data:t}),"translate("+mid+")"):"path"===this.tagName?"scale(1.2,1.2)":void 0}).attr("points",function(t){if("polyline"===this.tagName){var e=m.select(this).attr("points").split(","),n=i(t,c,!0);return n[2]=[e[4],e[5]],n}}).attr("class",function(t){return"text"===this.tagName?"item":"path"===this.tagName?"segments item select":"polyline"===this.tagName?"polyline select":void 0}),t.selSeries.push(o)}}function o(t,e){var n=c(t,e);return function(t){return t.call(z,n,e)}}function c(t,e){var n=t.data(),r=(new b).series(t.series).category(t.category).animation(t.animation).delay(500).fill(t.fill).stroke(t.stroke).transform(function(t){return e.selSeries.indexOf(t.data.series)>=0?"scale(1.2,1.2)":""});return r(n)}function u(t,e){var n=l(t,e);return function(t){t.call(y,n,e)}}function l(t,r){var i={store:t,dy:".3em"},a=(new v).anchor(function(n){return t.label()&&"OUT"===t.label().location.toUpperCase()?e(n)<Math.PI?"start":"end":"middle"}).series(t.series).category(t.category).animation(t.animation).delay(500).transform(function(e,r){if(t.label()&&"OUT"===t.label().location.toUpperCase()){var i=n(e,r);return"translate("+i+")"}return t.label()&&"IN"===t.label().location.toUpperCase()?"translate("+w.centroid(e)+")":void 0}).label(t.label);return a(i)}function f(t,e){var n=h(t,e);return function(t){t.call(x,n,e)}}function h(t,e){var n=t.data(),r=(new g).fill(t.fill).series(t.series).category(t.category).animation(t.animation).delay(500).points(function(t,n){var r=e.selSeries.indexOf(t.data.series)>=0;return i(t,n,r)}).transform(function(t,e){});return r(n)}function p(t,e,n){var r=d(t,n);return function(t){return t.call(A,r,e)}}function d(t,e){var n=t.data(),r=e.series.item,i=k().location(function(){var t=r.tooltips;if(t){var e=t.location;return e?e:"right"}}).text(function(t){var e=r.tooltips;if(e){var n=e.text;return void 0===n?'<h4 class="tips-title">'+t.data.series+'</h4>value: <span class="s-chart-height s-chart-price">'+t.value.toFixed(2)+"</span><br />":n(t)}});return i({store:n,opts:e})}var m=t("d3"),v=(t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/shapes/ILabel")),y=t("cn/szse/chart/shapes/impl/Label"),g=t("cn/szse/chart/shapes/IPolyLine"),x=t("cn/szse/chart/shapes/impl/PolyLine"),b=t("cn/szse/chart/shapes/IArc"),z=t("cn/szse/chart/shapes/impl/Arc"),k=t("cn/szse/chart/elements/ITooltips"),A=t("cn/szse/chart/elements/impl/Tooltips"),w=m.svg.arc(),M={},E=0;return a}),t("cn/szse/chart/elements/impl/TimeBrush",function(t){function e(t,e,a){var o=e.get(),c=n(t,e,a),u=r(t,e,a),l=i(e),h=s(e);t.call(l).call(h).call(f,e);var d=t.selectAll("g.items-series").data(["items-series"]);d.enter().append("g").attr("class","items-series"),d.attr("transform",function(){return"translate("+o.opts.left+", "+o.opts.top+")"}),d.call(p,e),d.call(c).call(u).selectAll("rect").attr("height",o.opts.height),d.exit().remove()}function n(t,e,n){var r=e.get(),i=r.store.data(),a=r.store.input(),s=i.length,o=r.store.inputLength(),u=a.length,l=r.opts.domain.length,f=r.store.category();r.store.inputCategory();o=o>=s?s:o;var h=c.scale.linear(),p=h.domain([0,o-1]).range([0,r.opts.width*(o-1)/(s-1)]),d=n.getDateFormat(new Date),m=c.svg.brush().x(p).on("brushstart",function(){var t=m.extent(),e=Math.floor(t[0]),r=Math.floor(t[1]);n.BRUSH_EXTENT=[t[0],t[1]],m.extent(n.BRUSH_EXTENT),n.fire("brush-start",f[e],f[r])}).on("brushend",function(t){var e=m.extent(),r=Math.floor(e[0]),i=Math.floor(e[1]);n.BRUSH_EXTENT=[e[0],e[1]],m.extent(n.BRUSH_EXTENT),i!==r&&n.fire("brush-end",f[r],f[i])}).on("brush",function(){var t,e,r=m.extent(),i=Math.floor(r[0]),a=Math.floor(r[1]);n.BRUSH_EXTENT=[r[0],r[1]],m.extent(n.BRUSH_EXTENT),n.fire("brush-drag",f[i],f[a]),f[i]&&(t=f[i].split(" ")[1]),f[a]&&(e=f[a].split(" ")[1]),n.fire("brush-label",f[i]&&t,f[a]&&e||"--:--")});if(l&&u){var v=a[u-1]||i[s-1],y=d+" "+r.opts.domain[1],g=new Date(v.time).getTime(),x=new Date(y).getTime();g>=x&&m.extent(n.BRUSH_EXTENT||r.store.range.apply(null,[d+" "+r.opts.domain[0],d+" "+r.opts.domain[1]]))}else n.BRUSH_EXTENT&&m.extent(n.BRUSH_EXTENT);return m}function r(t,e,n){return function(t){var r=e.get(),i=r.store.data(),a=r.store.input(),s=i.length,o=a.length,c=r.opts.domain.length,u=n.getDateFormat(new Date),l=n.context.select("g.resize.w"),f=n.context.select("g.resize.e"),h=l.selectAll("text.resize-w").data([0]),p=f.selectAll("text.resize-e").data([0]);if(h.enter().append("text"),p.enter().append("text"),h.attr("class","resize-w").attr("text-anchor","middle").attr("dy","-0.1em"),p.attr("class","resize-e").attr("text-anchor","middle").attr("dy","-0.1em"),h.exit().remove(),p.exit().remove(),c&&o){var d=a[o-1]||i[s-1],m=u+" "+r.opts.domain[1],v=new Date(d.time).getTime(),y=new Date(m).getTime();void 0===n.state.brush&&v>=y&&(h.text(r.opts.domain[0]),p.text(r.opts.domain[1]),n.state.brush=!0)}n.on("brush-label",function(t,e){h.text(t),p.text(e)})}}function i(t){var e=a(t),n=t.get(),r=n.opts,i=r.left,s=r.top;return function(t){return t.call(l,i,s,e)}}function a(t){var e=t.get(),n=h().type(function(){return"bottom"}).top(function(){return e.opts.height}).width(function(){return e.opts.width}).height(function(){return e.opts.height}).tick(function(t){return t.tick});return n(e.x.ticks())}function s(t){var e=t.get(),n=e.opts,r=n.left,i=n.top,a=n.width,s=n.height,c=o(a,s);return function(t){t.call(l,r,i,c(e.y.ticks()))}}function o(t,e,n){var r=h().type(function(){return n||"left"}).width(function(){return t}).height(function(){return e}).tick(function(t){return t.tick});return r}var c=t("d3"),u=t("cn/szse/chart/utils/Utils"),l=t("cn/szse/chart/elements/impl/Axis"),f=t("cn/szse/chart/elements/impl/GridsBox"),h=t("cn/szse/chart/elements/IAxis"),p=t("cn/szse/chart/shapes/impl/Path");return e}),t("cn/szse/chart/elements/impl/TimeSeries",function(t){function e(t,e){return p.uid()}function n(t,e,n){var r=e.get(),i=o(e),s=c(e);t.call(m,e).call(i).call(s);var u=t.selectAll("g.items-series").data(["items-series"]);u.enter().append("g").attr("class","items-series").attr("transform",function(){return"translate("+r.opts.left+", "+r.opts.top+")"}),r.store.data().length&&u.call(y,e);var l=t.selectAll("g.items-series-point").data(["items-series-point"]);l.enter().append("g").attr("class","items-series-point").attr("transform",function(){return"translate("+r.opts.left+", "+r.opts.top+")"}),l.exit().remove(),l.selectAll("circle.line-point").attr("transform",function(t){return"translate(-9999, 0)"}),a(l,e,n)}function r(t,e,n,r,i,a){var s=i.get(),o=s.opts.series,c=t.selectAll("circle.line-point").data(e);return c.enter().append("circle").attr("class","line-point").attr("r",function(){return 1.5}).attr("fill",function(t,e){try{return o.style(t,e).stroke||a.colors(t.series)}catch(n){return a.colors(t.series)}}).attr("stroke",function(t,e){try{return o.style(t,e).stroke||a.colors(t.series)}catch(n){return a.colors(t.series)}}),c.attr("transform",function(t){return"translate("+(n(t.time)+.5*n.rangeBand())+", "+r(t.value)+")"}),c.exit().remove(),c}function i(t,n,r,i,a,s){var o=a.get(),c=t.selectAll("line.subline-x").data(n,e);return c.enter().append("line").attr("class","subline-x").attr("y1",function(){return 0}).attr("transform",function(){return"translate(-1000, 0)"}),c.attr("y2",function(){return o.opts.height}).attr("transform",function(t){return"translate("+(r(t.time)+.5*r.rangeBand())+", 0)"}),c.exit().remove(),c}function a(t,e,n){function r(){var r=h.mouse(this),i=r[0]-a.opts.left,p=Math.floor(i/a.opts.width*u),d=c[p],m=o.values(d);if(s(t,m,a.x,a.y,e,n),l.attr("style",""),i<.5*a.opts.width?l.style("right",function(){return(a.opts.right-1||44)+"px"}):l.style("left",function(){return a.opts.left+"px"}),m.length>0){var v=m.map(function(t,e){try{return{color:a.opts.series.style(t,e).stroke||n.colors(t.series),data:t}}catch(r){return{color:n.colors(t.series),data:t}}});if("string"==typeof a.opts.series.item.tooltips){var y=a.opts.series.item.tooltips,g=f.template(y);l.html(g({data:{time:d,data:v}}))}l.style("display","block")}else l.style("display","none")}function i(){s(t,[],a.x,a.y,e,n),l.style("display","none")}var a=e.get(),o=a.store,c=o.category(),u=c.length,l=n.context.select("div.s-chart-tips");n.context.on("mousemove",r).on("mouseleave",i),n.context.on("touchmove",r)}function s(t,e,n,a,s,o){var c,u=s.get();try{c=u.opts.xAxis[0].subline}catch(l){c=!0}var f=e.filter(function(t){return"volume"===t.type?!1:!0}),h=e.filter(function(t,e){return c&&0===e});r(t,f,n,a,s,o),i(t,h,n,a,s,o)}function o(t){var e=u(t),n=t.get(),r=n.opts,i=r.left,a=r.top;return function(t){return t.call(d,i,a,e)}}function c(t){var e=t.get(),n=e.opts,r=n.left,i=n.top,a=n.width,s=n.height;return function(t){var o=l(a,s,"left",n.yAxis[0]),c=e.y.ticks(),u={};u.size=c.size,u.values=c.values.map(function(t){return{index:t.index,tick:t.tick,style:.01*t.tick===0?"stroke-dasharray":""}}),t.call(d,r,i,o(u))}}function u(t){var e=t.get(),n=v().type(function(){return"bottom"}).top(function(){return e.opts.height}).width(function(){return e.opts.width}).height(function(){return e.opts.height}).tick(function(t){try{return e.opts.xAxis[0].tickLabel(t)}catch(n){return t.tick}});return n(e.x.ticks())}function l(t,e,n,r){var i=v().type(function(){return n||"left"}).width(function(){return t}).height(function(){return e}).label(function(t){try{return r.label}catch(e){return""}}).tick(function(t){try{return r.tickLabel(t)}catch(e){return t.tick}});return i}var f=t("_"),h=t("d3"),p=t("cn/szse/chart/utils/Utils"),d=t("cn/szse/chart/elements/impl/Axis"),m=t("cn/szse/chart/elements/impl/GridsBox"),v=t("cn/szse/chart/elements/IAxis"),y=t("cn/szse/chart/shapes/impl/Path");t("cn/szse/chart/shapes/IArea"),t("cn/szse/chart/shapes/impl/Area"),t("cn/szse/chart/shapes/impl/Marker");return n}),t("cn/szse/chart/elements/impl/TimeShare",function(t){function e(t,e){return p.uid()}function n(t,e,n){var r=e.get(),i=o(e),s=c(e);t.call(m,e).call(i).call(s);var u=t.selectAll("g.items-series").data(["items-series"]);u.enter().append("g").attr("class","items-series").attr("transform",function(){return"translate("+r.opts.left+", "+r.opts.top+")"}),r.store.data().length&&u.call(y,e);var l=t.selectAll("g.items-series-point").data(["items-series-point"]);l.enter().append("g").attr("class","items-series-point").attr("transform",function(){return"translate("+r.opts.left+", "+r.opts.top+")"}),l.exit().remove(),l.selectAll("circle.line-point").attr("transform",function(t){return"translate(-9999, 0)"}),a(l,e,n)}function r(t,e,n,r,i,a){var s=i.get(),o=t.selectAll("circle.line-point").data(e);return o.enter().append("circle").attr("class","line-point").attr("r",function(){return 1.5}).attr("fill",function(t,e){try{return s.opts.series.style(t,e).stroke||a.colors(t.series)}catch(n){return a.colors(t.series)}}).attr("stroke",function(t,e){try{return s.opts.series.style(t,e).stroke||a.colors(t.series)}catch(n){return a.colors(t.series)}}),o.attr("transform",function(t){return"translate("+(n(t.time)+.5*n.rangeBand())+", "+r(t.zdfd)+")"}),o.exit().remove(),o}function i(t,n,r,i,a,s){var o=a.get(),c=t.selectAll("line.subline-x").data(n,e);return c.enter().append("line").attr("class","subline-x").attr("y1",function(){return 0}).attr("transform",function(){return"translate(-1000, 0)"}),c.attr("y2",function(){return o.opts.height}).attr("transform",function(t){return"translate("+(r(t.time)+.5*r.rangeBand())+", 0)"}),c.exit().remove(),c}function a(t,e,n){var r=e.get(),i=r.store,a=(i.series(),i.category()),o=a.length,c=n.context.select("div.s-chart-tips");n.context.on("mousemove",function(){var u=h.mouse(this),l=u[0]-r.opts.left,p=Math.floor(l/r.opts.width*o),d=a[p],m=i.values(d);if(s(t,m,r.x,r.y,e,n),c.attr("style",""),l<.5*r.opts.width?c.style("right",function(){return 1===i.series().length?r.opts.right-1+"px":"44px"}):c.style("left",function(){return r.opts.left+"px"}),m.length>0){var v=m.map(function(t){try{return{color:r.opts.series.style(t).stroke,data:t}}catch(e){return{color:n.colors(t.series),data:t}}});if("string"==typeof r.opts.series.item.tooltips){var y=r.opts.series.item.tooltips,g=f.template(y);c.html(g({data:{time:d,data:v}}))}c.style("display","block")}else c.style("display","none")}).on("mouseleave",function(){s(t,[],r.x,r.y,e,n),c.style("display","none")})}function s(t,e,n,a,s,o){var c,u=s.get();try{c=u.opts.xAxis[0].subline}catch(l){c=!0}var f=e.filter(function(t){return"volume"===t.type?!1:!0}),h=e.filter(function(t,e){return c&&0===e});r(t,f,n,a,s,o),i(t,h,n,a,s,o)}function o(t){var e=u(t),n=t.get(),r=n.opts,i=r.left,a=r.top;return function(t){return t.call(d,i,a,e)}}function c(t){var e=t.get(),n=e.opts,r=n.left,i=n.top,a=n.width,s=n.height,o=e.store,c=o.series(),u=o.data();return function(t){var o,f,h=e.y.ticks();if(1===c.length){var p=u[0],m=p.value-p.zdds,v={};v.size=h.size,v.values=h.values.map(function(t){return{index:t.index,tick:Math.ceil((1+.01*t.tick)*m*1e3)/1e3,fill:.01*t.tick<0?"#17a017":"#e10019",style:.01*t.tick===0?"stroke-dasharray":""}}),o=l(a,s,"left",n.yAxis[0]),t.call(d,r,i,o(v)),f=l(a,s,"right",n.yAxis[1]),t.call(d,r,i,f(e.y.ticks()))}else{f=l(a,s,"left",n.yAxis[0]);var y={};y.size=h.size,y.values=h.values.map(function(t){return{index:t.index,tick:t.tick,style:.01*t.tick===0?"stroke-dasharray":""}}),t.call(d,r,i,f(y))}}}function u(t){var e=t.get(),n=v().type(function(){return"bottom"}).top(function(){return e.opts.height}).width(function(){return e.opts.width}).height(function(){return e.opts.height}).tick(function(t){try{return e.opts.xAxis[0].tickLabel(t)}catch(n){return t.tick}});return n(e.x.ticks())}function l(t,e,n,r){var i=v().type(function(){return n||"left"}).width(function(){return t}).height(function(){return e}).label(function(t){try{return r.label}catch(e){return""}}).fill(function(t){return.01*t.tick<0?"#17a017":"#e10019"}).tick(function(t){try{return r.tickLabel(t)}catch(e){return t.tick}});return i}var f=t("_"),h=t("d3"),p=t("cn/szse/chart/utils/Utils"),d=t("cn/szse/chart/elements/impl/Axis"),m=t("cn/szse/chart/elements/impl/GridsBox"),v=t("cn/szse/chart/elements/IAxis"),y=t("cn/szse/chart/shapes/impl/Path");t("cn/szse/chart/shapes/IArea"),t("cn/szse/chart/shapes/impl/Area"),t("cn/szse/chart/shapes/impl/Marker");return n}),t("cn/szse/chart/Chart",function(t){function e(t,e){if(t.resize===!0){var r=n();l.bindEvent(window,"resize",function(){r.set(function(){var n=c.getOffset(t.domEl).width;n>0&&n!==t.width&&(t.width=n,e(t))})})}}function n(){var t;return{set:function(e){window.clearTimeout(t),t=window.setTimeout(function(){e()},200)}}}function r(t){var e={width:0,height:0},n={bottom:{width:0,height:t.height||0},right:{width:t.width||40,height:0}};switch(t.location){case"bottom-center":case"bottom-left":case"bottom-right":return n.bottom;case"right-top":case"right-middle":return n.right;default:return e}}var i=t("d3"),a=t("jQuery"),s=t("cn/szse/utils/EventEmitter"),o=t("cn/szse/Component"),c=t("cn/szse/chart/utils/Utils"),u=t("cn/szse/chart/utils/Promise"),l=t("cn/szse/chart/utils/EventHandlers"),f=t("cn/szse/chart/elements/impl/Loader"),h=t("cn/szse/chart/elements/impl/Legend"),p=t("cn/szse/chart/elements/impl/Tips"),d=t("cn/szse/chart/shapes/impl/SVG"),m=i.scale.category10(),v={treemap:{linear:["#5C86A8","#739BBB","#87ABC8","#9DBBD4","#C1D6E7"],gradient:{greater:"#CD0000",less:"#2EC240"}}},y=new s,g=o.extend({constructor:function(t){var n=this;this.options=x(t),this.context=i.select(t.domEl),this.context.attr("class","szse-chart").style("position","relative").style("overflow","hidden").call(f).call(p).call(d,this.options),this.FACTORY=this._factory(),e(this.options,function(t){n.options=t,n.redraw("width"),n.context.select("svg").attr("width",t.width)}),y.on("chart-theme-change",function(){n.redraw("width")})},_factory:function(){var t=this.options,e="cn/szse/chart/factory/",n=t.plots.children,r=n.map(function(t){return e+t.sType});return u.src(r).pipe(function(){var t=arguments;return c.map(t,function(t,e){return t})})},_layout:function(){var t={xAxisLocation:"bottom",yAxisLocation:"left",marginTop:10,xAxisTop:15,xAxisBottom:10,xAxisHeight:20,yAxisWidth:45,yAxisStart:45,tmp:0,animation:!1},e=this.options,n=e.plots.children,i=n.length,s=0,o=e.height-(i+1)*t.marginTop-s,c=r(e.legend),u=n.map(function(r,i){var u=0,l=0,f=0,h=(n[0].yAxis.length,n[i].xAxis[0].location||t.xAxisLocation),p=n[i].yAxis[0].location||t.yAxisLocation,d=isNaN(n[i].yAxis[0].marginTop)?t.marginTop:n[i].yAxis[0].marginTop;"top"===h&&(d=t.xAxisTop);var m=isNaN(n[i].yAxis[0].width)?t.yAxisWidth:n[i].yAxis[0].width,v=isNaN(n[i].yAxis[0].start)?t.yAxisStart:n[i].yAxis[0].start;return"right"===p&&(t.tmp=m,m=v,v=t.tmp),u=e.width-m-v-c.width,l=Math.floor(o*r.scale),s+=l+d,d=s-l,n[i].xAxis[0].enable===!0&&(f=n[i].xAxis[0].height||t.xAxisHeight),l=l-f-c.height,a.extend({type:r.sType,top:d,left:m,right:v,width:u,height:l,animation:e.animation||t.animation},r)});return u},legend:function(t){if(this.options.legend){var e=this.options.legend||{};this.context.call(h,e,t,this)}},update:function(t){var e;t?(e=t.length?[t]:t.dataset||[],this._data_=e):e=this._data_||[];var n=this._layout(),r=this;this.FACTORY.pipe(function(t){return t.map(function(t,i){var a=e[i]||[],s=t.call(r,a,n[i]),o=s();return o})}).pipe(function(t){r.context.select("svg").selectAll("g.s-chart-plot").each(function(e,n){"Brush"!==e.sType&&i.select(this).call(t[n])}),r.context.select("span.s-chart-loader").style("display","none")})},colors:function(t){try{var e=g.Config.theme[this.options.domEl.id];if("undefined"!=typeof t&&"object"==typeof e){if("string"==typeof t)return e[t];if("boolean"==typeof t)return e[t=t?"greater":"less"]}else if("string"==typeof e||e instanceof Array)return e}catch(n){return"string"==typeof t?"#"===t.slice(0,1)?t:m(t):"boolean"==typeof t?v.treemap.gradient[t=t?"greater":"less"]:v.treemap.linear}},render:function(t){var e,n,r,a=this.options.domEl,s=a.parentNode;t?(r=t.length?[t]:t.dataset||[],this._data_=r):r=this._data_||[];var o=this._layout(),u=this;this.FACTORY.pipe(function(t){return t.map(function(t,e){var n=r[e]||[],i=t.call(u,n,o[e]),a=i();return a})}).pipe(function(t){u.context.select("svg").selectAll("g.s-chart-plot").each(function(e,n){i.select(this).call(t[n])}),u.context.select("span.s-chart-loader").style("display","none"),e=c.getOffset(a).height||275,n=c.getOffset(s).height,u.options.outerRate=isNaN(n/e)?1:n/e,u.options.innerRate=e/u.options.height})},redraw:function(t){var e,n,r=this.options.domEl,i=r.parentNode,a=c.getOffset(r).width;"width"===t?a>0&&a!==this.options.width&&(this.options.width=a):(n=c.getOffset(i).height,r.style.height=n/this.options.outerRate+"px",e=c.getOffset(r).height,a>0&&a!==this.options.width&&(this.options.width=a),e>0&&e!=this.options.height&&(this.options.height=e/this.options.innerRate)),this.render(),this.context.select("svg").attr("width",this.options.width).attr("height",this.options.height)},getApi:function(){return this}});g.Config={},g.setTheme=function(t){try{Object.defineProperty(g.Config,"theme",{get:function(){return this.value||t},set:function(t){this.value=t,y.fire("chart-theme-change")}})}catch(e){}};var x=function(){function t(t,n){var i=c.getOffset(t.domEl),a={title:"",id:c.uid(),name:"bar",domEl:document.body,width:i.width||300,height:i.height||300,xAxis:{location:"bottom",share:!1,subline:!0},yAxis:{location:"left",share:!1,subline:!0},resize:!0,animation:!1,legend:!1};n=n||{title:t.title||a.title,id:t.id||a.id,name:t.name||a.name,domEl:t.domEl||a.domEl,width:(isNaN(t.width)?a.width:t.width)||300,height:(isNaN(t.height)?a.height:t.height)-(t.title?31:0)-25,resize:isNaN(t.width)?a.resize:!1,animation:t.animation||a.animation,legend:t.legend||a.legend},t.plots=t.plots||{children:[{
sType:t.sType,xAxis:t.xAxis?[t.xAxis]:[a.xAxis],yAxis:t.yAxis?[t.yAxis]:[a.yAxis],series:t.series||{},scale:t.scale||1,domain:t.domain||[],rangeBand:t.rangeBand,category:t.category}]};var s=t.plots.children.map(function(t){return{sType:t.sType,xAxis:e(t.xAxis||[a.xAxis],a.xAxis),yAxis:e(t.yAxis||[a.yAxis],a.yAxis),series:r(t.series||{}),scale:t.scale||1,domain:t.domain||[],rangeBand:t.rangeBand,category:t.category}});return n.plots={sType:t.plots.sType||"VPlots",tooltips:t.plots.tooltips,children:s},n}function e(t,e){return c.map(t,function(t){return{enable:t.enable===!1?!1:!0,location:t.location||e.location,width:t.width,height:t.height,start:t.start,marginTop:t.marginTop,domain:t.domain,label:t.label||"",tickUnit:t.tickUnit||"",tickLabel:t.tickLabel||"",rotate:t.rotate===!0?!0:!1,execute:t.execute===!1?!1:!0,tickSubdivide:t.tickSubdivide||"",share:t.share||e.share,subline:t.subline===!1?!1:e.subline}})}function n(t){return a.extend({style:t.style,label:t.label||!1,tooltips:t.tooltips||!1,text:t.text},t)}function r(t){return a.extend({style:t.style,item:n(t.item||{})},t)}return t}();return g}),t("cn/szse/chart/elements/impl/DuetBar",function(t){function e(t,e,r){var a=e.get(),o=n(e),u=i(e);t.call(f,e).call(o).call(u);var l=e.klass(),h=t.selectAll("g.items-rect-"+l).data(["items-rect-"+l]);h.enter().append("g").attr("class","items-rect-"+l),h.attr("transform",function(){return"translate("+a.opts.left+", "+a.opts.top+")"}),h.call(p,e,r),h.exit().remove();var d=s(e,r);t.call(d);var m=t.selectAll("g.items-label-"+l).data(["items-label-"+l]);m.enter().append("g").attr("class","items-label-"+l),m.attr("transform",function(){return"translate("+a.opts.left+", "+a.opts.top+")"});var v=c(e,r);m.call(v),m.exit().remove()}function n(t){var e=r(t),n=t.get(),i=n.opts,a=i.left,s=i.top;return function(t){return t.call(l,a,s,e)}}function r(t){var e=t.get(),n=e.x.ticks(),r=h().type(function(){return t.xtype()}).klass(function(){return t.xtype()+"-"+t.klass()}).top(function(){return t.xtop()}).width(function(){return t.xwidth()}).height(function(){return e.opts.height}).rotate(function(t){try{return e.opts.xAxis[0].rotate}catch(n){return!1}}).tick(function(t,n){try{return e.opts.xAxis[0].tickLabel(t,n)}catch(r){return t.tick}});return t.xreverse()&&(n.values=n.values.map(function(t){return{tick:t.tick,index:n.size-1-t.index}})),r(n)}function i(t){var e=a(t),n=t.get(),r=n.opts,i=r.left,s=r.top;return function(t){return t.call(l,i,s,e)}}function a(t){var e=t.get(),n=e.y.ticks(),r=h().type(function(){return t.ytype()}).klass(function(){return t.ytype()+"-"+t.klass()}).width(function(){return e.opts.width}).height(function(){return e.opts.height}).tick(function(t,n){try{return e.opts.yAxis[0].tickLabel(t,n)}catch(r){return t.tick}});return t.yreverse()&&(n.values=n.values.map(function(t){return{tick:t.tick,index:n.size-1-t.index}})),r(n)}function s(t,e){var n=o(t);return function(t){return t.call(d,n,e)}}function o(t){var e=t.get(),n=e.opts.series.item,r=m().location(function(){var t=n.tooltips;if(t){var e=t.location;return e?e:"right"}}).text(function(t){var e=n.tooltips;if(e){var r=e.text;return void 0===r?'<h4 class="tips-title">'+t.series+'</h4>值: <span class="s-chart-height s-chart-price">'+Math.floor(100*t.value)/100+'</span><br />价格: <span class="s-chart-height s-chart-price">'+t.label+"</span><br />":r(t)}});return r(e)}function c(t,e){var n=u(t,e);return function(t){return t.call(y,n,e)}}function u(t,e){var n=t.get(),r=n.opts.series.item;n.store.data=n.store.label;var i=v().series(function(t){return t.series}).category(function(t){return t.category}).fill(function(t,e){try{var n=r.style(t,e).fill;return n||"#aaa"}catch(i){return"#aaa"}}).animation(function(){try{return n.opts.animation}catch(t){return!1}}).dy(function(t){return"0.7em"}).label(function(t){var e={text:function(){}};try{var n=r.label;if(n){var i=n.text;return i||(i=function(t){return isNaN(t.label)?null:(+t.label).toFixed(2)}),{text:i}}return e}catch(a){return e}}).transform(function(e){var r,i=t.klass(),a=n.y(e.category),s=n.a.rangeBand();switch(i){case"nw":r=[n.opts.width-30,n.opts.height-(s+a)+s];break;case"sw":r=[n.opts.width-30,a+s/12+1+s];break;case"ne":r=[30,n.opts.height-(s+a)+s];break;case"se":r=[30,a+s/12+1+s];break;default:r=[0,0]}return"translate("+r+")"});return i(n)}var l=(t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/elements/impl/Axis")),f=t("cn/szse/chart/elements/impl/GridsBox"),h=t("cn/szse/chart/elements/IAxis"),p=t("cn/szse/chart/shapes/impl/Rect"),d=t("cn/szse/chart/elements/impl/Tooltips"),m=t("cn/szse/chart/elements/ITooltips"),v=t("cn/szse/chart/shapes/ILabel"),y=t("cn/szse/chart/shapes/impl/Label");return e}),t("cn/szse/chart/elements/impl/Treemap",function(t){function e(t,e,r){var a=e.get(),o=t.selectAll("g.items-bg-rect").data(["items-bg-rect"]);o.enter().append("g").attr("class","items-bg-rect").attr("transform","translate(30, 20)"),o.exit().remove();var u=o.selectAll("rect.items-bg-rect").data([e.get().store.data()[0]]);u.enter().append("rect").attr("class","items-bg-rect"),u.attr({width:function(t){return t.dx-1},height:function(t){return t.dy-1},fill:"#fff"}),u.exit().remove();var f=t.selectAll("g.items-rect").data(["items-rect"]);f.enter().append("g").attr("class","items-rect").attr("transform","translate(30, 20)"),f.exit().remove();var p=n(e,r);f.call(p);var m=t.selectAll("g.items-bar").data(["items-bar"]);m.enter().append("g").attr("class","items-bar").attr("transform","translate(30, 20)"),m.exit().remove();var g=i(e,r);if(m.call(g),"none"!==a.opts.series.item.label){var x=t.selectAll("g.items-label").data(["items-label"]);x.enter().append("g").attr("class","items-label").attr("transform","translate(30, 20)"),x.exit().remove();var b=s(e,r);x.call(b)}var z=t.selectAll("g.items-clippath").data(["items-clippath"]);z.enter().append("g").attr("class","items-clippath").attr("transform","translate(30, 20)"),z.exit().remove();var k=c(e,r);if(z.call(k),a.opts.series.breadcrumb===!0){var A=l(e,r);t.call(A)}if(void 0!==a.opts.series.item.tooltips){var w=h(e,r);t.call(w)}var M=a.store.intervals().map(function(t,e){return{series:t.equals?"等于"+t.equals:t.from==t.to?t.less?"小于"+t.from:"大于"+t.to:t.from+"~"+t.to,color:t.fill,index:t.index}});r.legend(M),r.context.selectAll("span.item-legend").on("mouseover",function(t){r.context.selectAll("g.items-rect rect.item").each(function(e){var n=y.select(this);e.fillIndex===t.index&&0!==e.depth&&n.style("fill","#afafaf")})}).on("mouseout",function(t){r.context.selectAll("g.items-rect rect.item").each(function(e){var n=y.select(this);e.fillIndex===t.index&&0!==e.depth&&n.style("fill",e.fill)})});var E=t.selectAll("g.items-cover").data(["items-cover"]);if(E.enter().append("g").attr("class","items-cover").attr("transform","translate(30, 20)"),E.exit().remove(),r.state.cover===!0){var T=d(e,["rect-cover"],r);E.call(T)}(null===a.store.data()[0].category||void 0===a.store.data()[0].parent)&&(r.breadcrumb=[a.store.data()[0]],r.fire("breadcrumb",r.breadcrumb)),r.off("item-click").on("item-click",function(t){var n=a.opts.series.maxDepth;if(0!==t.data.value||!isNaN(t.data.percent))if(void 0===t.data.children&&t.data.depth<n){var i,s;if(void 0===t.data.leaf){r.state.cover=!0;var o=d(t.dataset,["rect-cover"],r);E.call(o),i=r.getChildren(t.data),i&&i.then instanceof Function?i.then(function(n){n&&n instanceof Array?n=n:n&&200===n.status&&(n=n.data),r.context.select("span.s-chart-loader").style("display","none"),n.unshift(t.data),s=r.formatTree(n),t.data.children=s.children,t.data.leaf=!0,v(t.data,e,r),r.state.cover=!1,o=d(t.dataset,[],r),E.call(o)},function(e){r.state.cover=!1,o=d(t.dataset,[],r),E.call(o)}):(t.data.leaf=!0,v(t.data,e,r),r.state.cover=!1,o=d(t.dataset,[],r),E.call(o))}else v(t.data,e,r)}else v(t.data,e,r)})}function n(t,e){var n=r(t);return function(t){return t.call(w,n,e)}}function r(t){var e=t.get(),n=t.maxDepth(),r=g().left(function(t){return Math.max(.01,t.x)}).top(function(t){return Math.max(.01,t.y)}).width(function(t){return Math.max(1.01,t.dx)-1}).height(function(t){return Math.max(1.01,t.dy)-1}).fill(function(t){return t.depth===n||void 0===t.children?t.fill:"#fff"}).animation(function(){try{return e.opts.animation}catch(t){return!1}});return r(e)}function i(t,e){var n=a(t);return function(t){return t.call(w,n,e)}}function a(t){var e=t.get(),n=t.maxDepth(),r=t.barHeight(),i=g().left(function(t){return Math.max(.01,t.x)}).top(function(t){return Math.max(.01,t.y)}).width(function(t){return Math.max(1.01,t.dx)-1}).height(function(t){return 0===t.depth&&n>1&&void 0!==t.children?0:t.depth<n&&t.dy<22?t.dy:t.depth<n?r:0}).minHeight(function(){return!1}).fill(function(t){return t.opacity=1,"#567"}).animation(function(){try{return e.opts.animation}catch(t){return!1}});return i(e)}function s(t,e){var n=o(t,e);return function(t){return t.call(M,n,e)}}function o(t,e){var n=t.get(),r=t.maxDepth(),i=(t.barHeight(),n.opts.series.item),a=e.context.node().getAttribute("id"),s=A().dy(function(t){return 0}).fill(function(t){return"#fff"}).label(function(){var t=function(t){return t.depth>r||0===t.depth&&t.children&&r>1?"":t.depth==r&&0===t.value?"数据为零":t.series};try{var e=i.label;if(e){var n=e.text;return n||(n=t),{text:n}}return{text:t}}catch(a){return{text:t}}}).anchor(function(t){return t.depth>=r?"middle":"start"}).transform(function(t,e){return t.depth>=r?"translate("+(t.x+t.dx/2)+","+(t.y+t.dy/2+4)+")":"translate("+(t.x+8)+","+(t.y+16)+")"}).animation(function(){try{return n.opts.animation}catch(t){return!1}}).clippath(function(t,e){return"url(#"+a+"-clippath-"+(e+1)+")"});return s(n)}function c(t,e){var n=u(t);return function(t){return t.call(E,n,e)}}function u(t){var e=t.get(),n=(t.maxDepth(),g().left(function(t){return Math.max(.01,t.x)}).top(function(t){return Math.max(.01,t.y)}).width(function(t){return Math.max(1.01,t.dx)-1}).height(function(t){return Math.max(1.01,t.dy)-1}).animation(function(){try{return e.opts.animation}catch(t){return!1}}));return n(e)}function l(t,e){var n=f(t);return function(t){return t.call(z,n,e)}}function f(t){var e=t.get(),n=(e.opts.series.item,b());return n(e)}function h(t,e){var n=p(t);return function(t){return t.call(k,n,e)}}function p(t){var e=t.get(),n=e.opts.series.item,r=x().location(function(){var t=n.tooltips;if(t){var e=t.location;return e?e:"right"}}).text(function(t){var e=n.tooltips;if(e){var r=e.text;return void 0===r?'<h4 class="tips-title">'+(void 0===t.path?t.series:t.path)+'</h4>值: <span class="s-chart-height">'+t.value+"</span><br />"+(t.percent?'占有率: <span class="s-chart-height">'+(100*t.percent).toFixed(2)+"%</span><br />":""):r(t)}});return r(e)}function d(t,e,n){return function(r){return r.call(m,t,e,n)}}function m(t,e,n,r){var i=e.get(),a=t.selectAll("rect.item").data(n);a.enter().append("rect"),a.attr("class","item").style("fill-opacity",function(t,e){return.2}).attr("transform",function(t){return"translate(0, 0)"}).attr("width",function(t){return i.opts.width}).attr("height",function(t){return i.opts.height}),a.exit().remove()}function v(t,e,n){if(void 0!==t.parent){var r=e.maxDepth();e.get().store.treemap();if(n.state.rerender=!0,t.active===!0){var i=n.breadcrumb.indexOf(t);n.breadcrumb=n.breadcrumb.slice(0,i),t.active=!1,n.currNode=t.parent}else r>1&&t.depth==r?(t.parents.forEach(function(e){e.active||(e.active=!0,n.breadcrumb.push(e)),t==e&&(e.active=!1,n.breadcrumb.pop())}),n.currNode=t.parent):(t.parents.forEach(function(t){t.active||(t.active=!0,n.breadcrumb.push(t))}),n.currNode=t);n.render([n.currNode]),n.fire("breadcrumb",n.breadcrumb)}}var y=t("d3"),g=(t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/elements/ITreemap")),x=t("cn/szse/chart/elements/ITooltips"),b=t("cn/szse/chart/elements/IBreadcrumb"),z=(t("cn/szse/chart/elements/impl/GridsBox"),t("cn/szse/chart/elements/impl/Breadcrumb")),k=t("cn/szse/chart/elements/impl/Tooltips"),A=t("cn/szse/chart/shapes/ILabel"),w=t("cn/szse/chart/shapes/impl/Rect"),M=t("cn/szse/chart/shapes/impl/LabelClip"),E=t("cn/szse/chart/shapes/impl/ClipPath");y.scale.category20c();return e}),t("cn/szse/chart/elements/impl/Volume",function(t){function e(t,e){return c.uid()}function n(t,e){var n=e.get(),a=i(e),o=s(e);t.call(l,e).call(a).call(o);var c=t.selectAll("g.items-rect").data(["items-rect"]);c.enter().append("g").attr("class","items-rect"),c.attr("transform",function(){return"translate("+n.opts.left+", "+n.opts.top+")"}),c.call(h,e).call(r,n),c.exit().remove()}function r(t,n){var r=t.selectAll("line.subline-x").data(["subline-x"],e);return r.enter().append("line").attr("class","subline-x").attr("y1",function(){return 0}).attr("transform",function(){return"translate(-1000, 0)"}),r.attr("y2",function(){return n.opts.height}),r.exit().remove(),r}function i(t){var e=a(t),n=t.get(),r=n.opts,i=r.left,s=r.top;return function(t){return t.call(u,i,s,e)}}function a(t){var e=t.get(),n=f().type(function(){return"bottom"}).top(function(){return e.opts.height}).width(function(){return e.opts.width}).height(function(){return e.opts.height}).enable(function(){try{return e.opts.xAxis[0].enable}catch(t){return!0}}).tick(function(t){return t.tick});return n(e.x.ticks())}function s(t){var e=o(t),n=t.get(),r=n.opts,i=r.left,a=r.top;return function(t){return t.call(u,i,a,e)}}function o(t){var e=t.get(),n=f().type(function(){return"left"}).width(function(){return e.opts.width}).height(function(){return e.opts.height}).tick(function(t){try{return e.opts.yAxis[0].tickLabel(t)}catch(n){return t.tick}}).label(function(t){try{return e.opts.yAxis[0].label}catch(n){return""}});return n(e.y.ticks())}var c=t("cn/szse/chart/utils/Utils"),u=t("cn/szse/chart/elements/impl/Axis"),l=t("cn/szse/chart/elements/impl/GridsBox"),f=t("cn/szse/chart/elements/IAxis"),h=t("cn/szse/chart/shapes/impl/Volume");return n}),t("cn/szse/chart/elements/impl/Force",function(t){function e(t,e,n){t.nodes().forEach(function(t,r){t.x=t.x-e.r()-10<0?e.r()+10:t.x,t.x=t.x+e.r()+10>n.width?n.width-e.r()+10:t.x,t.y=t.y-e.r()-10<0?e.r()+10:t.y,t.y=t.y+e.r()+10>n.height?n.height-e.r()-10:t.y})}function n(t){return"translate("+t.x+","+t.y+")"}function r(t){return"M "+t.source.x+" "+t.source.y+" L"+t.target.x+" "+t.target.y}function i(t){return"translate("+t.x+","+t.y+")"}function a(t,e,n){var r=s(t,e);return function(t){return t.call(d,r,n)}}function s(t,e){var n=t.map(),r=p().x(function(t,e){return t.x}).y(function(t,e){return t.y}).series(function(t){return t.name}).category(function(t){return t.category}).fill(function(e,n){return t.fill(e,n).color}).stroke(function(e,n){return t.stroke(e,n).color}).icon(function(n,r){try{var i,a=t.r(n,r),s=e.series.icon,o=Math.PI*a*a;if(s instanceof Array){var c=store.getIndex(n.series);i=l().type(s[c]).size(o)}else i="string"==typeof s?l().type(s).size(o):l().size(o);return i()}catch(u){return l("circle")()}}).opacity(function(e,n){return t.fill(e,n).width}).animation(function(){return!1});return r({store:{data:function(){return n.nodes}}})}function o(t,e,n){var r=c(t,n);return function(t){return t.call(h,r,e)}}function c(t,e){var n=t.map();n.opts=e;var r=e.series.item,i=f().location(function(){var t=r.tooltips;if(t){var e=t.location;return e?e:"right"}}).text(function(t){var e=r.tooltips;if(e){var n=e.text;return void 0===n?'<h4 class="tips-title">'+t.category+'</h4><span class="s-chart-height s-chart-price">'+t.series+'</span><br /><span class="s-chart-height s-chart-price">'+t.data.value+"</span><br />":n(t)}});return i(n)}var u=t("d3"),l=(t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/shapes/impl/Icon")),f=(t("cn/szse/chart/shapes/ILabel"),t("cn/szse/chart/shapes/impl/Label"),t("cn/szse/chart/elements/ITooltips")),h=t("cn/szse/chart/elements/impl/Tooltips"),p=t("cn/szse/chart/shapes/ISymbol"),d=t("cn/szse/chart/shapes/impl/Symbol"),m=function(t,s,c,l){function f(){A.attr("transform",n),M.attr("transform",i),x.attr("d",r),e(v,s,l)}function h(t){c.fire("item-mouseover",t),c.fire("force-mouseover",t)}function p(t){c.fire("item-mouseout"),c.fire("force-mouseout")}function d(t,e){x.style("stroke-width",function(e){return e.source.name==t.name||e.target.name==t.name?2:.8}),A.style("stroke-width",function(e){return e.name==t.name?2:1}),c.fire("force-click",t)}var m=s.map();c.force&&c.force.stop();var v=u.layout.force().nodes(m.nodes).links(m.links).linkDistance(s.line()).charge(s.charge()).size([l.width,l.height]).on("tick",f).start();c.force=v;var y=t.selectAll("defs").data(["items-label"]).enter().append("defs").append("marker").attr("id","resolved").attr("markerUnits","strokeWidth").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",function(){return s.line()/3*2}).attr("refY",0).attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").attr("stroke-width",10);y.append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#000000");var g=t.selectAll("g.items-line").data(["item-line"]);g.enter().append("g").attr("class","items-line");var x=g.selectAll(".edgepath").data(v.links());if(x.enter().append("path"),x.attr({"class":"edgepath","stroke-opacity":.5,id:function(t,e){return"edgepath"+e}}).style("stroke",function(t,e){return s.stroke(t,e).color}).style("pointer-events","none").style("stroke-width",.8).attr("marker-end","url(#resolved)"),void 0!==l.series.item.tooltips){var b=o(s,c,l);t.call(b)}var z=t.selectAll("g.items-symbol").data(["item-symbol"]);z.enter().append("g").attr("class","items-symbol");var k=a(s,l,c);z.call(k);var A=z.selectAll("path.item"),w=t.selectAll("g.items-label").data(["item-label"]);w.enter().append("g").attr("class","items-label");var M=w.selectAll("text").data(v.nodes());s.label()&&M.enter().append("text").attr("dy",".35em").attr("text-anchor","middle").style("fill-opacity",1).attr("x",function(t,e){var n=s.label().text(t,e);this.innerHTML+=n}),A.on("click",d).on("mouseover",h).on("mouseout",p).call(v.drag),M.on("click",d).on("mouseover",h).on("mouseout",p).call(v.drag)};return m}),t("cn/szse/chart/factory/StackArea",function(t){function e(t,e){var r=a(t,e,this);return n(this,r,e)}function n(t,e,n){return function(){return r(e,n.width,n.height,n,t)}}function r(t,e,n,r,a){var s,o=f(t.category()),c=o([0,e]),u=l([0,t.extent()[1]]),h=u([n,0]),d=t.series();try{s=a.state.show||r.series.show||d}catch(m){s=d}var v=d.map(function(t){try{return{series:t,color:r.series.style({name:t}).stroke,hidden:s.indexOf(t)>=0?!1:!0}}catch(e){return{series:t,color:a.colors(t),hidden:s.indexOf(t)>=0?!1:!0}}});return a.legend(v),function(e){var n={store:t,x:c,y:h,opts:r},s=i(n);e.call(p,s,a)}}function i(t){var e=h().x(function(e){return t.x(e.category)}).y(function(e){return t.y(e.stack+e.value)}).r(function(e){try{var n=t.opts.series.item.r;return"number"==typeof n?20*n:64}catch(r){return 64}}).label(function(){try{return t.opts.series.item.label}catch(e){return!1}});return e(t)}function a(t,e,n){var r,i,a,l=o(t),f=c(t),h={};return s(l,f),i=u.extent(t,function(t){return t.stack+t.value}),(r=e.yAxis[0].domain)&&r instanceof Array&&2===r.length&&(r=i.concat(r),i=u.extent(r,function(t){return t})),f.series.forEach(function(t,e){h[t]=e}),a=t.map(function(t){var e=n.state.show&&n.state.show.indexOf(t.series)<0;return{category:t.category,series:t.series,value:t.value,stack:t.stack,hidden:e?!1:!0}}),{extent:function(){return i},category:function(){return f.category},series:function(){return f.series},getIndex:function(t){return h[t]},data:function(){return a}}}function s(t,e){e.category.forEach(function(n){var r;e.series.forEach(function(e,i){"undefined"==typeof t[n][e].stack&&(0===i?t[n][e].stack=0:t[n][e].stack=isNaN(r.value)?r.stack:r.value+r.stack),r=t[n][e],isNaN(r.value)&&(r.value=0)})})}function o(t){var e={};return t.forEach(function(t){void 0===e[t.category]&&(e[t.category]={}),e[t.category][t.series]=t}),e}function c(t){var e=u.unique(),n=u.unique();return t.forEach(function(t,r){e(t.series),n(t.category)}),{series:e.data(),category:n.data()}}var u=(t("d3"),t("cn/szse/chart/utils/Utils")),l=t("cn/szse/chart/utils/LinearScale"),f=t("cn/szse/chart/utils/OrdinalScale"),h=t("cn/szse/chart/elements/ILine"),p=t("cn/szse/chart/elements/impl/Line");return e}),t("cn/szse/chart/member/pie/Pie",function(t){var e=t("cn/szse/chart/Chart"),n=t("cn/szse/chart/utils/Utils"),r=e.extend({constructor:function(t){t.sType=t.sType||"Pie",this.base(t),this.state={map:{}},this.selSeries=[]},getResult:function(t,e,r,i){var a=[];return n.each(t,function(t,s){var o=e(t,s),c=r();n.each(t,function(t,e){var n=i(t,s,e,a,c,o);c=n.endAngle,a.push(n)})}),a},render:function(t){this.base(t)}});return r}),t("cn/szse/chart/member/scatter/Scatter",function(t){var e=t("cn/szse/chart/Chart"),n=e.extend({constructor:function(t){t.sType=t.sType||"Scatter",this.base(t),this.state={map:{}}},render:function(t){this.base(t)}});return n}),t("cn/szse/chart/member/timebrush/TimeBrush",function(t){var e=t("cn/szse/chart/Chart"),n=e.extend({constructor:function(t){t.sType=t.sType||"TimeBrush",this.base(t),this._messages=[],this.state={}},marker:function(t){this._messages=t},render:function(t){this.base(t)},getDateFormat:function(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"H+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"w+":"日一二三四五六".charAt(t.getDay()),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};e=e||"yyyy/M/d",/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in n)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return e}});return n}),t("cn/szse/chart/member/timeseries/TimeSeries",function(t){var e=t("cn/szse/chart/Chart"),n=e.extend({constructor:function(t){t.sType=t.sType||"TimeSeries",this.base(t),this._messages=[],this._buffer={},this.state={map:{}}},update:function(t){this._buffer={},this.base(t)},marker:function(t){this._messages=t},render:function(t){this._buffer={},this.base(t)},getDateFormat:function(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"H+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"w+":"日一二三四五六".charAt(t.getDay()),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};e=e||"yyyy/M/d",/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in n)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return e}});return n}),t("cn/szse/chart/member/treemap/Treemap",function(t){var e=t("cn/szse/chart/Chart"),n=e.extend({constructor:function(t){t.sType=t.sType||"Treemap",this.base(t),this.state={},this.breadcrumb=[],this.currNode={},this.promise=null},render:function(t){this.base(t)},formatTree:function(t){if(t[0]&&t[0].active===!0||t[0]&&t[0].children&&t[0].children.length)return t[0];var e={},n=[];return t.forEach(function(t,n){e[t.series]={series:t.series,category:t.category,value:t.value}}),t.forEach(function(t,r){var i=e[t.category];i?(void 0===i.children&&(i.children=[]),0!==+t.value&&i.children.push(e[t.series])):n.push(e[t.series])}),n.length||n.push({series:""}),n[0]},setChildren:function(t){this.promise=t},getChildren:function(t){return this.promise?this.promise(t.series):void 0}});return n}),t("cn/szse/chart/member/mixed/Mixed",function(t){var e=t("cn/szse/chart/Chart"),n=e.extend({constructor:function(t){t.sType=t.sType||"Mixed",this.base(t),this.state={map:{}}},render:function(t){this.base(t)}});return n}),t("cn/szse/chart/member/marchbrush/MarchBrush",function(t){var e=t("cn/szse/chart/Chart"),n=e.extend({constructor:function(t){t.sType=t.sType||"MarchBrush",this.base(t),this._messages=[],this.state={}},marker:function(t){this._messages=t},render:function(t){this.base(t)}});return n}),t("cn/szse/chart/member/map/Map",function(t){var e=t("cn/szse/chart/Chart"),n=e.extend({constructor:function(t){t.sType=t.sType||"Map",this.base(t),this.state={clientWidth:0},this.elements={}},render:function(t){this.data=t,this.base(t)},getCentroid:function(t,e,n){var r=this,i={};return t&&t.length&&t.forEach(function(t,a){var s=n.centroid(t);isNaN(s[0])&&(s=r.getMunicipality(t,e)),s.x=s[0],s.y=s[1],s.id=t.properties.id,s.name=t.properties.name,s.feature=t,i[t.properties.id]=s}),i},getMunicipality:function(t,e){var n=t.properties.id;switch(n){case"110000":return e([116.4551,40.2539]);case"120000":return e([117.4219,39.4189]);case"310000":return e([121.4648,31.2891]);case"500000":return e([107.7539,30.1904]);default:return[-1e4,-1e4]}},getLocation:function(t,e){var n={};return t&&t.length&&t.forEach(function(t,r){if(void 0!==t.properties.cp){var i=e(t.properties.cp);i.x=i[0],i.y=i[1],i.id=t.properties.id,i.name=t.properties.name,i.feature=t,n[t.properties.id]=i}else n[t.properties.id]=[-1e4,-1e4]}),n},getMap:function(t){for(var e,n,r=[],i=[],a={series:{},category:{}},s=0,o=t.length;o>s;s++){var c=t[s];if(void 0!==c.value){var u=+c.value;(u>n||void 0===n)&&(n=u),(e>u||void 0===e)&&(e=u)}a.series.hasOwnProperty(c.series)===!1&&(a.series[c.series]=!0,r.push(c.series)),a.category.hasOwnProperty(c.category)===!1&&(a.category[c.category]=!0,i.push(c.category))}return{extent:[e,n],series:r,category:i}}});return n}),t("cn/szse/chart/member/line/Line",function(t){var e=t("cn/szse/chart/Chart"),n=e.extend({constructor:function(t){t.sType=t.sType||"Line",this.base(t),this.state={map:{}}},render:function(t){this.base(t)}});return n}),t("cn/szse/chart/member/gauge/Gauge",function(t){var e=t("cn/szse/chart/Chart"),n=e.extend({constructor:function(t){t.sType=t.sType||"Gauge",this.base(t),this.state={}},render:function(t){this.base(t)}});return n}),t("cn/szse/chart/member/force/Force",function(t){var e=t("cn/szse/chart/Chart"),n=e.extend({constructor:function(t){t.sType=t.sType||"Force",this.base(t),this.state={map:{}}},render:function(t){this.base(t)}});return n}),t("cn/szse/chart/member/cloud/Cloud",function(t){var e=t("cn/szse/chart/Chart"),n=e.extend({constructor:function(t){t.sType=t.sType||"Cloud",this.base(t),this.state={}},render:function(t){this.base(t)}});return n}),t("cn/szse/chart/member/candlestick/Candlestick",function(t){var e=t("cn/szse/chart/Chart"),n=e.extend({constructor:function(t){t.sType=t.sType||"Candlestick",this.base(t),this._messages=[],this.state={map:{}}},marker:function(t){this._messages=t},render:function(t){this.base(t)}});return n}),t("cn/szse/chart/member/bar/Bar",function(t){var e=t("cn/szse/chart/Chart"),n=e.extend({constructor:function(t){t.sType=t.sType||"Bar",this.base(t),this.state={map:{}}},render:function(t){this.base(t)}});return n}),t("cn/szse/chart/factory/Volume",function(t){function e(t,e){this.BRUSH_EXTENT&&this.FULL_CATEGORY&&(e.category=this.FULL_CATEGORY.slice(this.BRUSH_EXTENT[0],this.BRUSH_EXTENT[1]+1));var r=a(t,this);return n(r,e,this)}function n(t,e,n){return function(){return r(t,e.width,e.height,e,n)}}function r(t,e,n,r,a){var s=c(r.category||t.category()),u=s([0,e],.2),f=t.extent(),h=o(f),p=h([n,0]),d=p.ticks(),m=d.values[0].tick;f[0]<0&&(m=0);var v=i(u,p,m,r,a),y=v({store:t,x:u,y:p,opts:r});return function(t){return t.call(l,y)}}function i(t,e,n,r,i){var a=u().left(function(e){return Math.floor(t(e.time)+1)}).top(function(t){return e(t.value>0?t.value:n)}).width(function(e){var n=Math.floor(t.rangeBand());return n}).height(function(t){if(0!==t.value){var r=Math.abs(e(n)-e(t.value));return r>1?r:1}return 0}).fill(function(t,e){try{return r.series.item.style(t,e).fill}catch(n){return i.colors(t.series)}});return a}function a(t,e){void 0===t.length&&(t=[]);var n=s(t);return void 0===e._buffer&&(e._buffer={}),t.forEach(function(t){void 0===e._buffer[t.time]&&(e._buffer[t.time]={values:[]}),e._buffer[t.time].values.push({time:t.time,series:t.series,value:t.value,type:"volume",attr:t.attr})}),{extent:function(){return n.extent},category:function(){return n.category},series:function(){return n.series},data:function(){return t}}}function s(t){var e,n,r=[],i=[],a={series:{},category:{}};return t.forEach(function(t){(+t.value>n||void 0===n)&&(n=+t.value),(+t.value<e||void 0===e)&&(e=+t.value),a.series.hasOwnProperty(t.series)===!1&&(a.series[t.series]=!0,r.push(t.series)),a.category.hasOwnProperty(t.time)===!1&&(a.category[t.time]=!0,i.push(t.time))}),extra=Math.abs(.01*n),{extent:[e||0,0>n?0:n+extra||0],series:r,category:i}}var o=(t("d3"),t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/utils/LinearScale")),c=t("cn/szse/chart/utils/TimeScale"),u=t("cn/szse/chart/shapes/IRect"),l=(t("cn/szse/chart/elements/ILegend"),t("cn/szse/chart/elements/impl/Volume"));return e}),t("cn/szse/chart/factory/TreemapGradient",function(t){function e(t,e){var r=a(this,t,e);return n(this,r,e)}function n(t,e,n){return function(){return r(e,n.width,n.height,n,t)}}function r(t,e,n,r,a){return function(e){var n=i({store:t,opts:r});t.gradient();e.call(l,n,a)}}function i(t){var e=u().maxDepth(function(){try{var e=t.opts.series.maxDepth;return"number"==typeof e&&e>0?e:1}catch(n){return 1}}).barHeight(function(){try{var e=t.opts.series.barHeight;return"number"==typeof e&&e-1>=0?e-1:21}catch(n){return 21}});return e(t)}function a(t,e,n){var r=t.formatTree(e),i=n.series.maxDepth||1,a=function(e,r){try{return n.series.item.style(e,r).fill}catch(i){return t.colors(e.value>0)}},u=function(){try{return n.series.sort}catch(t){return!1}},l=c().size([n.width,n.height]).maxDepth(i);"function"==typeof u()&&l.sort(u());var f=l.nodes(r);f=f.filter(function(t){return t.depth<=i});var h=s(f,i);t.state.extent=t.state.extent||l.extent();var p=[],d=o.scale.linear();d.domain([l.total()[0],0]).range([.8,.3]);var m=o.scale.linear();return m.domain([0,l.total()[1]]).range([.3,.8]),f.forEach(function(e,n){var r,i;e.value<0?(r=Math.floor(d(e.value)),e.opacity=d(e.value),e.fill=a(e,n)||t.colors(e.value>0)):0===e.value?(i=Math.floor(m(e.value)),e.fill="#dedede"):(i=Math.floor(m(e.value)),e.opacity=m(e.value),e.fill=a(e,n)||t.colors(e.value>0)),e.depth||(e.opacity=.5)}),{extent:function(){return h.extent},series:function(){return h.series},intervals:function(){return[]},gradient:function(){return p},treemap:function(){return l},data:function(){return f}}}function s(t,e){for(var n,r,i,a,s=[],o={series:{}},c=0,u=t.length;u>c;c++){var l=t[c];if(void 0!==l.value&&(l.depth>0||void 0===l.children)){var f=+l.value;(f>r||void 0===r)&&(r=f),(n>f||void 0===n)&&(n=f),(l.percent>a||void 0===a)&&(a=l.percent),(l.percent<i||void 0===i)&&(i=l.percent)}o.series.hasOwnProperty(l.series)===!1&&(o.series[l.series]=!0,s.push(l.series))}return{extent:[n,r],pExtent:[i,a],series:s}}var o=t("d3"),c=(t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/utils/TreemapScale")),u=t("cn/szse/chart/elements/ITreemap"),l=t("cn/szse/chart/elements/impl/Treemap");return e}),t("cn/szse/chart/factory/Treemap",function(t){function e(t,e){var r=a(this,t,e);return n(this,r,e)}function n(t,e,n){return function(){return r(e,n.width,n.height,n,t)}}function r(t,e,n,r,a){return function(e){var n=i({store:t,opts:r});e.call(p,n,a)}}function i(t){var e=h().maxDepth(function(){try{var e=t.opts.series.maxDepth;return"number"==typeof e&&e>0?e:1}catch(n){return 1}}).barHeight(function(){try{var e=t.opts.series.barHeight;return"number"==typeof e&&e-1>=0?e-1:21}catch(n){return 21}});return e(t)}function a(t,e,n){var r,i=t.formatTree(e),a=n.series.maxDepth||1,c=function(e,r){try{return n.series.item.style(e,r).fill||t.colors()}catch(i){return t.colors()}},u=function(){try{return n.series.sort}catch(t){return!1}},l=function(){try{return n.series.intervals()||[]}catch(t){return[]}},h=f().size([n.width,n.height]).maxDepth(a);"function"==typeof u()&&h.sort(u());var p=h.nodes(i);p=p.filter(function(t){return t.depth<=a});var d=s(p,a);return t.state.extent=t.state.extent||h.extent(),t.state.extent[0]>h.extent()[0]?(t.state.extent[0]=h.extent()[0],r=o(c,l,p,d.extent,d.pExtent,t)):r=o(c,l,p,d.extent,d.pExtent,t),{extent:function(){return d.extent},series:function(){return d.series},intervals:function(){return r},treemap:function(){return h},data:function(){return p}}}function s(t,e){for(var n,r,i,a,s=[],o={series:{}},c=0,u=t.length;u>c;c++){var l=t[c];if(void 0!==l.value&&(l.depth>0||void 0===l.children)){var f=+l.value;(f>r||void 0===r)&&(r=f),
(n>f||void 0===n)&&(n=f),(l.percent>a||void 0===a)&&(a=l.percent),(l.percent<i||void 0===i)&&(i=l.percent)}o.series.hasOwnProperty(l.series)===!1&&(o.series[l.series]=!0,s.push(l.series))}return{extent:[n,r],pExtent:[i,a],series:s}}function o(t,e,n,r,i,a){var s,o,f,h=t(),p=e(),d=h.length,m=p.length,v=0,y=0;return m?(f={},h.forEach(function(t,e){f[e]=t}),p.forEach(function(t,e){0===t.less&&(t.less="0"),t.less?t.from=t.to=t.less:t.greater?t.from=t.to=t.greater:t.equals&&(t.from=t.to=t.equals),t.fill=f[e]||"#dedede",t.index=e})):(o=(a.state.extent[1]-a.state.extent[0])/d,h.forEach(function(t,e){var n={};n.from=Math.ceil(a.state.extent[0]+o*e),n.to=Math.ceil(a.state.extent[0]+o*(e+1)),n.fill=t,n.index=e,p.push(n)}),m=p.length),c(n,p,m),p.forEach(function(t,e){if(u(t.from)&&u(t.to)){var n=l(t.from),a=l(t.to);n<=i[0]&&i[0]<=a&&(v=e),n<=i[1]&&(y=e),"0%"==t.equals&&(s=e)}else t.from<=r[0]&&r[0]<=t.to&&(v=e),t.from<=r[1]&&(y=e)}),void 0!==s&&(p.splice(s,1),v>s?v+=1:y-=1),p=p.slice(v,y+1),n[0]&&0===n[0].value&&(p=[]),p}function c(t,e,n){var r=e[0].from,i=e[n-1].to,a=null;t.forEach(function(t){if(e.forEach(function(e,n){if(u(e.from)&&u(e.to)){var r=t.percent,i=l(e.from),s=l(e.to);r>=i&&s>r&&(t.fill=e.fill,t.fillIndex=e.index)}else e.from<=t.value&&t.value<e.to&&(t.fill=e.fill,t.fillIndex=e.index);e.equals&&(a=e||{})}),u(r)&&u(i)){var s=t.percent,o=l(r),c=l(i);o>=s&&(t.fill=e[0].fill,t.fillIndex=e[0].index),s>=c&&(t.fill=e[n-1].fill,t.fillIndex=e[n-1].index)}else r>=t.value&&(t.fill=e[0].fill,t.fillIndex=e[0].index),t.value>=i&&(t.fill=e[n-1].fill,t.fillIndex=e[n-1].index);0===t.value&&(t.fill=a&&a.fill||"#e9e9e9")})}function u(t){var e=/^[+-]?\d+\.?\d{0,2}%$/;return e.test(t)}function l(t){return u(t)?t.replace("%","")/100:void 0}var f=(t("d3"),t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/utils/TreemapScale")),h=t("cn/szse/chart/elements/ITreemap"),p=t("cn/szse/chart/elements/impl/Treemap");return e}),t("cn/szse/chart/factory/TimeShare",function(t){function e(t,e){var r=a(t.y||t,this,e);return n(this,r,e)}function n(t,e,n){var i=n.width,a=n.height;return function(){return r(e,i,a,n,t)}}function r(t,e,n,r,a){var s=t.category(),u=t.extent(),f=c(s),h=o(u,10),p=r.rangeBand===!1?0:.2,d=f([0,e],p),m=h([n,0]),v=i(d,m,r,a),y={store:t,x:d,y:m,opts:r},g=v(y),x=t.series().map(function(t){a.state.map[t]=a.state.map[t]||!1;try{return{series:t,color:r.series.style({series:t}).stroke,hidden:a.state.map[t]}}catch(e){return{series:t,color:a.colors(t),hidden:a.state.map[t]}}});return a.legend(x),function(t){return t.call(l,g,a)}}function i(t,e,n,r){var i=.5*t.rangeBand(),a=u().x(function(e){return t(e.time)+i}).y(function(t){return e(t.zdfd)}).interpolate(function(){return!0}).defined(function(t){return!t.value&&0!==t.value||isNaN(t.value)?"NULL":isNaN(t.value)?void 0:t.value}).stroke(function(t,e){try{var i=n.series.style(t,e).stroke;return i||r.colors(t.series)}catch(a){return r.colors(t.series)}});return a}function a(t,e,n){var r=s(t||[],e,n.yAxis[0]);return{extent:function(){return r.extent},category:function(){return n.category||r.category},series:function(){return r.series},values:function(t){return r.buffer[t]?r.buffer[t].values:[]},data:function(){return t||[]}}}function s(t,e,n){var r,i,a=[],s=[],o={series:{},category:{}};return void 0===e._buffer&&(e._buffer={}),t.forEach(function(t){(+t.zdfd>i||void 0===i)&&(i=+t.zdfd),(+t.zdfd<r||void 0===r)&&(r=+t.zdfd),o.series.hasOwnProperty(t.series)===!1&&(o.series[t.series]=!0,a.push(t.series)),o.category.hasOwnProperty(t.time)===!1&&(o.category[t.time]=!0,s.push(t.time)),e._buffer.hasOwnProperty(t.time)===!1&&(e._buffer[t.time]={values:[]}),e._buffer[t.time].values.push(t)}),r=Math.abs(r),i=Math.abs(i),i>r?r=-i:(i=r,r=-r),{extent:n.domain||[r,i],series:a,category:s,buffer:e._buffer}}var o=(t("d3"),t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/utils/LinearScale")),c=t("cn/szse/chart/utils/TimeScale"),u=t("cn/szse/chart/shapes/IPath"),l=(t("cn/szse/chart/elements/ILegend"),t("cn/szse/chart/elements/impl/TimeShare"));return e}),t("cn/szse/chart/factory/TimeSeries",function(t){function e(t,e){var r=a(t.y||t,this,e);return n(this,r,e)}function n(t,e,n){var i=n.width,a=n.height;return function(){return r(e,i,a,n,t)}}function r(t,e,n,r,a){var s=t.category(),u=t.extent(),f=c(s),h=o(u),p=r.rangeBand===!1?0:.2,d=f([0,e],p),m=h([n,0]),v=i(d,m,r,a),y={store:t,x:d,y:m,opts:r},g=v(y),x=t.series().map(function(t){a.state.map[t]=a.state.map[t]||!1;try{return{series:t,color:r.series.style({name:t}).stroke,hidden:a.state.map[t]}}catch(e){return{series:t,color:a.colors(t),hidden:a.state.map[t]}}});return a.legend(x),function(t){return t.call(l,g,a)}}function i(t,e,n,r){var i=.5*t.rangeBand(),a=u().x(function(e){return t(e.time)+i}).y(function(t){return e(t.value)}).interpolate(function(){return!0}).defined(function(t){return!t.value&&0!==t.value||isNaN(t.value)?"NULL":isNaN(t.value)?void 0:t.value}).stroke(function(t,e){try{return n.series.style(t,e).stroke}catch(i){return r.colors(t.series)}});return a}function a(t,e,n){var r=s(t||[],e,n.yAxis[0]);return{extent:function(){return r.extent},category:function(){return n.category||r.category},series:function(){return r.series},values:function(t){return r.buffer[t]?r.buffer[t].values:[]},getIndex:function(){return 1},data:function(){return t||[]}}}function s(t,e,n){var r,i,a=[],s=[],o={series:{},category:{}};return void 0===e._buffer&&(e._buffer={}),t.forEach(function(t){(+t.value>i||void 0===i)&&(i=+t.value),(+t.value<r||void 0===r)&&(r=+t.value),o.series.hasOwnProperty(t.series)===!1&&(o.series[t.series]=!0,a.push(t.series)),o.category.hasOwnProperty(t.time)===!1&&(o.category[t.time]=!0,s.push(t.time)),e._buffer.hasOwnProperty(t.time)===!1&&(e._buffer[t.time]={values:[]}),e._buffer[t.time].values.push(t)}),{extent:n.domain||[r,i],series:a,category:s,buffer:e._buffer}}var o=(t("d3"),t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/utils/LinearScale")),c=t("cn/szse/chart/utils/TimeScale"),u=t("cn/szse/chart/shapes/IPath"),l=(t("cn/szse/chart/elements/ILegend"),t("cn/szse/chart/elements/impl/TimeSeries"));return e}),t("cn/szse/chart/factory/TimeBubble",function(t){function e(t,e){var r=a(t,e);return n(this,r,e)}function n(t,e,n){return function(){return r(e,n.width,n.height,n,t)}}function r(t,e,n,r,a){var c=p(t.category()),u=c([0,e]),f=s(u,r),d=o(t,u,r),v=t.yExtent(),y=h(v),g=y([n,0]),x=l.scale.linear().domain(t.rExtent()).rangeRound([5,300]),b=l.scale.linear().domain(t.oExtent()).range([.2,.8]),z=t.series().map(function(t){try{return{series:t,color:r.series.item.style({series:t}).fill}}catch(e){return{series:t,color:a.colors(t)}}});return a.legend(z),function(e){var n=i({store:t,x:u,y:g,r:x,o:b,opts:r}),s=i({store:f,x:u,y:g,opts:r}),o=i({store:d,x:u,y:g,opts:r});e.call(m,n,s,o,a)}}function i(t){var e=d().x(function(e){return t.x(e.x)}).y(function(e){return t.y(e.y)}).r(function(e){return t.r(e.r)}).label(function(){try{return t.opts.series.item.label}catch(e){return!1}});return e(t)}function a(t,e){var n=c(t),r={};return n.series.forEach(function(t,e){r[t]=e}),(void 0!==e.series.item.max||void 0!==e.series.item.min)&&u(t),{xExtent:function(){return n.xExtent},yExtent:function(){return n.yExtent},rExtent:function(){return n.rExtent},oExtent:function(){return n.oExtent},series:function(){return n.series},category:function(){return e.category||n.category},getIndex:function(t){return r[t]},data:function(){return t}}}function s(t,e){return{data:function(){return[]}}}function o(t,e,n){var r,i=[];if(n.series.average===!0){var a=e.ticks().values,s=a.length,o=f.cluster(t.data(),function(t){return r=t.time||t.x,t.series});r=r.split(" ")[0],o.forEach(function(t){var e=l.mean(t.values,function(t){return t.y}),n=[{series:t.series,time:r+" "+a[0].tick,x:r+" "+a[0].tick,y:e},{series:t.series,time:r+" "+a[s-1].tick,x:r+" "+a[s-1].tick,y:e}];i=i.concat(n)})}return{data:function(){return i}}}function c(t){var e,n,r,i,a,s,o,c,u=[],l=[],f={series:{},category:{}};return t.forEach(function(t){!t.x&&t.time&&(t.x=t.time),!t.time&&t.x&&(t.time=t.x),(+t.x>n||void 0===n)&&(n=+t.x),(+t.x<e||void 0===e)&&(e=+t.x),(+t.y>i||void 0===i)&&(i=+t.y),(+t.y<r||void 0===r)&&(r=+t.y),(+t.r>s||void 0===s)&&(s=+t.r),(+t.r<a||void 0===a)&&(a=+t.r),(+t.opacity>c||void 0===c)&&(c=+t.opacity),(+t.opacity<o||void 0===o)&&(o=+t.opacity),f.series.hasOwnProperty(t.series)===!1&&(f.series[t.series]=!0,u.push(t.series)),f.category.hasOwnProperty(t.time)===!1&&(f.category[t.time]=!0,l.push(t.time))}),{xExtent:[e,n],yExtent:[r,i],rExtent:[a,s],oExtent:[o,c],series:u,category:l}}function u(t){var e,n;return n=l.nest().key(function(t){return t.series}).map(t),e=f.map(n,function(t,e){var n,r,i,a;return t.forEach(function(t,e){var s=+t.y;!isNaN(parseFloat(s))&&isFinite(s)&&((void 0===n||n>=s)&&(n=s,i=e),(void 0===r||s>=r)&&(r=s,a=e))}),t[i].min=!0,t[a].max=!0,{series:e,min:i,max:a}})}var l=t("d3"),f=t("cn/szse/chart/utils/Utils"),h=t("cn/szse/chart/utils/LinearScale"),p=t("cn/szse/chart/utils/TimeScale"),d=t("cn/szse/chart/elements/IScatter"),m=t("cn/szse/chart/elements/impl/Scatter");return e}),t("cn/szse/chart/factory/TimeBrush",function(t){function e(t,e){var r=a(t,e,this);return n(this,r,e)}function n(t,e,n){return function(){return r(t,e,n.width,n.height,n)}}function r(t,e,n,r,a){var s=d(e.category()),o=s([0,n]),c=e.extent(),u=p(c),l=u([r,0]),f=i(o,l,a),h=f({store:e,x:o,y:l,opts:a});return function(n){return e.data().length?n.call(v,h,t):void 0}}function i(t,e){var n=.5*t.rangeBand(),r=m().x(function(e){return t(e.time)+n}).defined(function(t){return t.value||0===t.value?isNaN(t.value)?void 0:t.value:"NULL"}).y(function(t){return e(t.value)}).interpolate(function(){return!0}).stroke(function(t){return"#557E9A"});return r}function a(t,e,n){var r,i,a=[],s={};try{r=e.series.extent||[["09:30","11:30"],["13:00","15:00"]]}catch(o){r=[["09:30","11:30"],["13:00","15:00"]]}l(r)||(r=[r]),e.series.rate||(e.series.rate="1m"),r.forEach(function(t,r){var i=u(t,r,e,n);a=a.concat(i)}),t.forEach(function(t,e){t&&t.time&&(s[t.time]=t.value)}),a.forEach(function(t,e){s[t.time]&&(t.value=s[t.time],i=e+1)});var c=f(a),h=f(t);return{extent:function(){return c.extent},category:function(){return c.category},inputCategory:function(){return h.category},series:function(){return c.series},range:function(t,e){return[c.range[t]||0,c.range[e]||0]},inputLength:function(){return i},input:function(){return t},data:function(){return a}}}function s(t,e,n){var r=t[0].split(":"),i=(t[1].split(":"),+r[0]),a=+r[1]-1;return function(){return 59>a?a+=1:(a=0,i+=1),e+" "+(10>i?"0"+i:i)+":"+(10>a?"0"+a:a)}}function o(t,e,n){var r,i,a=t[0].split(":");t[1].split(":");return n?(r=+a[0],i=+a[1]):(r=+a[0],i=+a[1]-5),function(){return 59>i?(i+=5,60==i&&(i=0,r+=1)):(i=0,r+=1),e+" "+(10>r?"0"+r:r)+":"+(10>i?"0"+i:i)}}function c(t,e,n){var r,i=t[0].split(":"),a=(t[1].split(":"),+i[0]),s=+i[1];return r=n?30:-30,function(){return 59>r?(r+=30,60==r&&(r=0,s+=1)):(r=0,s+=1),60==s&&(s=0,a+=1),e+" "+(10>a?"0"+a:a)+":"+(10>s?"0"+s:s)+":"+(10>r?"0"+r:r)}}function u(t,e,n,r){for(var i,a,u=r.getDateFormat(new Date),l=[],f=[],h=0,p=t.length;p>h;h++){var d=u+" "+t[h];l.push(new Date(d).getTime())}"1m"==n.series.rate?(i=(l[1]-l[0])/1e3/60,a=e>0?s(t,u,!0):s(t,u)):"5m"==n.series.rate?(i=(l[1]-l[0])/1e3/60/5,a=e>0?o(t,u,!0):o(t,u)):"30s"==n.series.rate&&(i=(l[1]-l[0])/1e3/30,a=e>0?c(t,u,!0):c(t,u));for(var m=0;i+1>m;m++){var v={};v.time=a(),v.value="NULL",f.push(v)}return a=null,f}function l(t){for(var e=!1,n=0,r=t.length;r>n;n++){if(!(t[n]instanceof Array))return!1;e=!0}return e}function f(t){var e,n,r=[],i=[],a={series:{},category:{}};return t.forEach(function(t,s){return t?((+t.value>n||void 0===n)&&(n=+t.value),(+t.value<e||void 0===e)&&(e=+t.value),a.series.hasOwnProperty(t.series)===!1&&(a.series[t.series]=!0,r.push(t.series)),void(a.category.hasOwnProperty(t.time)===!1&&(a.category[t.time]=s,i.push(t.time)))):!1}),{extent:[e,n],series:r,category:i,range:a.category}}var h=t("d3"),p=(t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/utils/LinearScale")),d=t("cn/szse/chart/utils/TimeScale"),m=t("cn/szse/chart/shapes/IPath"),v=t("cn/szse/chart/elements/impl/TimeBrush");h.scale.category10();return e}),t("cn/szse/chart/factory/StackLine",function(t){function e(t,e){var r=a(t,e,this);return n(this,r,e)}function n(t,e,n){return function(){return r(e,n.width,n.height,n,t)}}function r(t,e,n,r,a){var s,o=f(t.category()),c=o([0,e]),u=l([0,t.extent()[1]]),h=u([n,0]),d=t.series();try{s=a.state.show||r.series.show||d}catch(m){s=d}var v=d.map(function(t){try{return{series:t,color:r.series.style({name:t}).stroke,hidden:s.indexOf(t)>=0?!1:!0}}catch(e){return{series:t,color:a.colors(t),hidden:s.indexOf(t)>=0?!1:!0}}});return a.legend(v),function(e){var n={store:t,x:c,y:h,opts:r},s=i(n);e.call(p,s,a)}}function i(t){var e=h().x(function(e){return t.x(e.category)}).y(function(e){return t.y(e.stack+e.value)}).r(function(e){try{var n=t.opts.series.item.r;return"number"==typeof n?20*n:64}catch(r){return 64}}).label(function(){try{return t.opts.series.item.label}catch(e){return!1}});return e(t)}function a(t,e,n){var r,i,a,l=o(t),f=c(t),h={};return s(l,f),i=u.extent(t,function(t){return t.stack+t.value}),(r=e.yAxis[0].domain)&&r instanceof Array&&2===r.length&&(r=i.concat(r),i=u.extent(r,function(t){return t})),f.series.forEach(function(t,e){h[t]=e}),a=t.map(function(t){var e=n.state.show&&n.state.show.indexOf(t.series)<0;return{category:t.category,series:t.series,value:t.value,stack:t.stack,hidden:e?!1:!0}}),{extent:function(){return i},category:function(){return f.category},series:function(){return f.series},getIndex:function(t){return h[t]},data:function(){return a}}}function s(t,e){e.category.forEach(function(n){var r;e.series.forEach(function(e,i){0===i?t[n][e].stack=0:t[n][e].stack=isNaN(r.value)?r.stack:r.value+r.stack,r=t[n][e]})})}function o(t){var e={};return t.forEach(function(t){void 0===e[t.category]&&(e[t.category]={}),e[t.category][t.series]=t}),e}function c(t){var e=u.unique(),n=u.unique();return t.forEach(function(t,r){e(t.series),n(t.category)}),{series:e.data(),category:n.data()}}var u=(t("d3"),t("cn/szse/chart/utils/Utils")),l=t("cn/szse/chart/utils/LinearScale"),f=t("cn/szse/chart/utils/OrdinalScale"),h=t("cn/szse/chart/elements/ILine"),p=t("cn/szse/chart/elements/impl/Line");return e}),t("cn/szse/chart/factory/StackBar",function(t){function e(t,e){var r=a(t,e);return n(this,r,e)}function n(t,e,n){return function(){return r(t,e,n)}}function r(t,e,n){var r,a,s=n.width,l=n.height,h=e.category(),p=e.series(),d=e.data(),m=u(h),v=m([0,s],.1),y={};d.forEach(function(t){void 0===y[t.category]&&(y[t.category]={}),y[t.category][t.series]=t});var g;h.forEach(function(t){p.forEach(function(e,n){0===n?y[t]&&y[t][e]&&(y[t][e].stack=0):y[t]&&y[t][e]&&(y[t][e].stack=g?+g.value+g.stack:0),g=y[t][e]})}),a=o.extent(d,function(t){return void 0===t.stack&&(t.stack=y[t.category][t.series].stack+y[t.category][t.series].value),+t.value+t.stack}),(r=n.yAxis[0].domain)&&r instanceof Array&&2===r.length&&(r=a.concat(r),a=o.extent(r,function(t){return t}));var x=c([0,a[1]]),b=x([l,0]),z=(b.ticks(),0),k=i(v,b,a[0]>0?z:0,n,t),A=k({store:e,x:v,y:b,opts:n}),w=e.series().map(function(e){try{return{series:e,color:n.series.style({series:e}).fill}}catch(r){return{series:e,color:t.colors(e)}}});return t.legend(w),function(e){return e.call(f,A,t)}}function i(t,e,n,r,i){var a=l().left(function(e){return t.rangeBand()>30?t(e.category)+1+.5*(t.rangeBand()-30):t(e.category)+1}).top(function(t){return e(+t.value+t.stack>0?+t.value+t.stack:n)}).width(function(e){return t.rangeBand()>30?30:t.rangeBand()-2}).height(function(t){return+t.value>0?e(n)-e(+t.value):Math.abs(e(n)-e(+t.value))}).fill(function(t,e){try{return r.series.style(t,e).fill||i.colors(t.series)}catch(n){return i.colors(t.series)}}).animation(function(){try{return r.animation}catch(t){return!1}}).transform(function(n){var r=t.rangeBand()>20?t(n.category)+1+.5*(t.rangeBand()-1):-1e4,i=e(0)-e(+n.value)>10?e(+n.value/2+n.stack||0):-1e4;return[r,i]}).label(function(){try{return r.series.item.label}catch(t){return!1}});return a}function a(t,e){var n=s(t,e);return{extent:function(){return n.extent},category:function(){return n.category},series:function(){return n.series},data:function(){return t}}}function s(t,e){var n,r,i,a=[],s=[],o={series:{},category:{}};return t.forEach(function(t){(+t.value>r||void 0===r)&&(r=+t.value),(+t.value<n||void 0===n)&&(n=+t.value),o.series.hasOwnProperty(t.series)===!1&&(o.series[t.series]=!0,a.push(t.series)),o.category.hasOwnProperty(t.category)===!1&&(o.category[t.category]=!0,s.push(t.category))}),i=[n||0,r||0],{extent:i,series:a,category:s}}var o=(t("d3"),t("cn/szse/chart/utils/Utils")),c=t("cn/szse/chart/utils/LinearScale"),u=t("cn/szse/chart/utils/OrdinalScale"),l=t("cn/szse/chart/shapes/IRect"),f=t("cn/szse/chart/elements/impl/Bar");return e}),t("cn/szse/chart/member/radar/Radar",function(t){var e=t("cn/szse/chart/Chart"),n=(t("cn/szse/chart/utils/Utils"),e.extend({constructor:function(t){t.sType=t.sType||"Radar",this.base(t),this.state={map:{}}},render:function(t){this.base(t)},state:{}}));return n}),t("cn/szse/chart/factory/Rose",function(t){function e(t,e){var r=s(t,e,this);return n(r,e,this)}function n(t,e,n){return function(){return r(t,e.width,e.height,e,n)}}function r(t,e,n,r,i){var s=a(r,i),o=t.series.map(function(t){try{return{series:t,color:r.series.style({series:t}).fill||"#000"}}catch(e){return{series:t,color:i.colors(t)}}});return i.legend(o),function(e){var n=s(t.data);e.call(f,n,i,r)}}function a(t,e){var n=t.series.item,r=l().animation(function(){try{return n.animation}catch(t){return!1}}).label(function(){try{var t=n.label;if(t){var e=t.location;t.location||(e="OUT");var r=t.text;return r||(r=function(t){return t.data.series+": "+(100*t.value).toFixed(2)+"%"}),{location:e,text:r}}return!1}catch(i){return!1}}).stroke(function(n){try{return t.series.style(n,i).stroke}catch(r){return e.colors(n.series)}}).fill(function(n,r){try{return t.series.style(n,r).fill}catch(i){return e.colors(n.series)}}).series(function(t){return t.data.series}).category(function(t){return t.data.category});return r}function s(t,e,n){var r=o(t),i=[],a=e.width,s=e.height,c=function(t,r){try{return e.series.style(t,r).fill}catch(i){return n.colors(t.series)}},l=.5*Math.min(a,s),f=e.series.item,h=f.innerRadius||0,p=f.outerRadius||.8*l,d=f.start||0,m=r.length,v=1/(m+1),y=Math.PI,g=[];return i=n.getResult(r,function(t,e){return{total:u.sum(t,function(t){return t.value}),avgAngle:2*y*(360/t.length/360),data:t}},function(){return 2*y*(d/360)},function(t,e,n,r,i,a){var s={innerRadius:0===e?h:p*v*(e+1)+2,outerRadius:Math.sqrt(t.value*a.data.length/y),startAngle:i,endAngle:a.avgAngle+i,fill:c(t,n),value:t.value/a.total,data:t,start:2*y*(d/360)};return 0===e&&g.push(t.series),s}),{series:g,data:i}}function o(t){var e=c.nest().key(function(t){return t.category}).map(t),n=u.map(e,function(t){return t});return n}var c=t("d3"),u=t("cn/szse/chart/utils/Utils"),l=t("cn/szse/chart/elements/ISlice"),f=t("cn/szse/chart/elements/impl/Slice");return e}),t("cn/szse/chart/factory/Risk",function(t){function e(t,e){this.BRUSH_EXTENT&&this.FULL_CATEGORY&&(e.category=this.FULL_CATEGORY.slice(this.BRUSH_EXTENT[0],this.BRUSH_EXTENT[1]+1));var r=a(t.y||t,e.yAxis[0],e),i=a(t.y1||[],e.yAxis[1]||[],e);return n(this,r,i,e)}function n(t,e,n,i){var a=i.width,s=i.height;return function(){return r(e,n,a,s,i,t)}}function r(t,e,n,r,a,s){var u;u=c(t.category().length?t.category():e.category());var f=u([0,n],a.rangeBand===!1?0:.2),h=o(t.extent()),p=h([r,0]),d=o(e.extent()),m=d([r,0]),v=i(f,p,a,s),y={store:t,x:f,y:p,opts:a},g=v(y),x=i(f,m,a,s),b={store:e,x:f,y:m,opts:a},z=x(b),k=t.series().concat(e.series()).map(function(t){try{return{series:t,color:a.series.style({name:t}).stroke}}catch(e){return{series:t,color:s.colors(t)}}});return s.legend(k),function(t){return t.call(l,g,z,s)}}function i(t,e,n,r){var i=.5*t.rangeBand(),a=u().x(function(e){return t(e.time)+i}).y(function(t){return e(t.value)}).interpolate(function(){return!0}).defined(function(t){return!t.value&&0!==t.value||isNaN(t.value)?"NULL":isNaN(t.value)?void 0:t.value}).stroke(function(t,e){try{return n.series.style(t,e).stroke||r.colors(t.series)}catch(i){return r.colors(t.series)}});return a}function a(t,e,n){t.length||(t=[]);var r=s(t,e,n);return{extent:function(){return r.extent},category:function(){return n.category||r.category},size:function(){return n.category?n.category.length:r.category.length},series:function(){return r.series},values:function(t){return r.cluster[t]},getIndex:function(){return 1},data:function(){return t}}}function s(t,e,n){var r,i,a=[],s=[],o={series:{},category:{}},c={};return t.forEach(function(t){(+t.value>i||void 0===i)&&(i=+t.value),(+t.value<r||void 0===r)&&(r=+t.value),o.series.hasOwnProperty(t.series)===!1&&(o.series[t.series]=!0,a.push(t.series)),o.category.hasOwnProperty(t.time)===!1&&(o.category[t.time]=!0,s.push(t.time)),c.hasOwnProperty(t.time)===!1&&(c[t.time]=[]),c[t.time]=t}),{extent:e.domain||[r,i],series:a,category:s,cluster:c}}var o=(t("d3"),t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/utils/LinearScale")),c=t("cn/szse/chart/utils/TimeScale"),u=t("cn/szse/chart/shapes/IPath"),l=(t("cn/szse/chart/elements/ILegend"),t("cn/szse/chart/elements/impl/Risk"));return e}),t("cn/szse/chart/factory/Radar",function(t){function e(t,e){var r=a(t,e);return n(r,e,this)}function n(t,e,n){return function(){return r(t,e.width,e.height,e,n)}}function r(t,e,n,r,a){var s=(r.series.item,{}),u=t.category();u.forEach(function(e){var r=t.extent()[e],i=h(r);dts=i([n,0]).ticks().values,s[e]={min:o.min(dts,function(t){return t.tick}),max:o.max(dts,function(t){return t.tick})}});var l=t.series().map(function(t){try{return{series:t,color:r.series.style({series:t}).fill}}catch(e){return{series:t,color:a.colors(t)}}});a.legend(l);var p={width:e,height:n,factor:1,levels:5,extent:s,radians:2*Math.PI,color:function(t,e){try{return"undefined"!=typeof r.series.style(t,e).fill?r.series.style(t,e).fill:a.colors(t.series)}catch(n){return a.colors(t.series)}},stroke:function(t,e){try{return"undefined"!=typeof r.series.style(t,e).stroke?r.series.style(t,e).stroke:a.colors(t.series)}catch(n){return a.colors(t.series)}}},d=c.extend(!0,{},p,r.series.item),m=c.extend(!0,{},r,{series:{item:d}});return function(e){var n={store:t,opts:m},r=i(n);e.call(f,r,a)}}function i(t){var e=t.opts.series.item,n=(new l).x(function(e){return t.x(e.category)}).y(function(e){return t.y(e.value)}).r(function(t){try{var n=e.r;return"number"==typeof n?20*n:64}catch(r){return 64}}).label(function(){try{return e.label}catch(t){return!1}});return n(t)}function a(t,e){var n=s(t),r={},i={};n.series.forEach(function(t,e){i[t]=e});var a=o.nest().key(function(t){return t.series}).map(t),c=n.category;return c.forEach(function(e){r[e]=u.extent(t,function(t){return t.value})}),{extent:function(){return r},category:function(){return n.category},series:function(){return n.series},getIndex:function(t){return i[t]},store:function(){return a},data:function(){return t}}}function s(t){var e=u.unique(),n=u.unique();return t.forEach(function(t,r){e(t.series),n(t.category)}),{series:e.data(),category:n.data()}}var o=t("d3"),c=t("jQuery"),u=t("cn/szse/chart/utils/Utils"),l=t("cn/szse/chart/elements/IRadar"),f=t("cn/szse/chart/elements/impl/Radar"),h=t("cn/szse/chart/utils/LinearScale");t("cn/szse/chart/utils/OrdinalScale");return e}),t("cn/szse/chart/factory/Pie",function(t){function e(t,e){var r=s(t,e,this);return n(r,e,this)}function n(t,e,n){return function(){return r(t,e.width,e.height,e,n)}}function r(t,e,n,r,i){var s=a(r,i),o=t.series.map(function(t){try{return{series:t,color:r.series.style({series:t}).fill||"#000"}}catch(e){return{series:t,color:i.colors(t)}}});return i.legend(o),function(e){var n=s(t.data);e.call(f,n,i,r)}}function a(t,e){var n=t.series.item,r=l().animation(function(){try{return n.animation}catch(t){return!1}}).label(function(){try{var t=n.label;if(t){var e=t.location;t.location||(e="OUT");var r=t.text;return r||(r=function(t){return(100*t.value).toFixed(2)+"%"}),{location:e,text:r}}return!1}catch(i){return!1}}).stroke(function(n){try{return t.series.style(n,i).stroke}catch(r){return e.colors(n.series)}}).fill(function(n,r){try{return t.series.style(n,r).fill}catch(i){return e.colors(n.series)}}).series(function(t){return t.data.series}).category(function(t){return t.data.category});return r}function s(t,e,n){var r=o(t),i=e.width,a=e.height,s=function(t,r){try{return e.series.style(t,r).fill}catch(i){return n.colors(t.series)}},c=.5*Math.min(i,a),l=e.series.item,f=l.innerRadius||0,h=l.outerRadius||.8*c,p=l.start||0,d=l.end||360,m=d-p>360?(d-p)%360:d-p,v=l.space||0,y=r.length,g=[],x=1/(y+1),b=Math.PI,z=[];return g=n.getResult(r,function(t,e){return u.sum(t,function(t){return t.value})},function(){return 2*b*(p/360)},function(t,e,n,r,i,a){var o={innerRadius:0===e?f:h*x*(e+1)+v,outerRadius:h*x*(e+2),startAngle:i,endAngle:2*b*(t.value/a)*(m/360)+i,fill:s(t,n),value:t.value/a,data:t,start:2*b*(p/360)};return 0===e&&z.push(t.series),o}),{series:z,data:g}}function o(t){var e=c.nest().key(function(t){return t.category}).map(t),n=u.map(e,function(t){return t});return n}var c=t("d3"),u=t("cn/szse/chart/utils/Utils"),l=t("cn/szse/chart/elements/ISlice"),f=t("cn/szse/chart/elements/impl/Slice");return e}),t("cn/szse/chart/elements/impl/Mixed",function(t){function e(t,e,r,a){var s=e.get(),c=n(e),f=i(e,r);t.call(o,e).call(c).call(f);var h=t.selectAll("g.items-rect").data(["items-rect"]);h.enter().append("g").attr("class","items-rect").attr("transform",function(){return"translate("+s.opts.left+", "+s.opts.top+")"}),h.call(u,e,a),h.exit().remove(),t.call(l,r,a)}function n(t){var e=r(t),n=t.get(),i=n.opts,a=i.left,o=i.top;return function(t){return t.call(s,a,o,e)}}function r(t){var e=t.get(),n=c().type(function(){return"bottom"}).top(function(){return e.opts.height}).width(function(){return e.opts.width}).height(function(){return e.opts.height}).tick(function(t){try{return e.opts.xAxis[0].tickLabel(t)}catch(n){return t.tick}});return n(e.x.ticks())}function i(t,e){var n=t.get(),r=e.get(),i=n.opts,o=i.left,c=i.top,u=i.width,l=i.height;return function(t){var e=a(u,l,"left",i.yAxis[0]);n.store.data().length&&t.call(s,o,c,e(n.y.ticks()));var f=a(u,l,"right",i.yAxis[1]);r.store.data().length&&!i.series.shareYAxis&&t.call(s,o,c,f(r.y.ticks()))}}function a(t,e,n,r){var i=c().type(function(){return n||"left"}).width(function(){return t}).height(function(){return e}).tick(function(t){try{return r.tickLabel(t)}catch(e){return t.tick}});return i}var s=(t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/elements/impl/Axis")),o=t("cn/szse/chart/elements/impl/GridsBox"),c=t("cn/szse/chart/elements/IAxis"),u=t("cn/szse/chart/shapes/impl/Rect"),l=(t("cn/szse/chart/elements/ITooltips"),t("cn/szse/chart/elements/impl/Tooltips"),t("cn/szse/chart/elements/impl/Line"));return e}),t("cn/szse/chart/factory/MarchBrush",function(t){function e(t,e){var r=a(t,e,this);return n(this,r,e)}function n(t,e,n){return function(){return r(t,e,n.width,n.height,n)}}function r(t,e,n,r,a){var s=u(e.category()),o=s([0,n]),l=e.extent(),h=c(l),p=h([r,0]),d=i(o,p,a),m=d({store:e,x:o,y:p,opts:a});return function(n){return e.data().length?n.call(f,m,t):void 0}}function i(t,e){var n=.5*t.rangeBand(),r=l().x(function(e){return t(e.time)+n}).defined(function(t){return t.value||0===t.value?isNaN(t.value)?void 0:t.value:"NULL"}).y(function(t){return e(t.value)}).interpolate(function(){return!0}).stroke(function(t){return"#557E9A"});return r}function a(t,e,n){var r,i=[],a={};try{r=e.category||[]}catch(c){r=[]}n.FULL_CATEGORY=r,i=s(r,e,n),t.forEach(function(t,e){t&&t.time&&(a[t.time]=t.value)}),i.forEach(function(t,e){a.hasOwnProperty(t.time)&&(t.value=a[t.time])});var u=o(i);return{extent:function(){return u.extent},category:function(){return u.category},series:function(){return u.series},range:function(t,e){return[u.range[t]||0,u.range[e]||0]},input:function(){return t},data:function(){return i}}}function s(t,e,n){for(var r=[],i=0,a=t.length;a>i;i++){var s={};s.time=t[i],s.value="NULL",r.push(s)}return r}function o(t){var e,n,r=[],i=[],a={series:{},category:{}};return t.forEach(function(t,s){return t?((+t.value>n||void 0===n)&&(n=+t.value),(+t.value<e||void 0===e)&&(e=+t.value),a.series.hasOwnProperty(t.series)===!1&&(a.series[t.series]=!0,r.push(t.series)),void(a.category.hasOwnProperty(t.time)===!1&&(a.category[t.time]=s,i.push(t.time)))):!1}),{extent:[e,n],series:r,category:i,range:a.category}}var c=(t("d3"),t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/utils/LinearScale")),u=t("cn/szse/chart/utils/TimeScale"),l=t("cn/szse/chart/shapes/IPath"),f=t("cn/szse/chart/elements/impl/MarchBrush");return e}),t("cn/szse/chart/factory/Map",function(t){function e(t,e){var r=a(this,t,e);return n(this,r,e)}function n(t,e,n){return function(){return r(e,n.width,n.height,n,t)}}function r(t,e,n,r,a){var o=l.scale.linear().domain(t.extent()).range([10,200]),c=t.series().map(function(t){try{return{series:t,color:r.series.item.style({name:t}).fill}}catch(e){return{series:t,color:a.colors(t)}}});return a.legend(c),function(e){var n=i({store:t,r:o,opts:r},a);try{cn.szse.chart.mapdata}catch(c){return}e.call(h,n,a).call(p,n,a),void 0===a.state.fetch&&(a.on("map-fetch",function(t,n,c,u,l){var f=s(a,t,n,c,u,l),h=i({store:f,r:o,opts:r});e.call(p,h,a)}),a.on("map-root",function(t){e.call(p,t,a)}),a.state.fetch=!0)}}function i(t,e){var n=t.opts.series.item,r=f().r(function(e){return t.r(e.value)}).fill(function(t,r){try{return n.style(t,r).fill}catch(i){return e.colors(t.series)}}).label(function(){try{return n.label}catch(t){return!1}}).tooltipsText(function(e,r){var i=n.tooltips;if(i){var a=i.text;return void 0===a?(t.store.mapdata().propertiesMap[e.category]?'<h4 class="tips-title">'+t.store.mapdata().propertiesMap[e.category]+", "+e.category+"</h4>":'<h4 class="tips-title">'+e.category+"</h4>")+(e.series?"<span>"+e.series+"</span><br />":"")+(e.value?'值: <span class="s-chart-price">'+e.value+"</span><br />":""):a(e)}}).animation(function(){try{return t.opts.animation}catch(e){return!1}});return r(t)}function a(t,e,n){var r;try{r=cn.szse.chart.mapdata}catch(i){r={},console.log("地图数据未引入...")}e=e.sort(function(t,e){return e.value-t.value});var a=t.getMap(e),s=o(n);if(n.width!=t.state.clientWidth){var l=t.getLocation(r.cities,s);t.state.clientWidth=n.width,t.state.cityMap=l}return{extent:function(){return a.extent},series:function(){return a.series},getPath:function(t){return u(t)},getProjection:function(){return s},getChildProjection:function(){return c},mapdata:function(){return r},getCityMap:function(){return t.state.cityMap},items:function(){return["items-symbol"]},data:function(){return e}}}function s(t,e,n,r,i){var a;try{a=cn.szse.chart.mapdata}catch(s){a={},console.log("地图数据未引入...")}e=e.filter(function(t,e){return t.category.substr(0,2)==n.substr(0,2)});var o=t.getMap(e),c=t.getLocation(r,i);return{extent:function(){return o.extent},series:function(){return o.series},mapdata:function(){return a},getCityMap:function(){return c},items:function(){return["items-city-symbol"]},data:function(){return e}}}function o(t){var e=l.geo.mercator().center([102,40]).scale(t.height).translate([t.width/2,t.height/2]);return e}function c(t,e){var n=l.geo.mercator().center(e.cp).scale(1.5*e.size).translate([t.width/2,t.height/2]);return n}function u(t){return l.geo.path().projection(t)}var l=t("d3"),f=(t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/elements/IMap")),h=t("cn/szse/chart/elements/impl/Map"),p=t("cn/szse/chart/shapes/impl/MapSymbol");return e}),t("cn/szse/chart/factory/Line",function(t){function e(t,e){var r=a(t,e,this);return n(this,r,e)}function n(t,e,n){return function(){return r(e,n.width,n.height,n,t)}}function r(t,e,n,r,a){var s,o=h(t.category()),c=o([0,e]),u=f(t.extent()),l=u([n,0]),p=t.series();try{s=a.state.show||r.series.show||p}catch(m){s=p}var v=p.map(function(t){try{return{series:t,
color:r.series.style({name:t}).stroke,hidden:s.indexOf(t)>=0?!1:!0}}catch(e){return{series:t,color:a.colors(t),hidden:s.indexOf(t)>=0?!1:!0}}});return a.legend(v),function(e){var n={store:t,x:c,y:l,opts:r},s=i(n);e.call(d,s,a)}}function i(t){var e=t.opts.series.item,n=p().x(function(e){return t.x(e.category)}).y(function(e){return t.y(e.value)}).r(function(t){try{var n=e.r;return"number"==typeof n?20*n:64}catch(r){return 64}}).label(function(){try{return e.label}catch(t){return!1}});return n(t)}function a(t,e,n){if(e.series.average===!0){var r=c(t);t=t.concat(r),t.sort(function(t,e){return t.category>e.category?1:t.category<e.category?-1:0})}var i,a,u,f,h,p=s(t),d={};return a=l.extent(t,function(t){return t.value}),(i=e.yAxis[0].domain)&&i instanceof Array&&(u=i.slice(0,2),u=a.concat(u),f=i.slice(2),a=l.extent(u,function(t){return t}),a=a.concat(f)),p.series.forEach(function(t,e){d[t]=e}),(void 0!==e.series.max||void 0!==e.series.min)&&o(t),h=t.map(function(t){var e=n.state.show&&n.state.show.indexOf(t.series)<0;return{category:t.category,series:t.series,value:t.value,hidden:e?!1:!0}}),{extent:function(){return a},category:function(){return p.category},series:function(){return p.series},getIndex:function(t){return d[t]},data:function(){return h}}}function s(t){var e=l.unique(),n=l.unique();return t.forEach(function(t,r){e(t.series),n(t.category)}),{series:e.data(),category:n.data()}}function o(t){var e,n;return n=u.nest().key(function(t){return t.series}).map(t),e=l.map(n,function(t,e){var n,r,i,a;return t.forEach(function(t,e){var s=+t.value;!isNaN(parseFloat(s))&&isFinite(s)&&((void 0===n||n>=s)&&(n=s,i=e),(void 0===r||s>=r)&&(r=s,a=e))}),t[i].min=!0,t[a].max=!0,{series:e,min:i,max:a}})}function c(t){var e,n;return n=u.nest().key(function(t){return t.category}).map(t),e=l.map(n,function(t,e){var n=u.mean(t,function(t){return t.value});return{category:e,series:"average",value:Math.floor(n)}})}var u=t("d3"),l=t("cn/szse/chart/utils/Utils"),f=t("cn/szse/chart/utils/LinearScale"),h=t("cn/szse/chart/utils/OrdinalScale"),p=t("cn/szse/chart/elements/ILine"),d=t("cn/szse/chart/elements/impl/Line");return e}),t("cn/szse/chart/factory/IntraDay",function(t){function e(t,e){var r=a(t.y||t,e.yAxis[0]),i=a(t.y1||[],e.yAxis[1]||[]);return n(this,r,i,e)}function n(t,e,n,i){var a=i.width,s=i.height;return function(){return r(e,n,a,s,i,t)}}function r(t,e,n,r,a,s){var o=u(a.category||[]),l=o([0,n],a.rangeBand===!1?0:.2),h=c(t.extent()),p=h([r,0]),d=c(e.extent()),m=d([r,0]),v=i(l,p,a),y={store:t,x:l,y:p,opts:a},g=v(y),x=i(l,m,a),b={store:e,x:l,y:m,opts:a},z=x(b);return function(t){return t.call(f,g,z,s)}}function i(t,e){var n=.5*t.rangeBand(),r=l().x(function(e){return t(e.time)+n}).y(function(t){return e(t.value)}).interpolate(function(){return!0}).stroke(function(t){return h(t.name)});return r}function a(t,e){var n=s(t,e);return{extent:function(){return n.extent},category:function(){return n.category},size:function(){return 241},series:function(){return n.series},values:function(t){return n.cluster[t]},data:function(){return t}}}function s(t,e){var n,r,i=[],a=[],s={series:{},category:{}},o={};return t.forEach(function(t){(+t.value>r||void 0===r)&&(r=+t.value),(+t.value<n||void 0===n)&&(n=+t.value),s.series.hasOwnProperty(t.series)===!1&&(s.series[t.series]=!0,i.push(t.series)),s.category.hasOwnProperty(t.time)===!1&&(s.category[t.time]=!0,a.push(t.time)),o.hasOwnProperty(t.time)===!1&&(o[t.time]=[]),o[t.time]=t}),{extent:e.domain||[n,r],series:i,category:a,cluster:o}}var o=t("d3"),c=(t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/utils/LinearScale")),u=t("cn/szse/chart/utils/TimeScale"),l=t("cn/szse/chart/shapes/IPath"),f=(t("cn/szse/chart/elements/ILegend"),t("cn/szse/chart/elements/impl/TimeSeries")),h=o.scale.category10();return e}),t("cn/szse/chart/factory/Horizon",function(t){function e(t,e){var r=a(t,this,e);return n(this,r,e)}function n(t,e,n){return function(){return r(t,e,n)}}function r(t,e,n){var r=n.width,a=n.height,s=f(e.category()),o=s([0,r]),c=e.extent(),u=l(c),h=u([a,0]),d=i(o,h,r/e.category().length,n),m=d({store:e,x:o,y:h,opts:n});return function(e){return e.call(p,m,t)}}function i(t,e,n,r){var i=h().x(function(e){return e.time?t(e.time):t(e.stime)+e.value*n}).y(function(t){return e(t.time?Math.abs(t.value):0)}).interpolate(function(){return!0}).stroke(function(t,e){try{return r.series.style(t,e).stroke||d(t.name+t.series)}catch(n){return d(t.name+t.series)}});return i}function a(t,e,n){var r=s(t);return void 0===e._buffer&&(e._buffer={}),t.forEach(function(t){void 0===e._buffer[t.time]&&(e._buffer[t.time]={values:[]}),t.left=n.left,t.top=n.top,e._buffer[t.time].values.push(t)}),{extent:function(){return r.extent},category:function(){return r.category},getIndex:function(t){return e._buffer[t]},series:function(){return r.series},data:function(){return r.data}}}function s(t,e){var n,r,i=[],a=[],s={series:{},category:{}},c={};t.forEach(function(t,e){var o=Math.abs(+t.value);(o>r||void 0===r)&&(r=+o),(n>o||void 0===n)&&(n=o),s.series.hasOwnProperty(t.series)===!1&&(s.series[t.series]=!0,i.push(t.series)),s.category.hasOwnProperty(t.time)===!1&&(s.category[t.time]=!0,a.push(t.time)),void 0===c[t.series]&&(c[t.series]=[]),c[t.series].push(t)});var u=o(c);return{extent:[n>=0?n:0,r],series:i,category:a,data:u}}function o(t){var e=[],n=u.map(t,function(t){var e,n=0,r=[{series:"",cluster:!0,values:[],name:""}];return t.forEach(function(i,a){void 0!==e&&(-1===e&&i.value>0||1===e&&i.value<0)&&(r[n].values.push({value:Math.abs(t[a-1].value)/(Math.abs(t[a-1].value)+Math.abs(i.value)),series:i.series,stime:t[a-1].time}),n+=1,void 0===r[n]&&(r[n]={series:"",cluster:!0,values:[]}),r[n].values.push({value:Math.abs(t[a-1].value)/(Math.abs(t[a-1].value)+Math.abs(i.value)),series:i.series,stime:t[a-1].time})),i.value<0?(e=-1,r[n].series="fall"):i.value>0&&(e=1,r[n].series="rise"),r[n].name=i.series,r[n].values.push(i)}),r});return n.forEach(function(t){t.forEach(function(t){e.push(t)})}),e}var c=t("d3"),u=t("cn/szse/chart/utils/Utils"),l=t("cn/szse/chart/utils/LinearScale"),f=t("cn/szse/chart/utils/TimeScale"),h=t("cn/szse/chart/shapes/IPath"),p=t("cn/szse/chart/elements/impl/HorizonSeries"),d=c.scale.category10();return e}),t("cn/szse/chart/factory/HBar",function(t){function e(t,e){var r=a(t,e);return n(this,r,e)}function n(t,e,n){return function(){return r(t,e,n)}}function r(t,e,n){var r=n.width,a=n.height,s=e.extent(),o=c(s),l=o([0,r]),h=l.ticks(),p=h.values[0].tick,d=u(e.category()),m=d([0,a],.1),v=m.rangeBand(),y=u(e.series()),g=y([0,v],.05),x=i(l,g,m,p,n,t),b=x({store:e,x:l,y:m,opts:n}),z=e.series().map(function(e){try{return{series:e,color:n.series.style({series:e}).fill}}catch(r){return{series:e,color:t.colors(e)}}});return t.legend(z),function(e){return e.call(f,b,t)}}function i(t,e,n,r,i,a){var s=l().left(function(e){return t(r)}).top(function(t){return i.height-(e.rangeBand()-2)-(n(t.category)+e(t.series)+1)}).width(function(e){return t(e.value)}).height(function(t){return e.rangeBand()-2}).fill(function(t,e){try{return i.series.style(t,e).fill}catch(n){return a.colors(t.series)}}).animation(function(){try{return i.animation}catch(t){return!1}});return s}function a(t,e){var n=s(t,e);return{extent:function(){return n.extent},category:function(){return n.category},series:function(){return n.series},data:function(){return t}}}function s(t,e){var n,r,i=0,a=0,s=[],c=[],u={series:{},category:{}};return t.forEach(function(t){(+t.value>a||void 0===a)&&(a=+t.value),(+t.value<i||void 0===i)&&(i=+t.value),u.series.hasOwnProperty(t.series)===!1&&(u.series[t.series]=!0,s.push(t.series)),u.category.hasOwnProperty(t.category)===!1&&(u.category[t.category]=!0,c.push(t.category))}),r=[i||0,a||0],(n=e.xAxis[0].domain)&&n instanceof Array&&2===n.length&&(n=r.concat(n),r=o.extent(n,function(t){return t})),{extent:r,series:s,category:c}}var o=(t("d3"),t("cn/szse/chart/utils/Utils")),c=t("cn/szse/chart/utils/LinearScale"),u=t("cn/szse/chart/utils/OrdinalScale"),l=t("cn/szse/chart/shapes/IRect"),f=t("cn/szse/chart/elements/impl/Bar");return e}),t("cn/szse/chart/factory/GradMap",function(t){function e(t,e){var r=a(this,t,e);return n(this,r,e)}function n(t,e,n){return function(){return r(e,n.width,n.height,n,t)}}function r(t,e,n,r,a){return function(e){var n=i({store:t,opts:r},a);try{cn.szse.chart.mapdata}catch(o){return}void 0===a.state.fetch?(e.call(d,n,a).call(m,n,a),a.on("map-fetch",function(t,n,o,c,u){var l=s(a,t,n,o,c,u),f=i({store:l,opts:r},a);e.call(m,f,a)}),a.on("map-root",function(t){e.call(m,t,a)}),a.state.fetch=!0):e.call(m,n,a).call(d,n,a)}}function i(t,e){var n=t.opts.series.item,r=p().fill(function(t){try{return n.style().fill}catch(r){return e.colors("#B3CDE3")}}).label(function(){try{return n.label}catch(t){return!1}}).tooltipsText(function(t,e){var r=n.tooltips;if(r){var i=r.text;return void 0===i?'<h4 class="tips-title">'+t.category+(t.number?", "+t.number:"")+"</h4>"+(t.series?"<span>"+t.series+"</span><br />":"")+(t.value?'值: <span class="s-chart-price">'+t.value+"</span><br />":""):i(t)}}).animation(function(){try{return t.opts.animation}catch(e){return!1}});return r(t)}function a(t,e,n){var r;try{r=cn.szse.chart.mapdata}catch(i){r={},console.log("地图数据未引入...")}e=e.sort(function(t,e){return e.value-t.value});var a=t.getMap(e),s=l(e,a.category),h=f(s);t.state.provinceDataMax=h._max,t.state.provinceDataMin=h._min;var p=o(n),d=u(p),m=t.getCentroid(r.cities,p,d);return{extent:function(){return a.extent},series:function(){return a.series},getPath:function(t){return u(t)},getProjection:function(){return p},getChildProjection:function(){return c},mapdata:function(){return r},getFillMap:function(){return h},getCityMap:function(){return m},items:function(){return["items-province"]},data:function(){return e}}}function s(t,e,n,r,i,a){var s;try{s=cn.szse.chart.mapdata}catch(o){s={},console.log("地图数据未引入...")}e=e.filter(function(t,e){return"440300"===n?t.category==n:t.category.substr(0,2)==n.substr(0,2)});var c=t.getCentroid(r,i,a),u=t.getMap(e),l=f(e,!0);return l._max=t.state.provinceDataMax,l._min=t.state.provinceDataMin,{extent:function(){return u.extent},series:function(){return u.series},mapdata:function(){return s},getFillMap:function(){return l},getCityMap:function(){return c},items:function(){return["items-city"]},data:function(){return e}}}function o(t){var e=h.geo.mercator().center([102,40]).scale(t.height).translate([t.width/2,t.height/2]);return e}function c(t,e){var n=h.geo.mercator().center(e.cp).scale(1.5*e.size).translate([t.width/2,t.height/2]);return n}function u(t){return h.geo.path().projection(t)}function l(t,e){var n=[];return e.forEach(function(e,r){var i={category:e.substr(0,2),value:0};if("440300"===e)var a={category:e,value:0};t.forEach(function(t,r){t.category.substr(0,2)===i.category&&(i.series=t.series,i.value+=t.value),"440300"===e&&"440300"===t.category&&(a.series=t.series,a.value=t.value,n.push(a))}),n.push(i)}),n}function f(t,e){var n,r,i,a,s={};return t.forEach(function(t,o){var c;if(c=e===!0||"440300"===t.category?t.category:t.category.substr(0,2),s[c]={category:c,series:t.series,value:t.value},void 0!==t.value){var u=+t.value;(u>r||void 0===r)&&(r=u,a=c),(n>u||void 0===n)&&(n=u,i=c)}}),s.min=s._min=n,s.minCategory=i,s.max=s._max=r,s.maxCategory=a,s}var h=t("d3"),p=(t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/elements/IMap")),d=t("cn/szse/chart/elements/impl/Map"),m=t("cn/szse/chart/shapes/impl/MapGradient");return e}),t("cn/szse/chart/factory/Gauge",function(t){function e(t,e){var r=a(t,e);return n(this,r,e)}function n(t,e,n){return function(){return r(e,n.width,n.height,n,t)}}function r(t,e,n,r,a){var s=t.scale();return function(e){var n={store:t,x:s,opts:r},o=i(n);n.store.data().length&&e.call(d,o,a)}}function i(t){var e=t.opts.series.item,n=p().innerRadius(function(){try{return e.innerRadius||97}catch(t){return 100}}).outerRadius(function(){try{return e.outerRadius||100}catch(t){return 100}}).tickSubdivide(function(){try{return t.opts.xAxis[0].tickSubdivide||4}catch(e){return 4}});return n(t)}function a(t,e){var n=e.series.item,r=s(e.xAxis[0].domain),i=u(n.range),a=f.scale.linear().domain(r).range(i),l=o(e.xAxis[0].domain),h=c(a,l);return{domainArr:function(){return l},scale:function(){return a},domainData:function(){return h},data:function(){return t}}}function s(t){var e,n=[0,100];try{return e=t.length,t instanceof Array&&2==e&&2===l(t)?t||n:t instanceof Array&&e>=2&&1===l(t)?[t[0][0],t[e-1][1]]:t instanceof Array&&1==e&&1===l(t)?t[0]:n}catch(r){return n}}function o(t){var e=[[0,100]];try{return t instanceof Array&&2==t.length&&2===l(t)?[t]||e:1===l(t)?t||e:e}catch(n){return e}}function c(t,e){var n=h.map(e,function(e,n){return{startAngle:t(e[0]),endAngle:t(e[1]),from:e[0],to:e[1],index:n+1}});return n}function u(t){var e=[-3*Math.PI/4,3*Math.PI/4];try{return t instanceof Array&&2==domain.length?t||e:e}catch(n){return e}}function l(t){for(var e=0,n=t.length;n>e;e++)return t[e]instanceof Array?1:"number"==typeof t[e]?2:!1}var f=t("d3"),h=t("cn/szse/chart/utils/Utils"),p=t("cn/szse/chart/elements/IGauge"),d=t("cn/szse/chart/elements/impl/Gauge");f.scale.category10();return e}),t("cn/szse/chart/factory/Force",function(t){function e(t,e){var r=a(t,e);return n(this,r,e)}function n(t,e,n){return function(){return r(e,n.width,n.height,n,t)}}function r(t,e,n,r,a){var s=t.series.map(function(t){try{return{series:t.series,color:opts.series.style(t).fill||"#000"}}catch(e){return{series:t.series,color:a.colors(t.series)}}});return a.legend(s),function(e){var n=i(t,a,r);e.call(c,n,a,r)}}function i(t,e,n){var r=n.series.item,i=(new o).r(function(t,e){return r.r?r.r:20}).line(function(){return r.line?r.line:50}).stroke(function(t,r){var i=t.value||.7,a=n.series.style?n.series.style(t,r).stroke:e.colors(t.rela);return{width:i,color:a}}).fill(function(t,r){var i=t.value||.7,a=n.series.style?n.series.style(t,r).stroke:e.colors(t.rela);return{width:i,color:a}}).label(function(){try{var t=n.series.item.label;if(t){var e=t.location;t.location||(e="OUT");var r=t.text;return r||(r=function(t){return t.name}),{location:e,text:r}}return!1}catch(i){return!1}}).charge(function(){return r.charge?r.charge:-1122});return i(t)}function a(t,e){var n=t.map(function(t){return{source:t.source,target:t.target,type:t.type,rela:t.rela}}),r={},i={};n.forEach(function(t){t.s="string"==typeof t.source?t.source:t.s,t.t="string"==typeof t.target?t.target:t.t,t.source=r[t.s]||(r[t.s]={name:t.source,value:t.value,rela:t.rela}),t.target=r[t.t]||(r[t.t]={name:t.target,value:t.value,rela:t.rela}),i[t.rela]||(i[t.rela]={series:t.rela})});var a=s.values(r);return{links:n,nodes:a,series:s.values(i)}}var s=t("d3"),o=(t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/elements/IForce")),c=t("cn/szse/chart/elements/impl/Force");return e}),t("cn/szse/chart/factory/DuetBar",function(t){function e(t,e){var r=h(t.y||t,"y"),i=h(t.y1||[],"y1"),a=f(r[0]||[],e),s=f(r[1]||[],e),o=f(i[0]||[],e),c=f(i[1]||[],e);return n(this,a,s,o,c,e)}function n(t,e,n,i,a,s){return function(){return r(t,e,n,i,a,s)}}function r(t,e,n,r,f,h){h.top=h.top+10,h.height=h.height-10;var p,y,x,b,z=e.category(),k={category:z,options:null,maps:null,extent:null},A=d.merge({name:"nw",data:e.data(),series:e.series()},k),w=d.merge({name:"sw",data:n.data(),series:n.series()},k),M=d.merge({name:"ne",data:r.data(),series:r.series()},k),E=d.merge({name:"se",data:f.data(),series:f.series()},k);x=M.data.length,b=E.data.length,A.options=d.merge({},h),x||b?(A.options.width=h.width/2-1,A.options.height=h.height/2,w.options=d.merge({},A.options),w.options.top=h.top+A.options.height,M.options=d.merge({},A.options),M.options.left=A.options.left+A.options.width+1,E.options=d.merge({},A.options),E.options.left=A.options.left+A.options.width+1,E.options.top=h.top+A.options.height):(A.options.height=h.height/2,w.options=d.merge({},A.options),w.options.top=h.top+A.options.height),A.maps=a(A.data),w.maps=a(w.data),M.maps=a(M.data),E.maps=a(E.data),s(z,A.series,A.maps),s(z,w.series,w.maps),s(z,M.series,M.maps),s(z,E.series,E.maps),A.extent=i(A.data,A.maps),w.extent=i(w.data,w.maps),M.extent=i(M.data,M.maps),E.extent=i(E.data,E.maps),p=A.extent.concat(w.extent).concat(M.extent).concat(E.extent),y=Math.max.apply(p,p);var T=m([0,y]),S=T([0,A.options.width]),L=S.ticks(),I=L.values[0].tick,R=L.values[L.size-1].tick,U=v(z),N=v(z),B=U([0,A.options.height],.25),O=N([0,A.options.height],.25),P=B.rangeBand(),_=v(["stack"]),C=_([0,P],.05),D=o(S,C,B,R,A.options,t,A.name),F=D({store:e,x:S,y:B,a:C,opts:A.options}),H=c(S,C,B,R,w.options,t,w.name),G=H({store:n,x:S,y:O,a:C,opts:w.options});if(x||b)var X=u(S,C,B,I,M.options,t,M.name),q=X({store:r,x:S,y:B,a:C,start:I,opts:M.options}),j=l(S,C,B,I,E.options,t,E.name),Y=j({store:f,x:S,y:O,a:C,start:I,opts:E.options});var V=h.property.map(function(e){try{return{series:e,color:h.series.style({series:e}).fill}}catch(n){return{series:e,color:t.colors(e)}}});return t.legend(V),function(e){e.call(g,F,t).call(g,G,t),(x||b)&&e.call(g,q,t).call(g,Y,t)}}function i(t,e){return d.extent(t,function(t){return void 0===t.stack&&(t.stack=e[t.category][t.series].stack+e[t.category][t.series].value),+t.value+t.stack})}function a(t){for(var e={},n=0,r=t.length;r>n;n++){var i=t[n];void 0===e[i.category]&&(e[i.category]={}),e[i.category][i.series]=i}return e}function s(t,e,n){var r;t.forEach(function(t){e.forEach(function(e,i){i?n[t]&&n[t][e]&&(n[t][e].stack=r?+r.value+r.stack:0):n[t]&&n[t][e]&&(n[t][e].stack=0),r=n[t][e]})})}function o(t,e,n,r,i,a,s){var o=y().left(function(e){return t(r)-t(+e.value+e.stack)}).top(function(t){return i.height-(e.rangeBand()+2+n(t.category))}).width(function(e){return t(e.value)}).height(function(t){return e.rangeBand()-2}).fill(function(t,e){try{return i.series.style(t,e).fill}catch(n){return a.colors(t.series)}}).animation(function(){try{return i.animation}catch(t){return!1}}).klass(function(){return s||""}).xtype(function(){return"top"}).ytype(function(){return"left"}).xtop(function(){return-15}).xwidth(function(){return i.width+1}).xreverse(function(){return!0}).yreverse(function(){return!1});return o}function c(t,e,n,r,i,a,s){var o=y().left(function(e){return t(r)-t(+e.value+e.stack)}).top(function(t){return n(t.category)+e.rangeBand()/12-1}).width(function(e){return t(+e.value)}).height(function(t){return e.rangeBand()-2}).fill(function(t,e){try{return i.series.style(t,e).fill}catch(n){return a.colors(t.series)}}).animation(function(){try{return i.animation}catch(t){return!1}}).klass(function(){return s||""}).xtype(function(){return"bottom"}).ytype(function(){return"left"}).xtop(function(){return i.height}).xwidth(function(){return i.width+1}).xreverse(function(){return!0}).yreverse(function(){return!0});return o}function u(t,e,n,r,i,a,s){var o=y().left(function(e){return t(r+e.stack)}).top(function(t){return i.height-(e.rangeBand()+2+n(t.category))}).width(function(e){return t(+e.value)}).height(function(t){return e.rangeBand()-2}).fill(function(t,e){try{return i.series.style(t,e).fill}catch(n){return a.colors(t.series)}}).animation(function(){try{return i.animation}catch(t){return!1}}).klass(function(){return s||""}).xtype(function(){return"top"}).ytype(function(){return"right"}).xtop(function(){return-15}).xwidth(function(){return i.width}).xreverse(function(){return!1}).yreverse(function(){return!1});return o}function l(t,e,n,r,i,a,s){var o=y().left(function(e){return t(r+e.stack)}).top(function(t){return n(t.category)+e.rangeBand()/12-1}).width(function(e){return t(+e.value)}).height(function(t){return e.rangeBand()-2}).fill(function(t,e){try{return i.series.style(t,e).fill}catch(n){return a.colors(t.series)}}).animation(function(){try{return i.animation}catch(t){return!1}}).klass(function(){return s||""}).xtype(function(){return"bottom"}).ytype(function(){return"right"}).xtop(function(){return i.height}).xwidth(function(){return i.width}).xreverse(function(){return!1}).yreverse(function(){return!1});return o}function f(t,e,n){var r=p(t,e);return{extent:function(){return r.extent},category:function(){return r.category},series:function(){return r.series},data:function(){return t},label:function(){return r.label}}}function h(t,e){var n={},r=[];t.forEach(function(t){n.hasOwnProperty(t.property)===!1&&(n[t.property]=[]),t.attr=e&&e,n[t.property].push(t)});for(var i in n)r.push(n[i]);return r}function p(t,e){var n,r,i=0,a=0,s=[],o=[],c=[],u={series:{},category:{},label:{}};return e.property=e.property||[],t.forEach(function(t){(+t.value>a||void 0===a)&&(a=+t.value),(+t.value<i||void 0===i)&&(i=+t.value),u.series.hasOwnProperty(t.series)===!1&&(u.series[t.series]=!0,s.push(t.series)),u.category.hasOwnProperty(t.category)===!1&&(u.category[t.category]=!0,o.push(t.category)),-1==e.property.indexOf(t.property)&&e.property.push(t.property),u.label.hasOwnProperty(t.category+t.label)===!1&&(u.label[t.category+t.label]=!0,c.push(t))}),r=[i||0,a||0],(n=e.xAxis[0].domain)&&n instanceof Array&&2===n.length&&(n=r.concat(n),r=d.extent(n,function(t){return t})),{extent:r,series:s,category:o,label:c}}var d=(t("d3"),t("cn/szse/chart/utils/Utils")),m=t("cn/szse/chart/utils/LinearScale"),v=t("cn/szse/chart/utils/OrdinalScale"),y=t("cn/szse/chart/shapes/IRect"),g=t("cn/szse/chart/elements/impl/DuetBar");return e}),t("cn/szse/chart/factory/CirclePartition",function(t){function e(t,e){var r=s(t,e,this);return n(r,e,this)}function n(t,e,n){return function(){return r(t,e.width,e.height,e,n)}}function r(t,e,n,r,i){var s=a(r,i);return function(e){var n=s(t);e.call(l,n,i,r)}}function a(t,e){var n=t.series.item,r=(new u).animation(function(){try{return n.animation}catch(t){return!1}}).label(function(){try{var t=n.label;if(t){var e=t.location;t.location||(e="OUT");var r=t.text;return r||(r=function(t){return t.data.series+": "+(100*t.value).toFixed(2)+"%"}),{location:e,text:r}}return!1}catch(i){return!1}}).stroke(function(n){try{return t.series.style(n,i).stroke}catch(r){return e.colors(n.series)}}).fill(function(n,r){try{return t.series.style(n,r).fill}catch(i){return e.colors(n.series)}}).series(function(t){return t.data.series}).category(function(t){return t.data.category});return r}function s(t,e,n){var r=[],i=e.series.item,a=e.width,s=e.height,u=function(t,r){try{return e.series.style(t,r).fill}catch(i){return n.colors(t.series)}},l=.5*Math.min(a,s),f=i.innerRadius||0,h=i.outerRadius||.8*l,p=i.space||0,d=i.start||0,m=n.selkey?n.selkey:i.key,v=o(t,m);n.breadcrumb||(n.breadcrumb=[{active:!0,series:v.root}]);var y,g=v.data.length,x=1/(g+1),b=Math.PI,z=[];return r=n.getResult(v.data,function(t,e){return 0===e&&(y=c.sum(t,function(t){return+t.value})),y},function(){return 2*b*(d/360)},function(t,e,n,r,i,a){var s,o=[];r.forEach(function(e){e.data.series==t.category&&(s=e)}),o.push(s);var c;r.forEach(function(e){e.data.category==t.category&&(c=e)}),s&&(i=s.startAngle),c&&(i=c.endAngle);var l={innerRadius:0===e?f:h*x*(e+1)+p,outerRadius:h*x*(e+2),startAngle:i,endAngle:2*b*(+t.value/a)+i,fill:u(t,n),value:t.value/a,data:t,start:2*b*(d/360)};return z.push(t.series),l}),{series:z,data:r}}function o(t,e){var n=[],r=[];t.forEach(function(t){r.indexOf(t.series)<0&&r.push(t.series)});var i=function(e){function n(e){t.forEach(function(t){t.series===e&&(r.push(t),n(t.category))})}var r=[];return n(e),r.push({active:!0,series:u()}),r},a=function(e){var n;return t.forEach(function(t){t.series===e&&(n=t)}),n},s=function(e){var n=[];return t.forEach(function(t){t.category===e&&n.push(t)}),n},o=function(t,e,r){e.forEach(function(c){if(c.category===t){var u=i(c.series).reverse(),l=s(c.series),f=a(c.series);n[r]?n[r].push({category:c.category,series:c.series,value:c.value,parent:f,parents:u,childs:l}):n[r]=[{category:c.category,series:c.series,value:c.value,parent:f,parents:u,childs:l}],o(c.series,e,r+1)}})},c=function(e){t.forEach(function(t){if(t.category===e){var r=i(t.series).reverse(),o=s(t.series),c=a(t.series);n[0]?n[0].push({category:t.category,series:t.series,value:t.value,parent:c,parents:r,childs:o}):n[0]=[{category:t.category,series:t.series,value:t.value,parent:c,parents:r,childs:o}]}})},u=function(){var e;return t.forEach(function(t){r.indexOf(t.category)<0&&(e=t.category)}),e};if(e){if(c(e),0===n.length){var l;t.forEach(function(t){t.series===e&&(l=t.category)}),c(l)}}else e=u(),o(e,t,0);return{root:u(),data:n}}var c=(t("d3"),t("cn/szse/chart/utils/Utils")),u=t("cn/szse/chart/elements/ISlice"),l=t("cn/szse/chart/elements/impl/CirclePartition");return e}),t("cn/szse/chart/factory/Candlestick",function(t){function e(t,e){var r=s(t.y||t),i=o(t.y1||[],e);return n(this,r,i,e)}function n(t,e,n,i){return function(){return r(t,e,n,i.width,i.height,i)}}function r(t,e,n,r,s,o){var c=f(e.category()),u=c([0,r],.2),h=l(e.extent()),p=h([s,0]),m=l(n.extent()),v=m([s,0]),y=i(u,p,o),g=y({store:e,x:u,y:p,opts:o}),x=a(u,v,o,t),b=x({store:n,x:u,y:v,opts:o}),z=e.series().concat(n.series()).map(function(e){try{return{series:e,color:o.series.style({name:e}).stroke}}catch(n){return{series:e,color:t.colors(e)}}});return t.legend(z),function(n){return e.data().length?n.call(d,g,b,t):void 0}}function i(t,e){var n=p().left(function(e){return t(e.time)+1}).width(function(){return t.rangeBand()}).values(function(t){return{high:e(t.high),open:e(t.open),low:e(t.low),close:e(t.close)}});return n}function a(t,e,n,r){var i=.5*t.rangeBand(),a=h().x(function(e){return t(e.time)+i}).y(function(t){return e(t.value)}).interpolate(function(){return!0}).stroke(function(t,e){try{return n.series.style(t,e).stroke}catch(i){return r.colors(t.series)}});return a}function s(t){void 0===t.length&&(t=[]);var e=c(t);return{extent:function(){return e.extent},category:function(){return e.category},series:function(){return e.series},values:function(t){return e.cluster[t]},data:function(){return t}}}function o(t,e){var n=u(t,e);return{extent:function(){return n.extent},category:function(){return n.category},series:function(){return n.series},values:function(t){return n.cluster[t]},domain:function(){},data:function(){return t}}}function c(t){var e,n,r,i=[],a=[],s={series:{},category:{}},o={};return t.forEach(function(t){(+t.high>n||void 0===n)&&(n=+t.high),(+t.low<e||void 0===e)&&(e=+t.low),s.series.hasOwnProperty(t.series)===!1&&(s.series[t.series]=!0,i.push(t.series)),s.category.hasOwnProperty(t.time)===!1&&(s.category[t.time]=!0,a.push(t.time)),o[t.time]=t}),r=Math.abs(.01*n),{extent:[e,n+r],series:i,category:a,cluster:o}}function u(t,e){var n,r,i=[],a=[],s={series:{},category:{}},o={},c=!1;try{c=e.yAxis[1].share||!1}catch(u){}return t.forEach(function(t,e){(+t.value>r||void 0===r)&&(r=+t.value),(+t.value<n||void 0===n)&&(n=+t.value),s.series.hasOwnProperty(t.series)===!1&&(s.series[t.series]=!0,i.push(t.series)),s.category.hasOwnProperty(t.time)===!1&&(s.category[t.time]=!0,a.push(t.time)),o.hasOwnProperty(t.time)===!1&&(o[t.time]=[]),o[t.time].push(t)}),c&&(n=Math.abs(n),r=Math.abs(r),r>n?n=-r:(r=n,n=-n)),{extent:[n,r],series:i,category:a,cluster:o}}var l=(t("d3"),t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/utils/LinearScale")),f=t("cn/szse/chart/utils/TimeScale"),h=t("cn/szse/chart/shapes/IPath"),p=t("cn/szse/chart/shapes/ICandlestick"),d=t("cn/szse/chart/elements/impl/Candlestick");return e}),t("cn/szse/chart/factory/Bubble",function(t){function e(t,e){var r=a(t,e);return n(this,r,e)}function n(t,e,n){return function(){return r(e,n.width,n.height,n,t)}}function r(t,e,n,r,a){var c=p(t.xExtent()),u=c([0,e]),l=s(u,r),h=o(t,u,r),d=t.yExtent(),v=l.lExtent();d[0]>v[0]&&(d[0]=v[0]),d[1]<v[1]&&(d[1]=v[1]);var y=p(d),g=y([n,0]),x=f.scale.linear().domain(t.rExtent()).rangeRound([5,300]),b=f.scale.linear().domain(t.oExtent()).range([.2,.8]),z=t.series().map(function(t){try{return{series:t,color:r.series.item.style({series:t}).fill}}catch(e){return{series:t,color:a.colors(t)}}});return a.legend(z),function(e){var n=i({store:t,x:u,y:g,r:x,o:b,opts:r}),s=i({store:l,x:u,y:g,opts:r}),o=i({store:h,x:u,y:g,opts:r});e.call(m,n,s,o,a)}}function i(t){var e=d().x(function(e){return t.x(e.x)}).y(function(e){return t.y(e.y)}).r(function(e){return t.r(e.r)}).label(function(){try{return t.opts.series.item.label}catch(e){return!1}});return e(t)}function a(t,e){var n=c(t),r={};return n.series.forEach(function(t,e){r[t]=e}),(void 0!==e.series.item.max||void 0!==e.series.item.min)&&u(t),{xExtent:function(){return n.xExtent},yExtent:function(){return n.yExtent},rExtent:function(){return n.rExtent},oExtent:function(){return n.oExtent},series:function(){return n.series},category:function(){return n.category},getIndex:function(t){return r[t]},data:function(){return t}}}function s(t,e){var n=[],r=[];if(void 0!==e.series.curves){var i=e.series.curves,a=t.ticks().values;n=l(i,a),r=f.extent(n,function(t){return t.y})}return{lExtent:function(){return r},data:function(){return n}}}function o(t,e,n){var r=[];if(n.series.average===!0){var i=e.ticks().values,a=i.length,s=h.cluster(t.data(),function(t){return t.series});s.forEach(function(t){var e=f.mean(t.values,function(t){return t.y}),n=[{series:t.name||t.series,x:i[0].tick,y:e},{series:t.name||t.series,x:i[a-1].tick,y:e}];r=r.concat(n)})}return{data:function(){return r}}}function c(t){var e,n,r,i,a,s,o,c,u=[],l=[],f={series:{},category:{}};return t.forEach(function(t){(+t.x>n||void 0===n)&&(n=+t.x),(+t.x<e||void 0===e)&&(e=+t.x),(+t.y>i||void 0===i)&&(i=+t.y),(+t.y<r||void 0===r)&&(r=+t.y),(+t.r>s||void 0===s)&&(s=+t.r),(+t.r<a||void 0===a)&&(a=+t.r),(+t.opacity>c||void 0===c)&&(c=+t.opacity),(+t.opacity<o||void 0===o)&&(o=+t.opacity),f.series.hasOwnProperty(t.series)===!1&&(f.series[t.series]=!0,u.push(t.series)),f.category.hasOwnProperty(t.category)===!1&&(f.category[t.category]=!0,l.push(t.category))}),{xExtent:[e,n],yExtent:[r,i],rExtent:[a,s],oExtent:[o,c],series:u,category:l}}function u(t){var e,n;return n=f.nest().key(function(t){return t.series}).map(t),e=h.map(n,function(t,e){var n,r,i,a;return t.forEach(function(t,e){var s=+t.y;!isNaN(parseFloat(s))&&isFinite(s)&&((void 0===n||n>=s)&&(n=s,i=e),(void 0===r||s>=r)&&(r=s,a=e))}),t[i].min=!0,t[a].max=!0,{series:e,min:i,max:a}})}function l(t,e){var n=[];for(var r in t)if(t.hasOwnProperty(r))for(var i=0,a=e.length;a>i;i++){var s={};s.x=e[i].tick,n.push({series:r,x:s.x,y:"function"==typeof t[r]?t[r](s):null})}return n}var f=t("d3"),h=t("cn/szse/chart/utils/Utils"),p=t("cn/szse/chart/utils/LinearScale"),d=(t("cn/szse/chart/utils/OrdinalScale"),t("cn/szse/chart/elements/IScatter")),m=t("cn/szse/chart/elements/impl/Scatter");return e}),t("cn/szse/chart/factory/Brush",function(t){function e(t,e){this.BRUSH_DATA&&0!==this.BRUSH_DATA.length||(this.BRUSH_DATA=t);var r=a(this.BRUSH_DATA);return n(this,r,e)}function n(t,e,n){return function(){return r(t,e,n.width,n.height,n)}}function r(t,e,n,r,a){var s=u(e.category()),o=s([0,n]),l=e.extent(),h=c(l),p=h([r,0]),d=i(o,p,a),m=d({store:e,x:o,y:p,opts:a});return function(n){return e.data().length?n.call(f,m,t):void 0}}function i(t,e){var n=.5*t.rangeBand(),r=l().x(function(e){return t(e.time)+n}).y(function(t){return e(t.value)}).interpolate(function(){return!0}).stroke(function(t){return"#557E9A"});return r}function a(t){var e=s(t);return{extent:function(){return e.extent},category:function(){return e.category},series:function(){return e.series},range:function(t,n){return[e.range[t]||0,e.range[n]||0]},data:function(){return t}}}function s(t){var e,n,r=[],i=[],a={series:{},category:{}};return t.forEach(function(t,s){(+t.value>n||void 0===n)&&(n=+t.value),(+t.value<e||void 0===e)&&(e=+t.value),a.series.hasOwnProperty(t.series)===!1&&(a.series[t.series]=!0,r.push(t.series)),a.category.hasOwnProperty(t.time)===!1&&(a.category[t.time]=s,i.push(t.time))}),{extent:[e,n],series:r,category:i,range:a.category}}var o=t("d3"),c=(t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/utils/LinearScale")),u=t("cn/szse/chart/utils/TimeScale"),l=t("cn/szse/chart/shapes/IPath"),f=t("cn/szse/chart/elements/impl/Brush");o.scale.category10();return e}),t("cn/szse/chart/factory/Bar",function(t){function e(t,e){var r=a(t,e);return n(this,r,e);
}function n(t,e,n){return function(){return r(t,e,n)}}function r(t,e,n){var r=n.width,a=n.height,s=u(e.category()),o=s([0,r],.1),l=o.rangeBand(),h=u(e.series()),p=h([0,l],.05),d=e.extent(),m=c(d),v=m([a,0]),y=v.ticks(),g=y.values[0].tick>0?y.values[0].tick:0,x=i(o,p,v,g,n,t),b=x({store:e,x:o,y:v,opts:n}),z=e.series().map(function(e){t.state.map[e]=t.state.map[e]||!1;try{return{series:e,color:n.series.style({series:e}).fill,hidden:t.state.map[e]}}catch(r){return{series:e,color:t.colors(e),hidden:t.state.map[e]}}});return t.legend(z),function(e){return e.call(f,b,t)}}function i(t,e,n,r,i,a){var s=l().left(function(n){return t(n.category)+e(n.series)+1}).top(function(t){return n(t.value>0?t.value:r)}).width(function(t){return e.rangeBand()-2}).height(function(t){return t.value>0?n(r)-n(t.value):Math.abs(n(r)-n(t.value))}).fill(function(t,e){try{return i.series.style(t,e).fill||a.colors(t.series)}catch(n){return a.colors(t.series)}}).animation(function(){try{return i.animation}catch(t){return!1}}).transform(function(r){var i=t.rangeBand()>30?t(r.category)+e(r.series)+.5*e.rangeBand():-1e4,a=n(+r.value)-8;return[i,a]}).label(function(){try{return i.series.item.label}catch(t){return!1}});return s}function a(t,e){var n=s(t,e);return{extent:function(){return n.extent},category:function(){return n.category},series:function(){return n.series},data:function(){return t}}}function s(t,e){var n,r,i,a,s=[],c=[],u={series:{},category:{}};return t.forEach(function(t){(+t.value>r||void 0===r)&&(r=+t.value),(+t.value<n||void 0===n)&&(n=+t.value),u.series.hasOwnProperty(t.series)===!1&&(u.series[t.series]=!0,s.push(t.series)),u.category.hasOwnProperty(t.category)===!1&&(u.category[t.category]=!0,c.push(t.category))}),a=[n||0,r||0],(i=e.yAxis[0].domain)&&i instanceof Array&&2===i.length&&(i=a.concat(i),a=o.extent(i,function(t){return t})),{extent:a,series:s,category:c}}var o=(t("d3"),t("cn/szse/chart/utils/Utils")),c=t("cn/szse/chart/utils/LinearScale"),u=t("cn/szse/chart/utils/OrdinalScale"),l=t("cn/szse/chart/shapes/IRect"),f=t("cn/szse/chart/elements/impl/Bar");return e}),t("cn/szse/chart/factory/AreaRange",function(t){function e(t,e){var r=a(t.y||t,this,e);return n(this,r,e)}function n(t,e,n){var i=n.width,a=n.height;return function(){return r(e,i,a,n,t)}}function r(t,e,n,r,a){var s=a.colors,o=t.category(),l=t.extent(),h=u(o),p=c(l),d=r.rangeBand===!1?0:.2,m=h([0,e],d),v=p([n,0]),y=i(m,v,r,a),g={store:t,x:m,y:v,colors:s,opts:r},x=y(g),b=t.series().map(function(t){a.state.map[t]=a.state.map[t]||!1;try{return{series:t,color:r.series.style({name:t}).stroke||a.colors(t),hidden:a.state.map[t]}}catch(e){return{series:t,color:a.colors(t),hidden:a.state.map[t]}}});return a.legend(b),function(t){return t.call(f,x,a)}}function i(t,e,n,r){var i=.5*t.rangeBand(),a=l().x(function(e){return t(e.time)+i}).y(function(t){return e(t.value)}).interpolate(function(){return!0}).defined(function(t){return!t.value&&0!==t.value||isNaN(t.value)?"NULL":isNaN(t.value)?void 0:t.value}).stroke(function(t,e){try{var i=n.series.style(t,e).stroke;return i||r.colors(t.series)}catch(a){return r.colors(t.series)}});return a}function a(t,e,n){var r=s(t||[],e,n.yAxis[0]),i=o.map(r.buffer,function(t,e){return{time:e,values:[t.values[0],t.values[1]]}});return{extent:function(){return r.extent},category:function(){return n.category||r.category},series:function(){return r.series},values:function(t){return r.buffer[t]?r.buffer[t].values:[]},getIndex:function(){return 1},buffer:function(){return i},data:function(){return t}}}function s(t,e,n){var r,i,a=[],s=[],o={series:{},category:{}};return void 0===e._buffer&&(e._buffer={}),t.forEach(function(t){(+t.value>i||void 0===i)&&(i=+t.value),(+t.value<r||void 0===r)&&(r=+t.value),o.series.hasOwnProperty(t.series)===!1&&(o.series[t.series]=!0,a.push(t.series)),o.category.hasOwnProperty(t.time)===!1&&(o.category[t.time]=!0,s.push(t.time)),e._buffer.hasOwnProperty(t.time)===!1&&(e._buffer[t.time]={values:[]}),e._buffer[t.time].values.push(t)}),{extent:n.domain||[r,i],series:a,category:s,buffer:e._buffer}}var o=(t("d3"),t("cn/szse/chart/utils/Utils")),c=t("cn/szse/chart/utils/LinearScale"),u=t("cn/szse/chart/utils/TimeScale"),l=t("cn/szse/chart/shapes/IPath"),f=(t("cn/szse/chart/elements/ILegend"),t("cn/szse/chart/elements/impl/AreaRange"));return e}),t("cn/szse/chart/factory/Area",function(t){function e(t,e){var r=a(t,e,this);return n(this,r,e)}function n(t,e,n){return function(){return r(e,n.width,n.height,n,t)}}function r(t,e,n,r,a){var s,o=l(t.category()),c=o([0,e]),f=u(t.extent()),p=f([n,0]),d=t.series();try{s=a.state.show||r.series.show||d}catch(m){s=d}var v=d.map(function(t){try{return{series:t,color:r.series.style({name:t}).stroke,hidden:s.indexOf(t)>=0?!1:!0}}catch(e){return{series:t,color:a.colors(t),hidden:s.indexOf(t)>=0?!1:!0}}});return a.legend(v),function(e){var n={store:t,x:c,y:p,opts:r},s=i(n);e.call(h,s,a)}}function i(t){var e=f().x(function(e){return t.x(e.category)}).y(function(e){return t.y(e.value)}).r(function(e){try{var n=t.opts.series.item.r;return"number"==typeof n?20*n:64}catch(r){return 64}}).label(function(){try{return t.opts.series.item.label}catch(e){return!1}});return e(t)}function a(t,e,n){var r,i,a,u=(s(t),o(t)),l={},f={};return u.series.forEach(function(t,e){var n=1-(u.series.length-1-e)/10;n=.7>n?.7:n,f[t]=n,l[t]=e}),i=c.extent(t,function(t){return t.depth=f[t.series],t.value}),(r=e.yAxis[0].domain)&&r instanceof Array&&2===r.length&&(r=i.concat(r),i=c.extent(r,function(t){return t})),a=t.map(function(t){var e=n.state.show&&n.state.show.indexOf(t.series)<0;return{category:t.category,series:t.series,value:t.value,hidden:e?!1:!0}}),{extent:function(){return i},category:function(){return u.category},series:function(){return u.series},getIndex:function(t){return l[t]},data:function(){return a}}}function s(t){var e={};return t.forEach(function(t){void 0===e[t.category]&&(e[t.category]={}),e[t.category][t.series]=t}),e}function o(t){var e=c.unique(),n=c.unique();return t.forEach(function(t,r){e(t.series),n(t.category)}),{series:e.data(),category:n.data()}}var c=(t("d3"),t("cn/szse/chart/utils/Utils")),u=t("cn/szse/chart/utils/LinearScale"),l=t("cn/szse/chart/utils/OrdinalScale"),f=t("cn/szse/chart/elements/ILine"),h=t("cn/szse/chart/elements/impl/Line");return e}),t("cn/szse/chart/factory/Scatter",function(t){function e(t,e){var r=a(t,e);return n(this,r,e)}function n(t,e,n){return function(){return r(e,n.width,n.height,n,t)}}function r(t,e,n,r,a){var c=p(t.xExtent()),u=c([0,e]),l=s(u,r),f=o(t,u,r),h=t.yExtent(),d=l.lExtent();h[0]>d[0]&&(h[0]=d[0]),h[1]<d[1]&&(h[1]=d[1]);var v=p(h),y=v([n,0]),g=t.series().map(function(t){try{return{series:t,color:r.series.item.style({series:t}).fill}}catch(e){return{series:t,color:a.colors(t)}}});return a.legend(g),function(e){var n=i({store:t,x:u,y:y,opts:r}),s=i({store:l,x:u,y:y,opts:r}),o=i({store:f,x:u,y:y,opts:r});e.call(m,n,s,o,a)}}function i(t){var e=t.opts.series.item,n=d().x(function(e){return t.x(e.x)}).y(function(e){return t.y(e.y)}).r(function(t){try{var n=e.r;return"number"==typeof n?20*n:84}catch(r){return 84}}).opacity(function(){return.5}).label(function(){try{return e.label}catch(t){return!1}});return n(t)}function a(t,e){var n=c(t),r={};return n.series.forEach(function(t,e){r[t]=e}),(void 0!==e.series.item.max||void 0!==e.series.item.min)&&u(t),{xExtent:function(){return n.xExtent},yExtent:function(){return n.yExtent},series:function(){return n.series},getIndex:function(t){return r[t]},data:function(){return t}}}function s(t,e){var n=[],r=[];if(void 0!==e.series.curves){var i=e.series.curves,a=t.ticks().values;n=l(i,a),r=f.extent(n,function(t){return t.y})}return{lExtent:function(){return r},data:function(){return n}}}function o(t,e,n){var r=[];if(n.series.average===!0){var i=e.ticks().values,a=i.length,s=h.cluster(t.data(),function(t){return t.series});s.forEach(function(t){var e=f.mean(t.values,function(t){return t.y}),n=[{series:t.name||t.series,x:i[0].tick,y:e},{series:t.name||t.series,x:i[a-1].tick,y:e}];r=r.concat(n)})}return{data:function(){return r}}}function c(t){var e,n,r,i,a=[],s={series:{}};return t.forEach(function(t){(+t.x>n||void 0===n)&&(n=+t.x),(+t.x<e||void 0===e)&&(e=+t.x),(+t.y>i||void 0===i)&&(i=+t.y),(+t.y<r||void 0===r)&&(r=+t.y),s.series.hasOwnProperty(t.series)===!1&&(s.series[t.series]=!0,a.push(t.series))}),{xExtent:[e,n],yExtent:[r,i],series:a}}function u(t){var e,n;return n=f.nest().key(function(t){return t.series}).map(t),e=h.map(n,function(t,e){var n,r,i,a;return t.forEach(function(t,e){var s=+t.y;!isNaN(parseFloat(s))&&isFinite(s)&&((void 0===n||n>=s)&&(n=s,i=e),(void 0===r||s>=r)&&(r=s,a=e))}),t[i].min=!0,t[a].max=!0,{series:e,min:i,max:a}})}function l(t,e){var n=[];for(var r in t)if(t.hasOwnProperty(r))for(var i=0,a=e.length;a>i;i++){var s={};s.x=e[i].tick,n.push({series:r,x:s.x,y:"function"==typeof t[r]?t[r](s):null})}return n}var f=t("d3"),h=t("cn/szse/chart/utils/Utils"),p=t("cn/szse/chart/utils/LinearScale"),d=(t("cn/szse/chart/utils/OrdinalScale"),t("cn/szse/chart/elements/IScatter")),m=t("cn/szse/chart/elements/impl/Scatter");return e}),t("cn/szse/chart/factory/Mixed",function(t){function e(t,e){var r=s(t.y||t,e.yAxis[0]),i=s(t.y1||[],e.yAxis[1]||[]);return n(this,r,i,e)}function n(t,e,n,i){return function(){return r(t,e,n,i)}}function r(t,e,n,r){var s,o=r.width,f=r.height;s=l(e.category().length?e.category():n.category());var h,d=s([0,o],.1),m=d.rangeBand(),v=l(e.series()),y=v([0,m],.05),g=u(e.extent()),x=g([f,0]);h=u(r.series.shareYAxis?e.extent():n.extent());var b=h([f,0]),z=x.ticks(),k=z.values[0].tick,A=i(d,y,x,k,r,t),w=A({store:e,x:d,y:x,opts:r}),M=a(d,m,b,k,r),E=M({store:n,x:d,y:b,size:m,opts:r}),T=c(e,r,t),S=c(n,r,t,!0),L=T.concat(S);return t.legend(L),function(e){e.call(p,w,E,t)}}function i(t,e,n,r,i,a){var s=f().left(function(n){return t(n.category)+e(n.series)+1}).top(function(t){return n(t.value>0?t.value:r)}).width(function(t){return e.rangeBand()-2}).height(function(t){return t.value>0?n(r)-n(t.value):Math.abs(n(r)-n(t.value))}).fill(function(t,e){try{return i.series.style(t,e).fill}catch(n){return a.colors(t.series)}}).animation(function(){try{return i.animation}catch(t){return!1}});return s}function a(t,e,n,r,i){var a=i.series.item,s=h().x(function(n){return t(n.category)+e/2}).y(function(t){return n(t.value>0?t.value:r)}).r(function(t){try{var e=a.r;return"number"==typeof e?20*e:64}catch(n){return 64}}).label(function(){try{return a.label}catch(t){return!1}}).axis(function(){return!1});return s}function s(t,e){void 0===t.length&&(t=[]);var n=o(t,e);return{extent:function(){return n.extent},category:function(){return n.category},series:function(){return n.series},data:function(){return t}}}function o(t,e){var n,r,i,a=[],s=[],o=e.domain,c={series:{},category:{}};return t.forEach(function(t){(+t.value>r||void 0===r)&&(r=+t.value),(+t.value<n||void 0===n)&&(n=+t.value),c.series.hasOwnProperty(t.series)===!1&&(c.series[t.series]=!0,a.push(t.series)),c.category.hasOwnProperty(t.category)===!1&&(c.category[t.category]=!0,s.push(t.category))}),i=[n||0,r||0],o instanceof Array&&2===o.length&&(i[0]=o[0],i[1]=o[1]),o&&(o.min||0===o.min)&&o.max?(i[0]=o.min,i[1]=o.max):o&&(o.min||0===o.min)?i[0]=o.min:o&&o.max&&(i[1]=o.max),{extent:i,series:a,category:s}}function c(t,e,n,r){return t.series().map(function(t){try{return{series:t,color:(r?e.series.style({name:t}).stroke||n.colors(t):e.series.style({series:t}).fill)||n.colors(t)}}catch(i){return{series:t,color:n.colors(t)}}})}var u=(t("d3"),t("cn/szse/chart/utils/Utils"),t("cn/szse/chart/utils/LinearScale")),l=t("cn/szse/chart/utils/OrdinalScale"),f=t("cn/szse/chart/shapes/IRect"),h=t("cn/szse/chart/elements/ILine"),p=t("cn/szse/chart/elements/impl/Mixed");return e}),{"cn.szse.chart":"cn/szse/chart/Chart","cn.szse.chart.Bar":"cn/szse/chart/member/bar/Bar","cn.szse.chart.Line":"cn/szse/chart/member/line/Line","cn.szse.chart.Pie":"cn/szse/chart/member/pie/Pie","cn.szse.chart.Scatter":"cn/szse/chart/member/scatter/Scatter","cn.szse.chart.Candlestick":"cn/szse/chart/member/candlestick/Candlestick","cn.szse.chart.Radar":"cn/szse/chart/member/radar/Radar","cn.szse.chart.TimeSeries":"cn/szse/chart/member/timeseries/TimeSeries","cn.szse.chart.Map":"cn/szse/chart/member/map/Map","cn.szse.chart.Treemap":"cn/szse/chart/member/treemap/Treemap","cn.szse.chart.Gauge":"cn/szse/chart/member/gauge/Gauge","cn.szse.chart.Cloud":"cn/szse/chart/member/cloud/Cloud","cn.szse.chart.Mixed":"cn/szse/chart/member/mixed/Mixed","cn.szse.chart.TimeBrush":"cn/szse/chart/member/timebrush/TimeBrush","cn.szse.chart.Force":"cn/szse/chart/member/force/Force"}});
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t=t.cn||(t.cn={}),t=t.szse||(t.szse={}),t=t.chart||(t.chart={}),t.extends=e()}}(function(){return function e(t,a,n){function c(r,d){if(!a[r]){if(!t[r]){var i="function"==typeof require&&require;if(!d&&i)return i(r,!0);if(f)return f(r,!0);var o=new Error("Cannot find module '"+r+"'");throw o.code="MODULE_NOT_FOUND",o}var s=a[r]={exports:{}};t[r][0].call(s.exports,function(e){var a=t[r][1][e];return c(a?a:e)},s,s.exports,e,t,a,n)}return a[r].exports}for(var f="function"==typeof require&&require,r=0;r<n.length;r++)c(n[r]);return c}({1:[function(e,t,a){var n=e("./src/cn/szse/chart/core/utils"),c=e("./src/cn/szse/chart/core/matrix"),f=e("./src/cn/szse/chart/core/themes"),r=e("./src/cn/szse/chart/core/observer"),d=e("./src/cn/szse/chart/core/animate"),i=e("./src/cn/szse/chart/core/handler"),o=e("./src/cn/szse/chart/core/colors"),s=e("./src/cn/szse/chart/core/dataset"),u=e("./src/cn/szse/chart/core/mouse"),l=e("./src/cn/szse/chart/core/draggable"),b=e("./src/cn/szse/chart/elements/d3SvgDesc"),g=e("./src/cn/szse/chart/elements/d3SvgMask"),h=e("./src/cn/szse/chart/elements/d3SvgPaint"),E=e("./src/cn/szse/chart/elements/d3SvgHover"),T=e("./src/cn/szse/chart/elements/d3SvgSelection"),L=e("./src/cn/szse/chart/elements/d3SvgGridLine"),A=e("./src/cn/szse/chart/elements/d3SvgAxisTips"),v=e("./src/cn/szse/chart/elements/d3SvgMessage"),p=e("./src/cn/szse/chart/elements/d3SvgAxisNodes"),m=e("./src/cn/szse/chart/elements/d3SvgPointerEvents"),$=e("./src/cn/szse/chart/shapes/d3SvgLine"),_=e("./src/cn/szse/chart/shapes/d3SvgRect"),y=e("./src/cn/szse/chart/shapes/d3SvgPoint"),w=e("./src/cn/szse/chart/shapes/d3SvgMarker"),x=e("./src/cn/szse/chart/shapes/d3SvgCandlestick"),S=e("./src/cn/szse/chart/widget/d3WidgetMask"),M=e("./src/cn/szse/chart/widget/d3WidgetRect"),R=e("./src/cn/szse/chart/widget/d3WidgetHover"),O=e("./src/cn/szse/chart/widget/d3WidgetSelection"),V=e("./src/cn/szse/chart/widget/d3WidgetPaint"),U=e("./src/cn/szse/chart/widget/d3WidgetMarker"),D=e("./src/cn/szse/chart/widget/d3WidgetLine"),W=e("./src/cn/szse/chart/widget/d3WidgetMessage"),G=e("./src/cn/szse/chart/widget/d3WidgetAxisTips"),z=e("./src/cn/szse/chart/widget/d3WidgetGridLine"),C=e("./src/cn/szse/chart/widget/d3WidgetAxisNodes"),k=e("./src/cn/szse/chart/widget/d3WidgetCandlestick"),P=e("./src/cn/szse/chart/widget/d3WidgetPointerEvents"),H=e("./src/cn/szse/chart/members/volume/Volume"),I=e("./src/cn/szse/chart/members/brush/Brush"),N=e("./src/cn/szse/chart/members/timeseries/TimeSeries"),F=e("./src/cn/szse/chart/members/candlestick/Candlestick");t.exports={core:{utils:n,observer:r,animate:d,matrix:c,handler:i,colors:o,dataset:s,draggable:l,themes:f},elements:{desc:b,mask:g,paint:h,hover:E,tips:A,axis:p,selection:T,gridline:L,message:v,pointerEvents:m},shapes:{line:$,point:y,rect:_,marker:w,candlestick:x},widget:{mask:S,hover:R,paint:V,rect:M,marker:U,line:D,gridline:z,ticks:C,tips:G,message:W,selection:O,candlestick:k,pointerEvents:P},mouse:u,Brush:I,Volume:H,TimeSeries:N,Candlestick:F}},{"./src/cn/szse/chart/core/animate":2,"./src/cn/szse/chart/core/colors":3,"./src/cn/szse/chart/core/dataset":4,"./src/cn/szse/chart/core/draggable":5,"./src/cn/szse/chart/core/handler":6,"./src/cn/szse/chart/core/matrix":7,"./src/cn/szse/chart/core/mouse":8,"./src/cn/szse/chart/core/observer":9,"./src/cn/szse/chart/core/themes":11,"./src/cn/szse/chart/core/utils":12,"./src/cn/szse/chart/elements/d3SvgAxisNodes":13,"./src/cn/szse/chart/elements/d3SvgAxisTips":14,"./src/cn/szse/chart/elements/d3SvgDesc":16,"./src/cn/szse/chart/elements/d3SvgGridLine":17,"./src/cn/szse/chart/elements/d3SvgHover":18,"./src/cn/szse/chart/elements/d3SvgMask":20,"./src/cn/szse/chart/elements/d3SvgMessage":21,"./src/cn/szse/chart/elements/d3SvgPaint":22,"./src/cn/szse/chart/elements/d3SvgPointerEvents":23,"./src/cn/szse/chart/elements/d3SvgSelection":24,"./src/cn/szse/chart/members/brush/Brush":25,"./src/cn/szse/chart/members/candlestick/Candlestick":26,"./src/cn/szse/chart/members/timeseries/TimeSeries":27,"./src/cn/szse/chart/members/volume/Volume":28,"./src/cn/szse/chart/shapes/d3SvgCandlestick":29,"./src/cn/szse/chart/shapes/d3SvgLine":30,"./src/cn/szse/chart/shapes/d3SvgMarker":31,"./src/cn/szse/chart/shapes/d3SvgPoint":32,"./src/cn/szse/chart/shapes/d3SvgRect":33,"./src/cn/szse/chart/widget/d3WidgetAxisNodes":34,"./src/cn/szse/chart/widget/d3WidgetAxisTips":35,"./src/cn/szse/chart/widget/d3WidgetCandlestick":37,"./src/cn/szse/chart/widget/d3WidgetGridLine":38,"./src/cn/szse/chart/widget/d3WidgetHover":39,"./src/cn/szse/chart/widget/d3WidgetLine":40,"./src/cn/szse/chart/widget/d3WidgetMarker":41,"./src/cn/szse/chart/widget/d3WidgetMask":43,"./src/cn/szse/chart/widget/d3WidgetMessage":44,"./src/cn/szse/chart/widget/d3WidgetPaint":45,"./src/cn/szse/chart/widget/d3WidgetPointerEvents":47,"./src/cn/szse/chart/widget/d3WidgetRect":48,"./src/cn/szse/chart/widget/d3WidgetSelection":49}],2:[function(e,t,a){var n=function(e){return e},c=function e(){var t,a=0,c=.01,f=!1,e=function e(){a+=c,a<=1&&f?(t(+n(a)),requestAnimationFrame(e)):(t(1),f=!1)},r=function(){f!==!0&&(f=!0,e())},d=function(){f=!1},i=function(e){a=e,r()},o=function(e){a=e,d()},s=function(){return{play:r,pause:d,gotoAndPlay:i,gotoAndStop:o}};return s.duration=function(e){var t=60*(e||500)/1e3;return c=1/t,s},s.watch=function(e){return t=e,s},s};t.exports=c},{}],3:[function(e,t,a){var n={d3:{10:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],20:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],"20b":["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],"20c":["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"]},YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}};t.exports=n},{}],4:[function(e,t,a){function n(e,t){var a=new r;a.width=e.width,a.height=e.height;var n,d,i;return n=e.scale.map(function(e,a){return null===e?null:e.extent?"function"==typeof e.extent?c[e.type](e.extent(c.extent(t,function(t){return"time"===e.type?new Date(t[e.index]).getTime():t[e.index]}),t)):c[e.type](e.extent):c[e.type](c.extent(t,function(t){return"time"===e.type?new Date(t[e.index]).getTime():t[e.index]}))}),d=n.map(function(t,a){return t?t.ticks().map(function(t){return e.scale[a].data.label(t)}):null}),a.$Layout=f(a.width,a.height,d,{labels:[],orient:"bottom"}),e.left&&(a.$Layout.LEFT_VALUE=e.left),e.right&&(a.$Layout.RIGHT_VALUE=e.right),a.$Extents=n.map(function(e){return e?c.extent(e.ticks()):null}),i=[[a.$Layout.LEFT_VALUE,a.width-a.$Layout.RIGHT_VALUE],[a.height-a.$Layout.BOTTOM_VALUE,a.$Layout.TOP_VALUE],[a.$Layout.LEFT_VALUE,a.width-a.$Layout.RIGHT_VALUE],[a.height-a.$Layout.BOTTOM_VALUE,a.$Layout.TOP_VALUE]],n.forEach(function(e,t){return e?e.range(i[t]):null}),a.$Scale={get:function(e){return void 0!==e?n[e]:n}},a.$Config=e.scale,a.$watch("$DATA_LOAD",function(){var t=a.$DATA_STORAGE;n=e.scale.map(function(e,n){return null===e?null:e.extent?"function"==typeof e.extent?c[e.type](e.extent(c.extent(t,function(t){return"time"===e.type?new Date(t[e.index]).getTime():t[e.index]}),t),a.DATA_GS):c[e.type](e.extent,a.DATA_GS):c[e.type](c.extent(t,function(t){return"time"===e.type?new Date(t[e.index]).getTime():t[e.index]}),a.DATA_GS)}),d=n.map(function(t,a){return t?t.ticks().map(function(t){return e.scale[a].data.label(t)}):null}),a.$Layout=f(a.width,a.height,d,{labels:[],orient:"bottom"}),e.left&&(a.$Layout.LEFT_VALUE=e.left),e.right&&(a.$Layout.RIGHT_VALUE=e.right),a.$Extents=n.map(function(e){return e?c.extent(e.ticks()):null}),i=[[a.$Layout.LEFT_VALUE,a.width-a.$Layout.RIGHT_VALUE],[a.height-a.$Layout.BOTTOM_VALUE,a.$Layout.TOP_VALUE],[a.$Layout.LEFT_VALUE,a.width-a.$Layout.RIGHT_VALUE],[a.height-a.$Layout.BOTTOM_VALUE,a.$Layout.TOP_VALUE]],n.forEach(function(e,t){return e?e.range(i[t]):null}),a.$Scale={get:function(e){return void 0!==e?n[e]:n}},a.$Config=e.scale}),a.$watch("resizable",function(){a.$Layout=f(a.width,a.height,d,{labels:[],orient:"bottom"}),e.left&&(a.$Layout.LEFT_VALUE=e.left),e.right&&(a.$Layout.RIGHT_VALUE=e.right),a.$Extents=n.map(function(e){return e?c.extent(e.ticks()):null}),i=[[a.$Layout.LEFT_VALUE,a.width-a.$Layout.RIGHT_VALUE],[a.height-a.$Layout.BOTTOM_VALUE,a.$Layout.TOP_VALUE],[a.$Layout.LEFT_VALUE,a.width-a.$Layout.RIGHT_VALUE],[a.height-a.$Layout.BOTTOM_VALUE,a.$Layout.TOP_VALUE]],n.forEach(function(e,t){return e?e.range(i[t]):null}),a.$Scale={get:function(e){return void 0!==e?n[e]:n}},a.$Config=e.scale}),a}var c=e("./../core/utils"),f=e("./../core/matrix"),r=e("./../core/observer");t.exports=n},{"./../core/matrix":7,"./../core/observer":9,"./../core/utils":12}],5:[function(e,t,a){var n=e("./handler"),c=e("./observer"),f=new c;n(document,"mousedown",function(e){e.target&&"rect"===e.target.tagName.toLocaleLowerCase()&&(f.uid=e.target.id,f["start"+f.uid]=[e.pageX,e.pageY],f.$EventIsSelection=!0)}),n(document,"mousemove",function(e){f.$EventIsSelection&&(f["drag"+f.uid]=[e.pageX,e.pageY])}),n(document,"mouseup",function(e){f["stop"+f.uid]=[e.pageX,e.pageY],f.$EventIsSelection=!1}),t.exports=f},{"./handler":6,"./observer":9}],6:[function(e,t,a){var n=e("./utils"),c=function(e){return function(t){t=t||window.event,e.call(this,t)}},f=function(e,t,a){e.length||(e=[e]),n.each(e,function(e){e.addEventListener?e.addEventListener(t,c(a),!1):e.attachEvent&&("input"===t&&(t="propertychange"),e.attachEvent("on"+t,c(a)))})};t.exports=f},{"./utils":12}],7:[function(e,t,a){function n(e,t){for(var a=e.length,n=!1,c=1;c<a;c++){var f=e[c-1],r=e[c];if(.5*(f+r)>=t){n=!0;break}}return n}function c(e,t,a){return Math.sqrt(e*e/2)-t>=a}function f(e,t,a){var n=!1;return g.each(e,function(e,f){if(c(e,t*f,a))return n=!0,!1}),n}function r(e,t,a){return 0===e.length?{deg:0,value:15}:n(e,t)===!1?{deg:0,value:30}:f(e,t,a)?{deg:-45,value:g.max(e)}:{deg:-45,value:g.max(e,function(e){return Math.sqrt(e*e/2)})}}function d(e,t){return e.map(function(e){return g.measure(e).width+(t||15)})}function i(e,t){return 25*(Math.floor(e/t)+1)}function o(e,t,a,n){var c=a[0],f=a[1],d=a[2],i=a[3],o=c[0]||0,s=c[c.length-1]||0,u=d[0]||0,l=d[d.length-1]||0,b=g.max(i)||15,h=g.max(f)||15,E=g.max(n),T=0,L=g.max([b+E,.5*o,.5*u]),A=0,v=g.max([h,.5*s,.5*l]),p=c.length?(e-L-v)/c.length:5,m=d.length?(e-L-v)/d.length:5,$=r(c,p,L),_=r(d,m,L),y=$.deg,w=$.value,x=_.deg,S=_.value;return{LEFT_DEGRESS:T,LEFT_VALUE:L+5,RIGHT_DEGRESS:A,RIGHT_VALUE:v,TOP_DEGRESS:y,TOP_VALUE:w,BOTTOM_DEGRESS:x,BOTTOM_VALUE:S+15}}function s(e,t,a,n){var c=a[0],f=a[1],d=a[2],i=a[3],o=c[0]||0,s=c[c.length-1]||0,u=d[0]||0,l=d[d.length-1]||0,b=g.max(i)||15,h=g.max(f)||15,E=g.max(n),T=0,L=g.max([b,.5*o,.5*u]),A=0,v=g.max([h+E,.5*s,.5*l]),p=c.length?(e-L-v)/c.length:5,m=d.length?(e-L-v)/d.length:5,$=r(c,p,L),_=r(d,m,L),y=$.deg,w=$.value,x=_.deg,S=_.value;return{LEFT_DEGRESS:T,LEFT_VALUE:L+5,RIGHT_DEGRESS:A,RIGHT_VALUE:v,TOP_DEGRESS:y,TOP_VALUE:w,BOTTOM_DEGRESS:x,BOTTOM_VALUE:S+15}}function u(e,t,a,n){var c=a[0],f=a[1],d=a[2],o=a[3],s=c[0]||0,u=c[c.length-1]||0,l=d[0]||0,b=d[d.length-1]||0,h=g.max(o)||15,E=g.max(f)||15,T=g.sum(n),L=0,A=g.max([h,.5*s,.5*l]),v=0,p=g.max([E,.5*u,.5*b]),m=(i(T,e-A-p),c.length?(e-A-p)/c.length:5),$=d.length?(e-A-p)/d.length:5,_=r(c,m,A),y=r(d,$,A),w=_.deg,x=_.value,S=y.deg,M=y.value;return{LEFT_DEGRESS:L,LEFT_VALUE:A+5,RIGHT_DEGRESS:v,RIGHT_VALUE:p,TOP_DEGRESS:w,TOP_VALUE:x,BOTTOM_DEGRESS:S,BOTTOM_VALUE:M+15}}function l(e,t,a,n){var c=a[0],f=a[1],d=a[2],o=a[3],s=c[0]||0,u=c[c.length-1]||0,l=d[0]||0,b=d[d.length-1]||0,h=g.max(o)||15,E=g.max(f)||15,T=g.sum(n),L=0,A=g.max([h,.5*s,.5*l]),v=0,p=g.max([E,.5*u,.5*b]),m=(i(T,e-A-p),c.length?(e-A-p)/c.length:5),$=d.length?(e-A-p)/d.length:5,_=r(c,m,A),y=r(d,$,A),w=_.deg,x=_.value,S=y.deg,M=y.value;return{LEFT_DEGRESS:L,LEFT_VALUE:A+5,RIGHT_DEGRESS:v,RIGHT_VALUE:p,TOP_DEGRESS:w,TOP_VALUE:x,BOTTOM_DEGRESS:S,BOTTOM_VALUE:M+(y.deg===-45?15:0)}}function b(e,t,a,n){var c=d(n.labels||[]),f=a.map(function(e){return d(e||[])});return"left"===n.orient?o(e,t,f,c):"right"===n.orient?s(e,t,f,c):"top"===n.orient?u(e,t,f,c):l(e,t,f,c)}var g=e("./utils");t.exports=b},{"./utils":12}],8:[function(e,t,a){function n(e,t){var a=t.x-e.x,n=t.y-e.y;return Math.sqrt(a*a+n*n)}var c=e("./handler"),f=e("./observer"),r=new f;r.isPinch=!1,r.startPoint=[],c(document,"mousemove",function(e){try{if(e.target&&"rect"===e.target.tagName.toLocaleLowerCase()){var t=e.target.__mouse__;r.move=[e.pageX-(e.pageX-t[0]),e.pageY-(e.pageY-t[1]),e.target.id]}else r.move[0]!==-9999&&(r.move=[-9999,-9999])}catch(e){}}),c(document,"touchstart",function(e){try{if(e.target&&"rect"===e.target.tagName.toLocaleLowerCase()){
var t=(e.target.__mouse__,e.touches);t[0].pageX,t[0].pageY;t.length>=2&&(r.isPinch=!0,r.startPoint[0]={x:t[0].pageX,y:t[0].pageY},r.startPoint[1]={x:t[1].pageX,y:t[1].pageY})}}catch(e){}}),c(document,"touchmove",function(e){try{if(e.target&&"rect"===e.target.tagName.toLocaleLowerCase()){var t=e.target.__mouse__,a=e.touches,c=a[0].pageX,f=a[0].pageY;if(1===a.length&&(r.move=[c-(c-t[0]),f-(f-t[1]),e.target.id]),r.isPinch&&a.length>=2){var d=[];d[0]={x:a[0].pageX,y:a[0].pageY},d[1]={x:a[1].pageX,y:a[1].pageY};var i=n(r.startPoint[0],r.startPoint[1]),o=n(d[0],d[1]);r.pinch=[o/i,a]}}else r.move=[-9999,-9999]}catch(e){}}),c(document,"touchend",function(e){try{if(e.target&&"rect"===e.target.tagName.toLocaleLowerCase()){var t=(e.target.__mouse__,e.touches),a=e.targetTouches;t[0].pageX,t[0].pageY;r.isPinch&&(t.length<2||a.length<1)&&(r.isPinch=!1)}}catch(e){}}),t.exports=r},{"./handler":6,"./observer":9}],9:[function(e,t,a){function n(e,t,a){var n=e[t],c=function(){return n},f=function(t){var c=n;n=t,t!==c&&a.forEach(function(a){a.call(e,t,c)})};try{Object.defineProperty(e,t,{set:f,get:c})}catch(e){}}function c(){this.$$watchers={}}c.prototype.$watch=function(e,t){this.$$watchers.hasOwnProperty(e)||(this.$$watchers[e]=[],n(this,e,this.$$watchers[e])),this.$$watchers[e].push(t)},t.exports=c},{}],10:[function(e,t,a){var n=e("./handler"),c=e("./observer"),f=new c;n(window,"resize",function(e){f.resize=e}),t.exports=f},{"./handler":6,"./observer":9}],11:[function(e,t,a){var n=(e("./handler"),e("./observer")),c=new n;t.exports=c},{"./handler":6,"./observer":9}],12:[function(e,t,a){function n(e){return null===e?NaN:+e}function c(e){return!isNaN(parseFloat(e))&&isFinite(e)}function f(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function r(e,t,a,n){for(arguments.length<3&&(a=0),arguments.length<4&&(n=e.length);a<n;){var c=a+n>>>1;f(e[c],t)>0?n=c:a=c+1}return a}function d(e,t){var a,n,c,f;if(e)if(a=e.length,void 0===a){for(n in e)if(e.hasOwnProperty(n)&&(f=e[n],t.call(f,f,n)===!1))break}else for(c=0;c<a&&(f=e[c],t.call(f,f,c)!==!1);c++);return e}function i(e,t){var a,n,c,f=-1,r=e.length;if(null==t){for(;++f<r;)if(null!=(n=e[f])&&n>=n){a=c=n;break}for(;++f<r;)null!=(n=e[f])&&(a>n&&(a=n),c<n&&(c=n))}else{for(;++f<r;)if(null!=(n=t(e[f],f,e))&&n>=n){a=c=n;break}for(;++f<r;)null!=(n=t(e[f],f,e))&&(a>n&&(a=n),c<n&&(c=n))}return[a,c]}function o(e,t){for(var a=[0],n=e.length,c=1;c<n;c++){var f=e[c-1],r=e[c];a.push(t(f,r)+a[a.length-1])}return a}function s(e){return function(){return e}}function u(e,t){var a,n,c=-1,f=e.length;if(null==t){for(;++c<f;)if(null!=(n=e[c])&&n>=n){a=n;break}for(;++c<f;)null!=(n=e[c])&&n>a&&(a=n)}else{for(;++c<f;)if(null!=(n=t(e[c],c,e))&&n>=n){a=n;break}for(;++c<f;)null!=(n=t(e[c],c,e))&&n>a&&(a=n)}return a}function l(e,t){var a,n,c=-1,f=e.length;if(null==t){for(;++c<f;)if(null!=(n=e[c])&&n>=n){a=n;break}for(;++c<f;)null!=(n=e[c])&&a>n&&(a=n)}else{for(;++c<f;)if(null!=(n=t(e[c],c,e))&&n>=n){a=n;break}for(;++c<f;)null!=(n=t(e[c],c,e))&&a>n&&(a=n)}return a}function b(e,t,a){for(var n,c,f=(null==a?e.length:a)-(t=null==t?0:+t);f;)c=Math.random()*f--|0,n=e[f+t],e[f+t]=e[c+t],e[c+t]=n;return e}function g(e,t){var a,n=0,c=e.length,f=-1;if(null==t)for(;++f<c;)(a=+e[f])&&(n+=a);else for(;++f<c;)(a=+t(e[f],f,e))&&(n+=a);return+n.toFixed(10)}function h(e){var t=[];for(var a in e)t.push(a);return t}function E(e){var t=[];for(var a in e)t.push(e[a]);return t}function T(e){var t=[];for(var a in e)t.push({key:a,value:e[a]});return t}function L(e,t){return e=null==e?0:+e,t=null==t?1:+t,1===arguments.length?(t=e,e=0):t-=e,function(){return Math.random()*(t-e)+e}}function A(e){for(var t,a,n=-1,c=e.length,f=0,r=0,d=e[c-1],i=0;++n<c;)t=d,d=e[n],i+=a=t[0]*d[1]-d[0]*t[1],f+=(t[0]+d[0])*a,r+=(t[1]+d[1])*a;return i*=3,[f/i,r/i]}function v(e,t){for(var a,n,c=e.length,f=e[c-1],r=t[0],d=t[1],i=f[0],o=f[1],s=!1,u=0;u<c;++u)f=e[u],a=f[0],n=f[1],n>d!=o>d&&r<(i-a)*(d-n)/(o-n)+a&&(s=!s),i=a,o=n;return s}function p(e,t,a){e=+e,t=+t,a=(c=arguments.length)<2?(t=e,e=0,1):c<3?1:+a;for(var n=-1,c=0|Math.max(0,Math.ceil((t-e)/a)),f=new Array(c);++n<c;)f[n]=+(e+n*a).toFixed(10);return f}function m(e,t,a){var n=$(e,t,a||5),c=p(Math.ceil(e/n)*n,Math.floor(t/n)*n+n/2,n),f=c[0],r=c[c.length-1];return f>e&&c.splice(0,0,f-n),r<t&&c.push(r+n),c}function $(e,t,a){var n=Math.abs(t-e)/Math.max(0,a),c=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),f=n/c;return f>=z?c*=10:f>=C?c*=5:f>=k&&(c*=2),t<e?-c:c}function _(e){function t(e){return Math.floor(r[0]-(e-c)/(f-c)*(r[0]-r[1]))}var a=m.apply(this,e),n=a.length,c=a[0],f=a[n-1],r=[1,0];return t.range=function(e){return e?(r=e,t):r},t.ticks=function(){return a},t}function y(e,t){function a(e){var a=t?0:1,r=(c[1]-c[0])/(n-a);return t?Math.floor(c[0]+r*f[e]+.5*r):Math.floor(c[0]+r*f[e])}var n=e.length,c=(e[0],e[n-1],[1,0]);t=t||0;var f={};return e.forEach(function(e,t){f[e]=t}),a.rangeBand=function(){var e=(1-2*t)/n*(c[1]-c[0]);return t?Math.floor(e):0},a.range=function(e){return e?(c=e,a):c},a.ticks=function(){return e},a}function w(e,t,a){function n(t){var a=e(t),n=f(a,1);return t-a<n-t?a:n}function c(a){return t(a=e(new Date(a-1)),1),a}function f(e,a){return t(e=new Date((+e)),a),e}function r(e,n,f){var r=c(e),d=[];if(f>1)for(;r<n;)a(r)%f||d.push(new Date((+r))),t(r,1);else for(;r<n;)d.push(new Date((+r))),t(r,1);return d}return e.floor=e,e.round=n,e.ceil=c,e.offset=f,e.range=r,e}function x(e){return new Date(e)}function S(e){return e}function M(e,t){var a,n,c=e[1]-e[0],f=c/t,d=r(P,f);if(d===H.length)a=methods.year,n=p(e.map(function(e){return e/31536e6}),t)[2];else if(d){var i=f/P[d-1]<P[d]/f?d-1:d,o=H[i];a=o[0],n=o[1]}else a=I,n=p(e,t)[2];return a.range(e[0],new Date(e[1]+1),n)}function R(e){function t(t){return Math.floor(n[0]-(new Date(t).getTime()-e[0])/(e[1]-e[0])*(n[0]-n[1]))}var a=M(e,5).map(function(e){return new Date(e).getTime()}),n=[1,0];return t.range=function(e){return e?(n=e,t):n},t.ticks=function(){return a},t.parse=function(e,t){var a=n[1]-n[0],c=a/(t-1);return e<c/2?e=e:e+=e+c/2>a?.5*c:.5*c,Math.floor(e/c)},t}function O(e,t){function a(e){var a=new Date(e).getTime(),n=new Date(a>f[0]?a-(f[1]-f[0])+(t||0):a).getTime();return r(n)}var n,c=V(e[0]),f=[c("11:30"),c("13:00")].map(function(e){return new Date(e).getTime()}),r=R([e[0],e[1]-(f[1]-f[0])+(t||0)]);return a.range=function(e){return e?(n=e,r.range(e),a):n},a.parse=function(e,t){var a=n[1]-n[0],c=a/(t-1);return e<c/2?e=e:e+=e+c/2>a?.5*c:c,Math.floor(e/c)},a.ticks=function(){return[c("9:30"),c("10:30"),c("11:30"),c("14:00"),c("15:00")].map(function(e){return new Date(e).getTime()})},e[1]>new Date(c("11:30")).getTime()?a:R(e)}function V(e){var t=new Date(e);return function(e){return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()+" "+e}}function U(e,t){function a(e,t){var a=[],c=[];return d(e,function(e){var f=new Date(e[0]);n<60?(c.push(e),f.getSeconds()%n===0&&(a.push(t(c,1e3*n)||[]),c=[])):n>=60&&n<=900?(c.push(e),f.getMinutes()%(n/60)===0&&(a.push(t(c,1e3*n)||[]),c=[])):a.push(e)}),a}var n=1,c=[1,3,5,10,15,30,60,180,300,600,900];return d(c,function(a,c){if(e/(t/a+2)>=5)return n=a,!1}),a.gs=1e3*n,a}var D="0.0.1",W=function(){var e=Date.now();return function(){return(e++).toString(16)}}(),G=function(){try{var e=document.createElement("canvas");return e.width=1,e.height=1,function(t,a){var n=e.getContext("2d");return n.font=a||"12px Arial",n.measureText(t)}}catch(e){return function(){return 0}}}(),z=Math.sqrt(50),C=Math.sqrt(10),k=Math.sqrt(2),P=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],H=function(){var e={};return e.second=w(function(e){return new Date(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),e.minute=w(function(e){return new Date(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),e.hour=w(function(e){var t=e.getTimezoneOffset()/60;return new Date(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),e.day=w(function(e){var t=new Date(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),e.dayOfYear=function(t){var a=e.year(t);return Math.floor((t-a-6e4*(t.getTimezoneOffset()-a.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,a){a=7-a,e[t]=w(function(t){return(t=e.day(t)).setDate(t.getDate()-(t.getDay()+a)%7),t},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(t){var n=e.year(t).getDay();return Math.floor((e.dayOfYear(t)+(n+a)%7)/7)-(n!==a)}),e[t+"OfYear"]=function(t){var n=e.year(t).getDay();return Math.floor((e.dayOfYear(t)+(n+a)%7)/7)}}),e.week=e.sunday,e.month=w(function(t){return t=e.day(t),t.setDate(1),t},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),e.year=w(function(t){return t=e.day(t),t.setMonth(0,1),t},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),[[e.second,1],[e.second,5],[e.second,15],[e.second,30],[e.minute,1],[e.minute,5],[e.minute,15],[e.minute,30],[e.hour,1],[e.hour,3],[e.hour,6],[e.hour,12],[e.day,1],[e.day,2],[e.week,1],[e.month,1],[e.month,3],[e.year,1]]}(),I={range:function(e,t,a){return d3.range(Math.ceil(e/a)*a,+t,a).map(x)},floor:S,ceil:S};a.version=D,a.guid=W,a.measure=G,a.each=d,a.number=n,a.isNumber=c,a.extent=i,a.min=l,a.max=u,a.sum=g,a.range=p,a.stack=o,a.contains=v,a.centroid=A,a.uniform=L,a.entries=T,a.keys=h,a.values=E,a.shuffle=b,a.constant=s,a.linear=_,a.time=O,a.extime=R,a.ordinal=y,a.gather=U},{}],13:[function(e,t,a){function n(e,t,a,n){var c=e.selectAll("g.axis-"+a).data([a]);c.enter().append("g").attr("class","axis axis-"+a),c.exit().remove();var f=c.selectAll("text").data(t);f.enter().append("text").attr("x",function(e){return e.x}).attr("y",function(e){return e.y}),f.attr("class",function(e){return e.hasOwnProperty("value")?e.value>=0?"tick-plus":"tick-minus":"tick-nums"}).style("text-anchor",function(e){return e.anchor}).text(function(e){return e.tick}).attr("transform",function(e){return"translate("+e.translate+")rotate("+e.rotate+")"}),f.exit().remove()}t.exports=n},{}],14:[function(e,t,a){function n(e){return e?["M-"+e/2+",0L"+e/2+",0L"+e/2+",-21L-"+e/2+",-21Z","M0,0L 3,3L3,10L"+(e+3)+",10L"+(e+3)+",-10L3,-10L3,-3Z","M-"+e/2+",0L"+e/2+",0L"+e/2+",21L-"+e/2+",21Z","M0,0L-3,-3L-3,-10L-"+(e+3)+",-10L-"+(e+3)+",10L-3,10L-3,3Z"]:[]}function c(e,t){var a=e.selectAll("g.tips-value").data(["tips-value"]);a.enter().append("g").attr("class",function(e){return e}),a.exit().remove();var c=a.selectAll("path").data(t);c.enter().append("path"),c.attr("d",function(e,t){return n(e.size)[t]}).attr("transform",function(e){return"translate("+e.x+","+e.y+")"}),c.exit().remove();var r=a.selectAll("text").data(t);r.enter().append("text").attr("x",function(e,t){return f[t].x}).attr("y",function(e,t){return f[t].y}).style("text-anchor",function(e,t){return f[t].align}),r.text(function(e){return e.value}).attr("transform",function(e){return"translate("+e.x+","+e.y+")"}),r.exit().remove()}var f=[{x:0,y:-5,align:"middle"},{x:8,y:5,align:"start"},{x:0,y:15,align:"middle"},{x:-8,y:5,align:"end"}];t.exports=c},{}],15:[function(e,t,a){function n(e,t,a,n,c,f){var r=e.selectAll("g.brush").data(["brush"]);r.enter().append("g").attr("class",function(e){return e}),r.attr("transform",function(e){return"translate(0, "+a+")"}),r.exit().remove();var d=d3.svg.brush().x(n).on("brushstart",function(){var e=d.extent();Math.floor(e[0]),Math.floor(e[1])}).on("brushend",function(e){var t=d.extent(),a=Math.floor(t[0]),n=Math.floor(t[1]);n!==a&&console.log(n,a)}).on("brush",function(){var e=d.extent();Math.floor(e[0]),Math.floor(e[1])});r.call(d).selectAll("rect").attr("height",c)}t.exports=n},{}],16:[function(e,t,a){function n(e,t){var a=e.selectAll("desc.svg-desc").data([t]);a.enter().append("desc").attr("class","svg-desc").text(function(e){return e}),a.exit().remove()}t.exports=n},{}],17:[function(e,t,a){function n(e,t){var a=e.range(),n=e.ticks(),c=t.range(),f=t.ticks(),r=[];return Math.floor(e(n[0]))!==Math.floor(a[0])&&r.push({x:Math.floor(a[0])+.5,y:0,y1:c[0],y2:c[1]}),n.forEach(function(t){r.push({x:e(t)+.5,y:0,y1:c[0],y2:c[1]})}),Math.floor(e(n[n.length-1]))!==Math.floor(a[1])&&r.push({x:a[1]+.5,y:0,y1:c[0],y2:c[1]}),f.forEach(function(e,n){r.push({x:a[0]-1,y:t(e)+.5,x1:0,x2:a[1]-a[0]+2,style:0===e?"graph-zero":""})}),r}function c(e,t,a,c){var f=n(t,a),r=e.selectAll("g.grid-line").data(["grid-line"]);r.enter().append("g").attr("class",function(e){return e}),r.exit().remove();var d=r.selectAll("line").data(f);return d.enter().append("line"),d.attr("x1",function(e){return e.x1}).attr("x2",function(e){return e.x2}).attr("y1",function(e){return e.y1}).attr("y2",function(e){return e.y2}).attr("class",function(e){return e.style}).attr("transform",function(e){return"translate("+e.x+", "+e.y+")"}),d.exit().remove(),r}t.exports=c},{}],18:[function(e,t,a){function n(e,t,a,n,c,f){var r=e.selectAll("rect.graph-hover").data([{name:"graph-hover",left:a,top:n}]);return r.enter().append("rect").attr("class",function(e){return e.name}).attr("id",t),r.attr("width",c).attr("height",f).attr("transform",function(e){return"translate("+e.left+","+e.top+")"}),r.exit().remove(),r}t.exports=n},{}],19:[function(e,t,a){function n(e,t){var a=e.selectAll("div.marker-tips").data(t);a.enter().append("div").attr("class","marker-tips"),a.style("left",function(e){return e.left+12+"px"}).style("top",function(e){return e.top-10+"px"}).html(function(e){return e.label}),a.exit().remove();var n=a.selectAll("span.marker-icon").data(["marker-icon"]);n.enter().append("span").attr("class","marker-icon"),n.exit().remove()}t.exports=n},{}],20:[function(e,t,a){function n(e,t,a,n,c,f){var r=e.selectAll("defs").data(["defs"]);r.enter().append("defs"),r.exit().remove();var d=r.selectAll("clipPath#"+t).data([t]);d.enter().append("clipPath").attr("id",t),d.exit().remove();var i=d.selectAll("rect."+t).data([t]);i.enter().append("rect").attr("class",t),i.attr("width",c).attr("height",f).attr("transform",function(e){return"translate("+a+","+n+")"}),i.exit().remove()}t.exports=n},{}],21:[function(e,t,a){function n(e,t){var a=e.selectAll("text.svg-message").data([t]);a.enter().append("text").attr("class","svg-message").attr("text-anchor","middle"),a.attr("x",function(e){return e.x}).attr("y",function(e){return e.y}).text(function(e){return e.label}),a.exit().remove()}t.exports=n},{}],22:[function(e,t,a){function n(e,t,a,n){var c=e.selectAll("svg#svg-"+t).data(["svg-"+t]);return c.enter().append("svg").attr("id",function(e){return e}).attr("version","1.1"),c.attr("width",a).attr("height",n),c.exit().remove(),c}t.exports=n},{}],23:[function(e,t,a){function n(e,t){var a=e.selectAll("g.pointer-events").data(["pointer-events"]);a.enter().append("g").attr("class",function(e){return e}),a.exit().remove();var n=a.selectAll(f).data(t);n.enter().append("line").attr("class",function(e,t){return c[t]}),n.attr("x1",function(e){return e.x1}).attr("x2",function(e){return e.x2}).attr("y1",function(e){return e.y1}).attr("y2",function(e){return e.y2}).attr("transform",function(e){return"translate("+e.x+", "+e.y+")"}),n.exit().remove()}var c=["cursor-line-vertical","cursor-line-horizontal"],f=c.map(function(e){return"line."+e}).join(",");t.exports=n},{}],24:[function(e,t,a){function n(e,t,a,n,c){var f=e.selectAll("rect.graph-selection").data(["graph-selection"]);return f.enter().append("rect").attr("class",function(e){return e}),f.attr("width",n).attr("height",c).attr("transform",function(e){return"translate("+t+","+a+")"}),f.exit().remove(),f}t.exports=n},{}],25:[function(e,t,a){var n=e("./../../core/utils"),c=(e("./../../core/colors"),e("./../../core/dataset")),f=e("./../../widget/d3WidgetMask"),r=(e("./../../widget/d3WidgetHover"),e("./../../widget/d3WidgetSelection"),e("./../../widget/d3WidgetPaint")),d=(e("./../../widget/d3WidgetMarker"),e("./../../widget/d3WidgetLine")),i=e("./../../widget/d3WidgetBrush"),o=e("./../../widget/d3WidgetMessage"),s=(e("./../../widget/d3WidgetAxisTips"),e("./../../widget/d3WidgetGridLine")),u=e("./../../widget/d3WidgetAxisNodes"),l=(e("./../../widget/d3WidgetPointerEvents"),function(){function e(t){function a(e,t){return E.$Scale.get(2)(new Date(e[0]).getTime())}function l(e){return E.$Scale.get(3)(e[1])}function b(e){return!isNaN(e[1])}_classCallCheck(this,e);var g=new Date,h=g.getFullYear()+"/"+(g.getMonth()+1)+"/"+g.getDate(),E=c(t,[[h+" 9:30",-2],[h+" 15:00",2]]);E.guid=n.guid(),E.uid="s-chart-el-"+E.guid,E.progress=0;r(t.id,E.width,E.height,E).call(f(E)).call(s(E),function(){return E.$Scale.get(2)},function(){return E.$Scale.get(3)}).call(u(E)).call(o(E)).call(d(E),E.uid,a,l,b,!0).call(i(E),E.$Scale.get(2),null);this.$WATCHER=E}return _createClass(e,[{key:"progress",value:function(e){this.$WATCHER.progress=e}},{key:"mouse",value:function(e){}},{key:"render",value:function(e){this.$WATCHER.LINE_DATA=e}}]),e}());t.exports=l},{"./../../core/colors":3,"./../../core/dataset":4,"./../../core/utils":12,"./../../widget/d3WidgetAxisNodes":34,"./../../widget/d3WidgetAxisTips":35,"./../../widget/d3WidgetBrush":36,"./../../widget/d3WidgetGridLine":38,"./../../widget/d3WidgetHover":39,"./../../widget/d3WidgetLine":40,"./../../widget/d3WidgetMarker":41,"./../../widget/d3WidgetMask":43,"./../../widget/d3WidgetMessage":44,"./../../widget/d3WidgetPaint":45,"./../../widget/d3WidgetPointerEvents":47,"./../../widget/d3WidgetSelection":49}],26:[function(e,t,a){var n=e("./../../core/utils"),c=(e("./../../core/colors"),e("./../../core/dataset")),f=e("./../../core/resizable"),r=e("./../../widget/d3WidgetMask"),d=(e("./../../widget/d3WidgetRect"),e("./../../widget/d3WidgetHover")),i=e("./../../widget/d3WidgetSelection"),o=e("./../../widget/d3WidgetPaint"),s=e("./../../widget/d3WidgetMarker"),u=e("./../../widget/d3WidgetPath"),l=e("./../../widget/d3WidgetCandlestick"),b=e("./../../widget/d3WidgetMessage"),g=e("./../../widget/d3WidgetAxisTips"),h=e("./../../widget/d3WidgetGridLine"),E=e("./../../widget/d3WidgetMarkerTips"),T=e("./../../widget/d3WidgetAxisNodes"),L=e("./../../widget/d3WidgetPointerEvents"),A=function(){function e(t){function a(e,t){var a=(x.$DATA_STORAGE||[]).length,n=0;return a&&(n=Math.floor((x.width-x.$Layout.LEFT_VALUE-x.$Layout.RIGHT_VALUE)/a),n=n>3?n>20?20:n:3),x.$Scale.get(2)(new Date(e[0]).getTime())-Math.floor(.45*n)+1}function A(e){return x.$Scale.get(3)(e)}function v(e){return x.$Scale.get(3)(e[1])}function p(e){return x.$Scale.get(3)(e[1])}function m(e){var t=(x.$DATA_STORAGE||[]).length;if(t){var a=Math.floor((x.width-x.$Layout.LEFT_VALUE-x.$Layout.RIGHT_VALUE)/t);return a=a>20?20:a,a=Math.floor(.9*a)-Math.floor(.9*a)%2-2,a>3?a:3}return 1}function $(e){return 1}function _(e){return!isNaN(e[1])}_classCallCheck(this,e);var y=new Date,w=y.getFullYear()+"/"+(y.getMonth()+1)+"/"+y.getDate();"100%"===t.width&&(t.domEl?t.width=t.domEl.offsetWidth:t.width=document.getElementById(t.id).offsetWidth);var x=c(t,[[w+" 9:30",4,2,1,3],[w+" 15:00",4,2,1,3]]);x.guid=n.guid(),x.uid="s-chart-el-"+x.guid,x.progress=0,f.$watch("resize",function(){t.domEl?(x.width=t.domEl.offsetWidth,x.resizable=[x.width,x.height]):(x.width=document.getElementById(t.id).offsetWidth,x.resizable=[x.width,x.height])}),this[0]=o(t.id,x.width,x.height,x).call(r(x)).call(L(x)).call(h(x),function(){return x.$Scale.get(2)},function(){return x.$Scale.get(3)}).call(T(x)).call(g(x)).call(b(x)).call(l(x),a,A,m,$).call(u(x),x.uid,a,p,_,!0).call(i(x)).call(d(x)).call(s(x),a,v,function(e){return"S"===e[2]?"minus":"plus"});var S=d3.select("#"+t.id);S.call(E(x));var M=S.append("div").attr("class","chart-tooltips");x.element_tips={left:t.left,right:t.right,tips:M,label:t.tooltips},this.$WATCHER=x}return _createClass(e,[{key:"progress",value:function(e){this.$WATCHER.progress=e}},{key:"mouse",value:function(e){var t=e[0],a=e[1],n=this.$WATCHER,c=n.$Layout,f=(n.$Config,c.LEFT_VALUE),r=t-f;n.guid!==e[2]&&(a=-9999);var d=n.element_tips.tips.node();if(r>0)try{var i=n.$Scale.get(2).parse(r,n.CANDLESTICK_DATA.length),o=n.CANDLESTICK_DATA[i],s=o[0];n.$EVENT_HOVER=[n.$Scale.get(2)(s),a],n.$AXIS_TIPS=n.$Extents.map(function(e,t){return 2===t?s:e}),d.removeAttribute("style"),d.style.display="block",r>n.width/2?d.style.left=n.element_tips.left+"px":d.style.right=n.element_tips.right+"px","function"==typeof n.element_tips.label?d.innerHTML=n.element_tips.label(o):d.innerHTML=o.join("<br>")}catch(e){console.log(e)}else n.$EVENT_TIPS={x:-9999,y:-9999,data:[null,null,null,null]},n.$EVENT_HOVER=e,d.style.display="none"}},{key:"watch",value:function(e,t){var a=this.$WATCHER;a.$watch("$CURRENT_"+e.toLocaleUpperCase(),function(e){"function"==typeof t&&t(a.$CURRENT_MARKER)})}},{key:"on",value:function(e,t){var a=this.$WATCHER,n=this[0].node().querySelector("g.graph-"+e.toLocaleLowerCase());n&&(n.onclick=function(e){var n=e.target.__data__,c=t(n);a.MARKER_ACTIVE=[{top:a.$Scale.get(3)(n[1]),left:a.$Scale.get(2)(n[0]),label:c}]}),this[0].select("rect.graph-hover").on("click",function(){a.MARKER_ACTIVE=[{left:-9999,top:-9999}]})}},{key:"converge",value:function(e){this.DATA_FILTER=e}},{key:"render",value:function(e){var t=this.$WATCHER,a=t.$Layout,c=a.LEFT_VALUE,f=a.RIGHT_VALUE,r=t.width-c-f,d=e.candlestick||e,i=d[0],o=d[d.length-1],s=new Date(i[0]),u=new Date(o[0]),l=new Date(o[0]);l.setHours("11"),l.setMinutes("30"),l.setSeconds("00");var b=new Date(o[0]);b.setHours("13"),b.setMinutes("00"),b.setSeconds("00");var g;g=s.getTime()>=b.getTime()||u.getTime()<=l.getTime()?n.gather(r,(u.getTime()-s.getTime())/1e3):n.gather(r,(u.getTime()-s.getTime()-54e5)/1e3),t.DATA_GS=g.gs,t.CANDLESTICK_DATA=g(d,this.DATA_FILTER||function(e){return e[e.length-1]}),t.MARKER_DATA=e.marker||[],t.PATH_DATA=e.line||[]}}]),e}();t.exports=A},{"./../../core/colors":3,"./../../core/dataset":4,"./../../core/resizable":10,"./../../core/utils":12,"./../../widget/d3WidgetAxisNodes":34,"./../../widget/d3WidgetAxisTips":35,"./../../widget/d3WidgetCandlestick":37,"./../../widget/d3WidgetGridLine":38,"./../../widget/d3WidgetHover":39,"./../../widget/d3WidgetMarker":41,"./../../widget/d3WidgetMarkerTips":42,"./../../widget/d3WidgetMask":43,"./../../widget/d3WidgetMessage":44,"./../../widget/d3WidgetPaint":45,"./../../widget/d3WidgetPath":46,"./../../widget/d3WidgetPointerEvents":47,"./../../widget/d3WidgetRect":48,"./../../widget/d3WidgetSelection":49}],27:[function(e,t,a){var n=e("./../../core/utils"),c=(e("./../../core/colors"),e("./../../core/dataset")),f=e("./../../core/resizable"),r=e("./../../widget/d3WidgetMask"),d=(e("./../../widget/d3WidgetRect"),e("./../../widget/d3WidgetHover")),i=e("./../../widget/d3WidgetSelection"),o=e("./../../widget/d3WidgetPaint"),s=e("./../../widget/d3WidgetMarker"),u=e("./../../widget/d3WidgetLine"),l=e("./../../widget/d3WidgetMessage"),b=e("./../../widget/d3WidgetAxisTips"),g=e("./../../widget/d3WidgetGridLine"),h=e("./../../widget/d3WidgetAxisNodes"),E=e("./../../widget/d3WidgetMarkerTips"),T=e("./../../widget/d3WidgetPointerEvents"),L=function(){function e(t){function a(e,t){return $.$Scale.get(2)(new Date(e[0]).getTime())}function L(e){return $.$Scale.get(3)(e[1])}function A(e){return $.$Scale.get(3)(e[1])}function v(e){return!isNaN(e[1])}_classCallCheck(this,e);var p=new Date,m=p.getFullYear()+"/"+(p.getMonth()+1)+"/"+p.getDate();"100%"===t.width&&(t.domEl?t.width=t.domEl.offsetWidth:t.width=document.getElementById(t.id).offsetWidth);var $=c(t,[[m+" 9:30",-2],[m+" 15:00",2]]);$.guid=n.guid(),$.uid="s-chart-el-"+$.guid,$.progress=0,f.$watch("resize",function(){t.domEl?($.width=t.domEl.offsetWidth,$.resizable=[$.width,$.height]):($.width=document.getElementById(t.id).offsetWidth,$.resizable=[$.width,$.height])}),this[0]=o(t.id,$.width,$.height,$).call(r($)).call(T($)).call(g($),function(){return $.$Scale.get(2)},function(){return $.$Scale.get(3)}).call(h($)).call(b($)).call(l($)).call(u($),t.id,$.uid,a,L,v,!0).call(i($)).call(d($)).call(s($),a,A,function(e){return"S"===e[2]?"minus":"plus"});var _=d3.select("#"+t.id);_.call(E($));var y=_.append("div").attr("class","chart-tooltips");$.element_tips={left:t.left,right:t.right,tips:y,label:t.tooltips},this.$WATCHER=$}return _createClass(e,[{key:"progress",value:function(e){this.$WATCHER.progress=e}},{key:"mouse",value:function(e){var t=e[0],a=e[1],n=this.$WATCHER,c=n.$Layout,f=(n.$Config,c.LEFT_VALUE),r=t-f;n.guid!==e[2]&&(a=-9999);var d=n.element_tips.tips.node();if(r>0){var i=n.$Scale.get(2).parse(r,n.LINE_DATA.length),o=n.LINE_DATA[i],s=o[0];n.$EVENT_HOVER=[n.$Scale.get(2)(s),a],n.$AXIS_TIPS=n.$Extents.map(function(e,t){return 2===t?s:e}),d.removeAttribute("style"),d.style.display="block",r>n.width/2?d.style.left=n.element_tips.left+"px":d.style.right=n.element_tips.right+"px","function"==typeof n.element_tips.label?d.innerHTML=n.element_tips.label(o):d.innerHTML=o.join("<br>")}else n.$EVENT_TIPS={x:-9999,y:-9999,data:[null,null,null,null]},n.$EVENT_HOVER=e,d.style.display="none"}},{key:"watch",value:function(e,t){var a=this.$WATCHER;a.$watch("$CURRENT_"+e.toLocaleUpperCase(),function(e){"function"==typeof t&&t(a.$CURRENT_MARKER)})}},{key:"on",value:function(e,t){var a=this.$WATCHER,n=this[0].node().querySelector("g.graph-"+e.toLocaleLowerCase());n&&(n.onclick=function(e){var n=e.target.__data__,c=t(n);a.MARKER_ACTIVE=[{top:a.$Scale.get(3)(n[1]),left:a.$Scale.get(2)(n[0]),label:c}]}),this[0].select("rect.graph-hover").on("click",function(){a.MARKER_ACTIVE=[{left:-9999,top:-9999}]})}},{key:"converge",value:function(e){this.DATA_FILTER=e}},{key:"render",value:function(e){var t=this.$WATCHER,a=t.$Layout,c=a.LEFT_VALUE,f=a.RIGHT_VALUE,r=t.width-c-f,d=e.line||e,i=d[0],o=d[d.length-1],s=new Date(i[0]),u=new Date(o[0]),l=new Date(o[0]);l.setHours("11"),l.setMinutes("30"),l.setSeconds("00");var b=new Date(o[0]);b.setHours("13"),b.setMinutes("00"),b.setSeconds("00");var g;g=s.getTime()>=b.getTime()||u.getTime()<=l.getTime()?n.gather(r,(u.getTime()-s.getTime())/1e3):n.gather(r,(u.getTime()-s.getTime()-54e5)/1e3),t.DATA_GS=g.gs,t.LINE_DATA=g(d,this.DATA_FILTER||function(e){return e[e.length-1]}),t.MARKER_DATA=e.marker||[]}}]),e}();t.exports=L},{"./../../core/colors":3,"./../../core/dataset":4,"./../../core/resizable":10,"./../../core/utils":12,"./../../widget/d3WidgetAxisNodes":34,"./../../widget/d3WidgetAxisTips":35,"./../../widget/d3WidgetGridLine":38,"./../../widget/d3WidgetHover":39,"./../../widget/d3WidgetLine":40,"./../../widget/d3WidgetMarker":41,"./../../widget/d3WidgetMarkerTips":42,"./../../widget/d3WidgetMask":43,"./../../widget/d3WidgetMessage":44,"./../../widget/d3WidgetPaint":45,"./../../widget/d3WidgetPointerEvents":47,"./../../widget/d3WidgetRect":48,"./../../widget/d3WidgetSelection":49}],28:[function(e,t,a){var n=e("./../../core/utils"),c=(e("./../../core/colors"),e("./../../core/dataset")),f=e("./../../core/resizable"),r=e("./../../widget/d3WidgetMask"),d=e("./../../widget/d3WidgetRect"),i=e("./../../widget/d3WidgetHover"),o=(e("./../../widget/d3WidgetSelection"),e("./../../widget/d3WidgetPaint")),s=(e("./../../widget/d3WidgetMarker"),e("./../../widget/d3WidgetMessage")),u=e("./../../widget/d3WidgetAxisTips"),l=e("./../../widget/d3WidgetGridLine"),b=e("./../../widget/d3WidgetAxisNodes"),g=e("./../../widget/d3WidgetPointerEvents"),h=function(){function e(t){function a(e,t){var a=(p.RECT_DATA||[]).length,n=1;return a&&(n=Math.floor((p.width-p.$Layout.LEFT_VALUE-p.$Layout.RIGHT_VALUE)/a),n=n>20?20:n),p.$Scale.get(2)(new Date(e[0]).getTime())-Math.floor(.45*n)+1}function h(e){return p.$Scale.get(3)(e[1])}function E(e){var t=(p.RECT_DATA||[]).length;if(t){var a=Math.floor((p.width-p.$Layout.LEFT_VALUE-p.$Layout.RIGHT_VALUE)/t);return a=a>20?20:a,a=Math.floor(.9*a)-Math.floor(.9*a)%2-2,a>3?a:3}return 1}function T(e){return p.height-p.$Layout.BOTTOM_VALUE-p.$Scale.get(3)(e[1])}function L(e){return e[2]}_classCallCheck(this,e);var A=new Date,v=A.getFullYear()+"/"+(A.getMonth()+1)+"/"+A.getDate();"100%"===t.width&&(t.domEl?t.width=t.domEl.offsetWidth:t.width=document.getElementById(t.id).offsetWidth);var p=c(t,[[v+" 9:30",-2],[v+" 15:00",2]]);p.guid=n.guid(),p.uid="s-chart-el-"+p.guid,p.progress=0,f.$watch("resize",function(){t.domEl?(p.width=t.domEl.offsetWidth,p.resizable=[p.width,p.height]):(p.width=document.getElementById(t.id).offsetWidth,p.resizable=[p.width,p.height])});var m=(o(t.id,p.width,p.height,p).call(r(p)).call(g(p)).call(l(p),function(){return p.$Scale.get(2)},function(){return p.$Scale.get(3)}).call(b(p)).call(u(p)).call(s(p)).call(d(p),a,h,E,T,L).call(i(p)),d3.select("#"+t.id).append("div").attr("class","chart-tooltips"));p.element_tips={left:t.left,right:t.right,tips:m,label:t.tooltips},this.$WATCHER=p}return _createClass(e,[{key:"progress",value:function(e){this.$WATCHER.progress=e}},{key:"mouse",value:function(e){var t=e[0],a=e[1],n=this.$WATCHER,c=n.$Layout,f=(n.$Config,c.LEFT_VALUE),r=t-f;n.guid!==e[2]&&(a=-9999);var d=n.element_tips.tips.node();if(r>0){var i=n.$Scale.get(2).parse(r,n.RECT_DATA.length),o=n.RECT_DATA[i],s=n.RECT_DATA[i][0];n.$EVENT_HOVER=[n.$Scale.get(2)(s),a],n.$AXIS_TIPS=n.$Extents.map(function(e,t){return 2===t?s:e}),d.removeAttribute("style"),d.style.display="block",r>n.width/2?d.style.left=n.element_tips.left+"px":d.style.right=n.element_tips.right+"px","function"==typeof n.element_tips.label?d.innerHTML=n.element_tips.label(o):d.innerHTML=o.join("<br>")}else n.$EVENT_TIPS={x:-9999,y:-9999,data:[null,null,null,null]},n.$EVENT_HOVER=e,d.style.display="none"}},{key:"render",value:function(e){var t=this.$WATCHER,a=t.$Layout,c=a.LEFT_VALUE,f=a.RIGHT_VALUE,r=t.width-c-f,d=e[0],i=e[e.length-1],o=new Date(d[0]),s=new Date(i[0]),u=new Date(i[0]);u.setHours("11"),u.setMinutes("30"),u.setSeconds("00");var l=new Date(i[0]);l.setHours("13"),l.setMinutes("00"),l.setSeconds("00");var b;b=o.getTime()>=l.getTime()||s.getTime()<=u.getTime()?n.gather(r,(s.getTime()-o.getTime())/1e3):n.gather(r,(s.getTime()-o.getTime()-54e5)/1e3),t.DATA_GS=b.gs,t.RECT_DATA=b(e,this.DATA_FILTER||function(e){return e[e.length-1]})}}]),e}();t.exports=h},{"./../../core/colors":3,"./../../core/dataset":4,"./../../core/resizable":10,"./../../core/utils":12,"./../../widget/d3WidgetAxisNodes":34,"./../../widget/d3WidgetAxisTips":35,"./../../widget/d3WidgetGridLine":38,"./../../widget/d3WidgetHover":39,"./../../widget/d3WidgetMarker":41,"./../../widget/d3WidgetMask":43,"./../../widget/d3WidgetMessage":44,"./../../widget/d3WidgetPaint":45,"./../../widget/d3WidgetPointerEvents":47,"./../../widget/d3WidgetRect":48,"./../../widget/d3WidgetSelection":49}],29:[function(e,t,a){function n(e,t,a,n,c,r){var d=e.selectAll("g.graph-content").data(["graph-content"]);d.enter().append("g").attr("class",function(e){return e}),d.exit().remove();var i=d.selectAll("path.item").data(t);i.enter().append("path").attr("data-series",function(e,t){return e.series||""}).attr("data-category",function(e,t){return e[0]}),i.attr("class",function(e){return"item "+(e[2]<e[4]?"plus":"minus")}).attr("d",function(e,t){return f(e,t,a,n,c)}),i.exit().remove()}function c(e,t){return{high:t(e[1]),open:t(e[2]),low:t(e[3]),close:t(e[4])}}function f(e,t,a,n,f){var r=c(e,n),d=r.high,i=r.open,o=r.close,s=r.low,u=a(e),l=f(e)||3;l=l%2===0?l:l>1?l-1:1;var b=.5*l;return d!==s?["M"+Math.floor(u+b),d,"L"+Math.floor(u+b),o,Math.floor(u),o,Math.floor(u),i,Math.floor(u+b),i,Math.floor(u+b),s,Math.floor(u+b),i,Math.floor(u+l),i,Math.floor(u+l),o,Math.floor(u+b),o,Math.floor(u+b),d+"Z"].join(" "):["M"+Math.floor(u+b),d,"L"+u,d,u+l,d].join(" ")}t.exports=n},{}],30:[function(e,t,a){function n(e,t,a,n){var c=d3.svg.line();return c.x(e).y(t).defined(a).interpolate(!!n&&"monotone")}function c(e,t,a,c,d,i,o,s){var u=n(d,i,o,s),l=e.selectAll("g.graph-line").data(["graph-line"]);l.enter().append("g").style("clip-path","url(#"+a+")").attr("class",function(e){return e}),l.exit().remove();var b=l.selectAll("path.graph-line").data(c);b.enter().append("path").attr("class","graph-line"),
b.attr("d",function(e){return u(e)}).attr("stroke",function(e,a){try{return r.skin[t][a]}catch(e){return f.Accent[a+4][a]}}).attr("fill",function(){return"none"}),r.$watch("skin",function(e){b.attr("stroke",function(e,a){try{return r.skin[t][a]}catch(e){return f.Accent[a+4][a]}})}),b.exit().remove()}var f=e("./../core/colors"),r=e("./../core/themes");t.exports=c},{"./../core/colors":3,"./../core/themes":11}],31:[function(e,t,a){function n(e,t,a,n,c){var f=[],r=[];t.forEach(function(e){"C"===e[2]?r.push(e):f.push(e)});var d=e.selectAll("g.graph-marker").data(["graph-marker"]);d.enter().append("g").attr("class",function(e){return e}),d.exit().remove();var i=d.selectAll("circle").data(f);i.enter().append("circle").attr("r",5).attr("class",function(e){return c(e)}),i.attr("cx",function(e){return a(e)+.5}).attr("cy",function(e){return n(e)}),i.exit().remove();var o=d.selectAll("path.marker-x").data(r);o.enter().append("path").attr("d",function(){return"M-2,-2L2, 2M2,-2L-2,2"}).attr("class","marker-x"),o.attr("transform",function(e){return"translate("+a(e)+","+n(e)+")"}),o.exit().remove()}t.exports=n},{}],32:[function(e,t,a){function n(e,t){var a=e.selectAll("g.point-hover").data(["point-hover"]);a.enter().append("g").attr("class",function(e){return e}),a.exit().remove();var n=a.selectAll("circle").data(t);n.enter().append("circle").attr("r",2),n.attr("cx",function(e){return e.x+.5}).attr("cy",function(e){return e.y}),n.exit().remove()}t.exports=n},{}],33:[function(e,t,a){function n(e,t,a,n,c,f,r){var d=e.selectAll("g.graph-rect").data(["graph-rect"]);d.enter().append("g").attr("class",function(e){return e}),d.exit().remove();var i=d.selectAll("rect").data(t);i.enter().append("rect").attr("class",function(e){return r(e)}),i.attr("width",function(e,t){return c(e,t)}).attr("height",function(e,t){return f(e,t)}).attr("x",function(e,t){return a(e,t)+.5}).attr("y",function(e,t){return n(e,t)}),i.exit().remove()}t.exports=n},{}],34:[function(e,t,a){function n(e){var t=c(e),a=["top","right","bottom","left"];return function(n){a.forEach(function(e,a){n.call(f,t[a]||[],e)}),e.$watch("resizable",function(){t=c(e),a.forEach(function(e,a){n.call(f,t[a]||[],e)})}),e.$watch("$DATA_LOAD",function(){t=c(e),a.forEach(function(e,a){n.call(f,t[a]||[],e)})})}}function c(e){var t=["middle","start","middle","end"],a=[[0,-5],[8,3],[0,18],[-8,3]],n=[e.$Layout.TOP_DEGRESS,e.$Layout.RIGHT_DEGRESS,e.$Layout.BOTTOM_DEGRESS,e.$Layout.LEFT_DEGRESS],c=function(t,a){var n=[[t,e.$Layout.TOP_VALUE],[e.width-e.$Layout.RIGHT_VALUE,t],[t,e.height-e.$Layout.BOTTOM_VALUE],[e.$Layout.LEFT_VALUE,t]];return n[a]},f=e.$Scale.get().map(function(f,r){return f?f.ticks().map(function(d,i){var o={translate:c(f(d),r),x:a[r][0],y:a[r][1],rotate:n[r],anchor:n[r]?"end":t[r]};return e.$Config[r].data&&(e.$Config[r].data.label?o.tick=e.$Config[r].data.label(d):o.tick=d,e.$Config[r].data.value&&(o.value=e.$Config[r].data.value(d))),o}):null});return f}var f=e("./../elements/d3SvgAxisNodes");t.exports=n},{"./../elements/d3SvgAxisNodes":13}],35:[function(e,t,a){function n(e){var t=[{x:-9999,y:e.$Layout.TOP_VALUE,size:0,value:0},{x:e.width-e.$Layout.RIGHT_VALUE,y:-9999,size:0,value:0},{x:-9999,y:e.height-e.$Layout.BOTTOM_VALUE,size:0,value:"9:30"},{x:e.$Layout.LEFT_VALUE,y:-9999,size:0,value:0}];return function(a){var n=[{index:0,size:e.width-e.$Layout.LEFT_VALUE-e.$Layout.RIGHT_VALUE,fixed:e.$Layout.LEFT_VALUE,value:0},{index:1,size:e.height-e.$Layout.TOP_VALUE-e.$Layout.BOTTOM_VALUE,fixed:e.$Layout.TOP_VALUE,value:1},{index:0,size:e.width-e.$Layout.LEFT_VALUE-e.$Layout.RIGHT_VALUE,fixed:e.$Layout.LEFT_VALUE,value:0},{index:1,size:e.height-e.$Layout.TOP_VALUE-e.$Layout.BOTTOM_VALUE,fixed:e.$Layout.TOP_VALUE,value:1}];a.call(f,t),e.$watch("resizable",function(){[e.$Layout.TOP_VALUE,e.width-e.$Layout.RIGHT_VALUE,e.height-e.$Layout.BOTTOM_VALUE+1,e.$Layout.LEFT_VALUE].forEach(function(e,a){t[a][a%2?"x":"y"]=e,t[a][a%2?"y":"x"]=-9999}),n=[{index:0,size:e.width-e.$Layout.LEFT_VALUE-e.$Layout.RIGHT_VALUE,fixed:e.$Layout.LEFT_VALUE,value:0},{index:1,size:e.height-e.$Layout.TOP_VALUE-e.$Layout.BOTTOM_VALUE,fixed:e.$Layout.TOP_VALUE,value:1},{index:0,size:e.width-e.$Layout.LEFT_VALUE-e.$Layout.RIGHT_VALUE,fixed:e.$Layout.LEFT_VALUE,value:0},{index:1,size:e.height-e.$Layout.TOP_VALUE-e.$Layout.BOTTOM_VALUE,fixed:e.$Layout.TOP_VALUE,value:1}],a.call(f,t)}),e.$watch("$EVENT_TIPS",function(e){var n=e.data||[];n.forEach(function(a,n){var f=n%2?"y":"x";t[n][f]=e[f],t[n].value=a,t[n].size=a?c.measure(a).width+10:0}),a.call(f,t)}),e.$watch("$AXIS_TIPS",function(t){var a=e.$EVENT_HOVER,c=t.map(function(t,c){if(!t)return null;if(2===c)return e.$Config[c].data.label(t);var f=Math.abs(n[c].value-(a[n[c].index]-n[c].fixed)/n[c].size)*(t[1]-t[0]);return e.$Config[c].data.label(Math.floor(10*(f+t[0]))/10)});e.$EVENT_TIPS={x:a[0],y:a[1],data:c}})}}var c=e("./../core/utils"),f=e("./../elements/d3SvgAxisTips");t.exports=n},{"./../core/utils":12,"./../elements/d3SvgAxisTips":14}],36:[function(e,t,a){function n(e){var t=e.$Layout,a=t.TOP_VALUE,n=e.height-t.TOP_VALUE-t.BOTTOM_VALUE;return function(e,t,f){e.call(c,0,a,t,n,f)}}var c=e("./../elements/d3SvgBrush");t.exports=n},{"./../elements/d3SvgBrush":15}],37:[function(e,t,a){function n(e){return function(t,a,n,d,i,o){e.$CANDLESTICK_STORAGE=[],t.call(r,[],a,n,d,i,o),e.$watch("CANDLESTICK_DATA",function(t){e.$CANDLESTICK_STORAGE=[t,t]}),e.$watch("resizable",function(){t.call(r,1===e.progress?e.$DATA_STORAGE:e.CANDLESTICK_CHANGE,a,n,d,i,o)}),e.$watch("$CANDLESTICK_STORAGE",function(t){e.$DATA_STORAGE=t[0],e.progress=1,e.$DATA_LOAD=f.guid()}),e.$watch("$DATA_LOAD",function(c){t.call(r,e.$DATA_STORAGE||[],a,n,d,i,o)}),e.$watch("progress",function(t){var a=e.$Extents[2][0],n=e.$Extents[2][1],f=new Date(a);f.setHours("11"),f.setMinutes("30"),f.setSeconds("00");var r=new Date(n);r.setHours("13"),r.setMinutes("00"),r.setSeconds("00");var d=0;d=a>r.getTime()||n<f.getTime()?Math.floor((n-a)*t+a):Math.floor((n-a-54e5)*t+a),d>f.getTime()&&(d+=54e5),e.$CANDLESTICK_SIZE=c(e.$CANDLESTICK_STORAGE[1]||[],d)}),e.$watch("$CANDLESTICK_SIZE",function(c){e.CANDLESTICK_CHANGE=(e.$CANDLESTICK_STORAGE[1]||[]).slice(0,c+1),t.call(r,e.CANDLESTICK_CHANGE||[],a,n,d,i,o)})}}function c(e,t){for(var a=e.length-1,n=0;n<=a;){var c=n+(a-n>>1),f=new Date(e[c][0]).getTime();if(f===t)return c;if(t>f){if(e[c+1]&&t<new Date(e[c+1][0]).getTime())return c;n=c+1}else a=c-1}return-1}var f=e("./../core/utils"),r=e("./../shapes/d3SvgCandlestick");t.exports=n},{"./../core/utils":12,"./../shapes/d3SvgCandlestick":29}],38:[function(e,t,a){function n(e){return function(t,a,n){t.call(c,a(),n()),e.$watch("resizable",function(){t.call(c,a(),n())}),e.$watch("$DATA_LOAD",function(){t.call(c,a(),n())})}}var c=e("./../elements/d3SvgGridLine");t.exports=n},{"./../elements/d3SvgGridLine":17}],39:[function(e,t,a){function n(e){var t=e.$Layout.LEFT_VALUE+1,a=e.$Layout.TOP_VALUE,n=e.width-e.$Layout.LEFT_VALUE-e.$Layout.RIGHT_VALUE,r=e.height-e.$Layout.TOP_VALUE-e.$Layout.BOTTOM_VALUE;return function(d){var i;d.call(f,e.guid,t,a,n*(c.isNumber(e.progress)?e.progress:1),r).select("rect.graph-hover").on("mousemove",function(){var t=d3.mouse(this);e.mouse=[t[0]+e.$Layout.LEFT_VALUE,t[1]+e.$Layout.TOP_VALUE],this.__mouse__=e.mouse}).on("mousedown",function(){var t=d3.mouse(this);e.mouse=[t[0]+e.$Layout.LEFT_VALUE,t[1]+e.$Layout.TOP_VALUE]}).on("mouseout",function(){e.mouse=[-9999,-9999]}).on("touchmove",function(){var t=d3.mouse(this);t[0]>=0&&t[0]<=n*e.progress&&t[1]>=0&&t[1]<=r&&(e.mouse=[t[0]+e.$Layout.LEFT_VALUE,t[1]+e.$Layout.TOP_VALUE],this.__mouse__=e.mouse)}).on("touchend",function(){i&&(clearTimeout(i),i=null),i=setTimeout(function(){e.mouse=[-9999,-9999]},3e3)}),e.$watch("$DATA_LOAD",function(){t=e.$Layout.LEFT_VALUE+1,a=e.$Layout.TOP_VALUE,n=e.width-e.$Layout.LEFT_VALUE-e.$Layout.RIGHT_VALUE,r=e.height-e.$Layout.TOP_VALUE-e.$Layout.BOTTOM_VALUE,d.call(f,e.guid,t,a,n*(c.isNumber(e.progress)?e.progress:1),r)}),e.$watch("resizable",function(){t=e.$Layout.LEFT_VALUE+1,a=e.$Layout.TOP_VALUE,n=e.width-e.$Layout.LEFT_VALUE-e.$Layout.RIGHT_VALUE,r=e.height-e.$Layout.TOP_VALUE-e.$Layout.BOTTOM_VALUE,d.call(f,e.guid,t,a,n*(c.isNumber(e.progress)?e.progress:1),r)}),e.$watch("progress",function(i){d.call(f,e.guid,t,a,n*(c.isNumber(i)?i:1),r)})}}var c=e("./../core/utils"),f=(e("./../core/handler"),e("./../elements/d3SvgHover"));t.exports=n},{"./../core/handler":6,"./../core/utils":12,"./../elements/d3SvgHover":18}],40:[function(e,t,a){function n(e){return function(t,a,n,r,d,i,o){t.call(f,a,n,[],r,d,i,o),e.$watch("resizable",function(){t.call(f,a,n,[e.$DATA_STORAGE||[]],r,d,i,o)}),e.$watch("LINE_DATA",function(t){e.$DATA_STORAGE=t}),e.$watch("$DATA_STORAGE",function(s){e.progress=1,e.$DATA_LOAD=c.guid();var u=c.range(1,e.$DATA_STORAGE[0].length).map(function(t){return e.$DATA_STORAGE.map(function(e){return[e[0],e[t]]})});t.call(f,a,n,u,r,d,i,o)})}}var c=e("./../core/utils"),f=e("./../shapes/d3SvgLine");t.exports=n},{"./../core/utils":12,"./../shapes/d3SvgLine":30}],41:[function(e,t,a){function n(e){return function(t,a,n,r){e.$MARKER_STORAGE=[],t.call(f,[],a,n,r),e.$watch("resizable",function(){t.call(f,e.$MARKER_STORAGE[0]||[],a,n,r)}),e.$watch("MARKER_DATA",function(t){e.$MARKER_STORAGE=[t,t]}),e.$watch("$MARKER_STORAGE",function(e){t.call(f,e[0],a,n,r)}),e.$watch("progress",function(t){var a=e.$Extents[2][0],n=e.$Extents[2][1],f=Math.floor((n-a)*t+a);e.$MARKER_SIZE=c(e.$MARKER_STORAGE[1]||[],f),e.$MARKER_SIZE===-1&&(e.$MARKER_STORAGE=[[],e.$MARKER_STORAGE[1]||[]])}),e.$watch("$MARKER_SIZE",function(t){e.$MARKER_STORAGE=[(e.$MARKER_STORAGE[1]||[]).slice(0,t+1),e.$MARKER_STORAGE[1]||[]],e.$CURRENT_MARKER=(e.$MARKER_STORAGE[1]||[])[t]})}}function c(e,t){for(var a=e.length-1,n=0;n<=a;){var c=n+(a-n>>1),f=new Date(e[c][0]).getTime();if(f===t)return c;if(t>f){if(void 0===e[c+1])return c;if(e[c+1]&&t<new Date(e[c+1][0]).getTime())return c;n=c+1}else a=c-1}return-1}var f=e("./../shapes/d3SvgMarker");t.exports=n},{"./../shapes/d3SvgMarker":31}],42:[function(e,t,a){function n(e){return function(t){t.call(c,[{left:-9999,top:-9999}]),e.$watch("MARKER_ACTIVE",function(e){t.call(c,e)}),e.$watch("resizable",function(){t.call(c,[{left:-9999,top:-9999}])})}}var c=e("./../elements/d3SvgMarkerTips");t.exports=n},{"./../elements/d3SvgMarkerTips":19}],43:[function(e,t,a){function n(e){var t=e.$Layout.LEFT_VALUE+1,a=e.$Layout.TOP_VALUE,n=e.width-e.$Layout.LEFT_VALUE-e.$Layout.RIGHT_VALUE,r=e.height-e.$Layout.TOP_VALUE-e.$Layout.BOTTOM_VALUE;return function(d){d.call(f,e.uid,t,a,n*(c.isNumber(e.progress)?e.progress:1),r),e.$watch("$DATA_LOAD",function(){t=e.$Layout.LEFT_VALUE+1,a=e.$Layout.TOP_VALUE,n=e.width-e.$Layout.LEFT_VALUE-e.$Layout.RIGHT_VALUE,r=e.height-e.$Layout.TOP_VALUE-e.$Layout.BOTTOM_VALUE,d.call(f,e.uid,t,a,n*(c.isNumber(e.progress)?e.progress:1),r)}),e.$watch("resizable",function(){t=e.$Layout.LEFT_VALUE+1,a=e.$Layout.TOP_VALUE,n=e.width-e.$Layout.LEFT_VALUE-e.$Layout.RIGHT_VALUE,r=e.height-e.$Layout.TOP_VALUE-e.$Layout.BOTTOM_VALUE,d.call(f,e.uid,t,a,n*(c.isNumber(e.progress)?e.progress:1),r)}),e.$watch("progress",function(i){d.call(f,e.uid,t,a,n*(c.isNumber(i)?i:1),r)})}}var c=e("./../core/utils"),f=e("./../elements/d3SvgMask");t.exports=n},{"./../core/utils":12,"./../elements/d3SvgMask":20}],44:[function(e,t,a){function n(e){var t=e.$Layout.LEFT_VALUE+1,a=e.$Layout.TOP_VALUE,n=e.width-e.$Layout.LEFT_VALUE-e.$Layout.RIGHT_VALUE,f=e.height-e.$Layout.TOP_VALUE-e.$Layout.BOTTOM_VALUE;return e.$LOAD_MESSAGE={x:n/2+t,y:f/2+a,label:"暂无数据！"},function(r){r.call(c,e.$LOAD_MESSAGE),e.$watch("$DATA_LOAD",function(){e.$LOAD_MESSAGE.label="",r.call(c,e.$LOAD_MESSAGE)}),e.$watch("resizable",function(){t=e.$Layout.LEFT_VALUE+1,a=e.$Layout.TOP_VALUE,n=e.width-e.$Layout.LEFT_VALUE-e.$Layout.RIGHT_VALUE,f=e.height-e.$Layout.TOP_VALUE-e.$Layout.BOTTOM_VALUE,e.$LOAD_MESSAGE.x=n/2+t,e.$LOAD_MESSAGE.y=f/2+a,r.call(c,e.$LOAD_MESSAGE)})}}var c=(e("./../core/utils"),e("./../elements/d3SvgMessage"));t.exports=n},{"./../core/utils":12,"./../elements/d3SvgMessage":21}],45:[function(e,t,a){function n(e,t,a,n){var f=d3.select("#"+e).style("position","relative"),r=c(f,e,t,a);return n.$watch("resizable",function(){r.attr("width",n.width).attr("height",n.height)}),r}var c=(e("./../core/observer"),e("./../elements/d3SvgPaint"));t.exports=n},{"./../core/observer":9,"./../elements/d3SvgPaint":22}],46:[function(e,t,a){function n(e){return function(t,a,n,f,r,d){t.call(c,a,[],n,f,r,d),e.$watch("resizable",function(){t.call(c,a,e.$PATH_STORAGE,n,f,r,d)}),e.$watch("PATH_DATA",function(t){e.$PATH_STORAGE=t}),e.$watch("$PATH_STORAGE",function(i){t.call(c,a,e.$PATH_STORAGE,n,f,r,d)})}}var c=(e("./../core/utils"),e("./../shapes/d3SvgLine"));t.exports=n},{"./../core/utils":12,"./../shapes/d3SvgLine":30}],47:[function(e,t,a){function n(e){var t=[{style:"cursor-line-vertical",y1:e.$Layout.TOP_VALUE,y2:e.height-e.$Layout.BOTTOM_VALUE,x:-9999,y:-9999},{style:"cursor-line-horizontal",x1:e.$Layout.LEFT_VALUE,x2:e.width-e.$Layout.RIGHT_VALUE,x:-9999,y:-9999}];return function(a){a.call(c,t),e.$watch("resizable",function(){t[0].y1=e.$Layout.TOP_VALUE,t[0].y2=e.height-e.$Layout.BOTTOM_VALUE,t[0].x=-9999,t[0].y=-9999,t[1].x1=e.$Layout.LEFT_VALUE,t[1].x2=e.width-e.$Layout.RIGHT_VALUE,t[1].x=-9999,t[1].y=-9999,a.call(c,t)}),e.$watch("$DATA_LOAD",function(){t[0].y1=e.$Layout.TOP_VALUE,t[0].y2=e.height-e.$Layout.BOTTOM_VALUE,t[0].x=-9999,t[0].y=-9999,t[1].x1=e.$Layout.LEFT_VALUE,t[1].x2=e.width-e.$Layout.RIGHT_VALUE,t[1].x=-9999,t[1].y=-9999,a.call(c,t)}),e.$watch("$EVENT_HOVER",function(e){t[0].x=e[0],t[0].y=0,t[1].x=0,t[1].y=e[1],a.call(c,t)})}}var c=e("./../elements/d3SvgPointerEvents");t.exports=n},{"./../elements/d3SvgPointerEvents":23}],48:[function(e,t,a){function n(e){return function(t,a,n,d,i,o){e.$RECT_STORAGE=[],t.call(r,[],a,n,d,i,o),e.$watch("RECT_DATA",function(t){e.$RECT_STORAGE=[t,t]}),e.$watch("resizable",function(){t.call(r,1===e.progress?e.$DATA_STORAGE:e.$VOLUME_CHANGE,a,n,d,i,o)}),e.$watch("$RECT_STORAGE",function(t){e.progress=1,e.$DATA_STORAGE=t[0],e.$DATA_LOAD=f.guid()}),e.$watch("$DATA_LOAD",function(c){t.call(r,e.$DATA_STORAGE||[],a,n,d,i,o)}),e.$watch("progress",function(t){var a=e.$Extents[2][0],n=e.$Extents[2][1],f=new Date(a);f.setHours("11"),f.setMinutes("30"),f.setSeconds("00");var r=new Date(n);r.setHours("13"),r.setMinutes("00"),r.setSeconds("00");var d=0;d=a>r.getTime()||n<f.getTime()?Math.floor((n-a)*t+a):Math.floor((n-a-54e5)*t+a),d>f.getTime()&&(d+=54e5),e.$RECT_SIZE=c(e.$RECT_STORAGE[1]||[],d)}),e.$watch("$RECT_SIZE",function(c){e.$VOLUME_CHANGE=(e.$RECT_STORAGE[1]||[]).slice(0,c+1),t.call(r,e.$VOLUME_CHANGE||[],a,n,d,i,o)})}}function c(e,t){for(var a=e.length-1,n=0;n<=a;){var c=n+(a-n>>1),f=new Date(e[c][0]).getTime();if(f===t)return c;if(t>f){if(e[c+1]&&t<new Date(e[c+1][0]).getTime())return c;n=c+1}else a=c-1}return-1}var f=e("./../core/utils"),r=e("./../shapes/d3SvgRect");t.exports=n},{"./../core/utils":12,"./../shapes/d3SvgRect":33}],49:[function(e,t,a){function n(e){var t=0,a=0,n=0,r=0;return c.$watch("start"+e.guid,function(t){e.$EVENT_START=t}),c.$watch("drag"+e.guid,function(t){e.$EVENT_DRAG=t}),c.$watch("stop"+e.guid,function(t){c.$EventIsSelection&&(e.$EVENT_STOP=t)}),function(c){c.call(f,0,0,0,e.height-e.$Layout.TOP_VALUE-e.$Layout.BOTTOM_VALUE),e.mouse=[-9999,-9999],e.$watch("$EVENT_SELECTION",function(t){var a=e.$Layout.TOP_VALUE,n=e.$Layout.BOTTOM_VALUE;c.call(f,t[0],a,t[1],e.height-a-n)}),e.$watch("resizable",function(t){var a=e.$Layout.TOP_VALUE,n=e.$Layout.BOTTOM_VALUE;c.call(f,t[0],a,0,e.height-a-n)}),e.$watch("progress",function(t){var a=e.$Layout.TOP_VALUE,n=e.$Layout.BOTTOM_VALUE;c.call(f,0,0,0,e.height-a-n)}),e.$watch("$EVENT_START",function(c){n=e.mouse[0],r=e.mouse[1],t=c[0]-n,a=c[1]-r}),e.$watch("$EVENT_DRAG",function(a){var c=e.$Layout.LEFT_VALUE,f=e.$Layout.RIGHT_VALUE,r=Math.min(Math.max(a[0]-t,c),e.width-f),d=Math.floor((e.width-c-f)*e.progress)+c;n>0&&(e.$EVENT_SELECTION=[Math.min(n,r),Math.abs(n-Math.min(r,d))])}),e.$watch("$EVENT_STOP",function(t){var a=e.$Layout.LEFT_VALUE,c=e.$Layout.RIGHT_VALUE,f=e.width-c-a,r=e.$Extents[2];if(t[0]===n)e.$EVENT_SELECTION=[n,0];else if(e.$EVENT_SELECTION){var d=e.$EVENT_SELECTION[0],i=e.$EVENT_SELECTION[1];if(r[1]-r[0]!==0){var o=(d-a)/f*(r[1]-r[0]),s=(d+i-a)/f*(r[1]-r[0]);1===e.progress&&console.log("TIME:",new Date(Math.floor(10*(o+r[0]))/10),new Date(Math.floor(10*(s+r[0]))/10))}}})}}var c=e("./../core/draggable"),f=e("./../elements/d3SvgSelection");t.exports=n},{"./../core/draggable":5,"./../elements/d3SvgSelection":24}]},{},[1])(1)});

