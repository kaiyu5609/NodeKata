{"version":3,"sources":["../../../node_modules/browserify/node_modules/browser-pack/_prelude.js","cn.szse.chart.js","exports.js","src/cn/szse/chart/core/animate.js","src/cn/szse/chart/core/colors.js","src/cn/szse/chart/core/dataset.js","src/cn/szse/chart/core/draggable.js","src/cn/szse/chart/core/handler.js","src/cn/szse/chart/core/matrix.js","src/cn/szse/chart/core/mouse.js","src/cn/szse/chart/core/observer.js","src/cn/szse/chart/core/resizable.js","src/cn/szse/chart/core/themes.js","src/cn/szse/chart/core/utils.js","src/cn/szse/chart/elements/d3SvgAxisNodes.js","src/cn/szse/chart/elements/d3SvgAxisTips.js","src/cn/szse/chart/elements/d3SvgBrush.js","src/cn/szse/chart/elements/d3SvgDesc.js","src/cn/szse/chart/elements/d3SvgGridLine.js","src/cn/szse/chart/elements/d3SvgHover.js","src/cn/szse/chart/elements/d3SvgMarkerTips.js","src/cn/szse/chart/elements/d3SvgMask.js","src/cn/szse/chart/elements/d3SvgMessage.js","src/cn/szse/chart/elements/d3SvgPaint.js","src/cn/szse/chart/elements/d3SvgPointerEvents.js","src/cn/szse/chart/elements/d3SvgSelection.js","src/cn/szse/chart/members/brush/Brush.js","src/cn/szse/chart/members/candlestick/Candlestick.js","src/cn/szse/chart/members/timeseries/TimeSeries.js","src/cn/szse/chart/members/volume/Volume.js","src/cn/szse/chart/shapes/d3SvgCandlestick.js","src/cn/szse/chart/shapes/d3SvgLine.js","src/cn/szse/chart/shapes/d3SvgMarker.js","src/cn/szse/chart/shapes/d3SvgPoint.js","src/cn/szse/chart/shapes/d3SvgRect.js","src/cn/szse/chart/widget/d3WidgetAxisNodes.js","src/cn/szse/chart/widget/d3WidgetAxisTips.js","src/cn/szse/chart/widget/d3WidgetBrush.js","src/cn/szse/chart/widget/d3WidgetCandlestick.js","src/cn/szse/chart/widget/d3WidgetGridLine.js","src/cn/szse/chart/widget/d3WidgetHover.js","src/cn/szse/chart/widget/d3WidgetLine.js","src/cn/szse/chart/widget/d3WidgetMarker.js","src/cn/szse/chart/widget/d3WidgetMarkerTips.js","src/cn/szse/chart/widget/d3WidgetMask.js","src/cn/szse/chart/widget/d3WidgetMessage.js","src/cn/szse/chart/widget/d3WidgetPaint.js","src/cn/szse/chart/widget/d3WidgetPath.js","src/cn/szse/chart/widget/d3WidgetPointerEvents.js","src/cn/szse/chart/widget/d3WidgetRect.js","src/cn/szse/chart/widget/d3WidgetSelection.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","cn","szse","chart","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"utils","matrix","themes","observer","animate","handler","colors","dataset","mouse","draggable","d3SvgDesc","d3SvgMask","d3SvgPaint","d3SvgHover","d3SvgSelection","d3SvgGridLine","d3SvgAxisTips","d3SvgMessage","d3SvgAxisNodes","d3SvgPointerEvents","d3SvgLine","d3SvgRect","d3SvgPoint","d3SvgMarker","d3SvgCandlestick","d3WidgetMask","d3WidgetRect","d3WidgetHover","d3WidgetSelection","d3WidgetPaint","d3WidgetMarker","d3WidgetLine","d3WidgetMessage","d3WidgetAxisTips","d3WidgetGridLine","d3WidgetAxisNodes","d3WidgetCandlestick","d3WidgetPointerEvents","Volume","Brush","TimeSeries","Candlestick","core","elements","desc","mask","paint","hover","tips","axis","selection","gridline","message","pointerEvents","shapes","line","point","rect","marker","candlestick","widget","ticks","./src/cn/szse/chart/core/animate","./src/cn/szse/chart/core/colors","./src/cn/szse/chart/core/dataset","./src/cn/szse/chart/core/draggable","./src/cn/szse/chart/core/handler","./src/cn/szse/chart/core/matrix","./src/cn/szse/chart/core/mouse","./src/cn/szse/chart/core/observer","./src/cn/szse/chart/core/themes","./src/cn/szse/chart/core/utils","./src/cn/szse/chart/elements/d3SvgAxisNodes","./src/cn/szse/chart/elements/d3SvgAxisTips","./src/cn/szse/chart/elements/d3SvgDesc","./src/cn/szse/chart/elements/d3SvgGridLine","./src/cn/szse/chart/elements/d3SvgHover","./src/cn/szse/chart/elements/d3SvgMask","./src/cn/szse/chart/elements/d3SvgMessage","./src/cn/szse/chart/elements/d3SvgPaint","./src/cn/szse/chart/elements/d3SvgPointerEvents","./src/cn/szse/chart/elements/d3SvgSelection","./src/cn/szse/chart/members/brush/Brush","./src/cn/szse/chart/members/candlestick/Candlestick","./src/cn/szse/chart/members/timeseries/TimeSeries","./src/cn/szse/chart/members/volume/Volume","./src/cn/szse/chart/shapes/d3SvgCandlestick","./src/cn/szse/chart/shapes/d3SvgLine","./src/cn/szse/chart/shapes/d3SvgMarker","./src/cn/szse/chart/shapes/d3SvgPoint","./src/cn/szse/chart/shapes/d3SvgRect","./src/cn/szse/chart/widget/d3WidgetAxisNodes","./src/cn/szse/chart/widget/d3WidgetAxisTips","./src/cn/szse/chart/widget/d3WidgetCandlestick","./src/cn/szse/chart/widget/d3WidgetGridLine","./src/cn/szse/chart/widget/d3WidgetHover","./src/cn/szse/chart/widget/d3WidgetLine","./src/cn/szse/chart/widget/d3WidgetMarker","./src/cn/szse/chart/widget/d3WidgetMask","./src/cn/szse/chart/widget/d3WidgetMessage","./src/cn/szse/chart/widget/d3WidgetPaint","./src/cn/szse/chart/widget/d3WidgetPointerEvents","./src/cn/szse/chart/widget/d3WidgetRect","./src/cn/szse/chart/widget/d3WidgetSelection",2,"linear","watch","percent","step","state","requestAnimationFrame","play","pause","gotoAndPlay","x","gotoAndStop","controls","duration","count",3,"d3","10","20","20b","20c","YlGn",4,5,6,7,8,9,"YlGnBu","GnBu","BuGn","PuBuGn","PuBu","BuPu","RdPu","PuRd","OrRd","YlOrRd","YlOrBr","Purples","Blues","Greens","Oranges","Reds","Greys","PuOr",11,"BrBG","PRGn","PiYG","RdBu","RdGy","RdYlBu","Spectral","RdYlGn","Accent","Dark2","Paired",12,"Pastel1","Pastel2","Set1","Set2","Set3","Scope","options","data","scope","width","height","scales","domain","ranges","scale","map","opts","extent","type","d","Date","index","getTime","label","$Layout","labels","orient","left","LEFT_VALUE","right","RIGHT_VALUE","$Extents","BOTTOM_VALUE","TOP_VALUE","forEach","range","$Scale","get","undefined","$Config","$watch","$DATA_STORAGE","DATA_GS","./../core/matrix","./../core/observer","./../core/utils","document","event","target","tagName","toLocaleLowerCase","uid","id","pageX","pageY","$EventIsSelection","./handler","./observer","callEvent","callback","each","element","addEventListener","attachEvent","./utils","isOverlap","result","meanValue","size","flag","prev","current","isOverFlow","pixel","value","start","Math","sqrt","hasOverFlow","getXLabelPixel","deg","max","getLabelsPixel","measure","legendLineHeight","floor","matrixLeft","tickPixelList","lgdPixelList","topTicks","rhtTicks","btmTicks","lftTicks","topTicksFirst","topTicksLast","btmTicksFirst","btmTicksLast","lftTicksMax","rhtTicksMax","lps","LEFT_DEGRESS","RIGHT_DEGRESS","topMeanValue","btmMeanValue","layoutTop","layoutBtm","TOP_DEGRESS","BOTTOM_DEGRESS","matrixRight","matrixTop","sum","matrixBtm","legend","getDis","point1","point2","y","isPinch","startPoint","offset","__mouse__","touches","nowPoint","startDis","nowDis","targetTouches","defineProperty","name","watchers","getter","setter","newValue","oldValue","Object","set","error","$$watchers","prototype","cb","hasOwnProperty","push","resizable","resize","number","NaN","isNumber","isNaN","parseFloat","isFinite","ascending","b","bisect","lo","hi","arguments","mid","object","key","array","c","stack","previous","constant","min","shuffle","i0","i1","m","random","toFixed","keys","values","entries","uniform","centroid","polygon","k","contains","x1","y1","p","x0","y0","inside","stop","ceil","Array","tickStep","first","last","splice","step0","abs","step1","pow","log","LN10","e10","e5","e2","buffer","apply","ordinal","rangeBand","tick","interval","local","round","date","d0","d1","t0","t1","dt","time","times","scaleDate","identity","tickMethod","span","TIME_STEPS","TIME_LIST","methods","year","method","scaleMilliseconds","extime","timer","parse","band","gs","exscale","exclude","format","hms","getFullYear","getMonth","getDate","gather","dataFilter","item","getSeconds","getMinutes","version","guid","now","toString","canvas","createElement","font","context","getContext","measureText","second","setTime","minute","hour","timezone","getTimezoneOffset","getHours","day","setFullYear","setDate","dayOfYear","getDay","week","sunday","month","setMonth",13,"selectAll","enter","append","attr","exit","remove","items","style","anchor","text","translate","rotate",14,"TipsPathData","TEXT_POINTS","align",15,"d3SvgBrush","top","h","wrap","brush","svg","on","console",16,"describe",17,"gridLineData","scaleX","scaleY","rangeX","ticksX","rangeY","ticksY","y2","x2","grid",18,19,"d3SvgMarkerTips","html","icon","defs",21,22,23,"pointer","lines","CLASS_MAPS","CLASS_LIST","join",24,25,"_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","protoProps","staticProps","d3WidgetBrush","defined","progress","$WATCHER","LINE_DATA","./../../core/colors","./../../core/dataset","./../../core/utils","./../../widget/d3WidgetAxisNodes","./../../widget/d3WidgetAxisTips","./../../widget/d3WidgetBrush","./../../widget/d3WidgetGridLine","./../../widget/d3WidgetHover","./../../widget/d3WidgetLine","./../../widget/d3WidgetMarker","./../../widget/d3WidgetMask","./../../widget/d3WidgetMessage","./../../widget/d3WidgetPaint","./../../widget/d3WidgetPointerEvents","./../../widget/d3WidgetSelection",26,"d3WidgetPath","d3WidgetMarkerTips","markerY","lineY","w","domEl","offsetWidth","getElementById","wrapper","select","element_tips","tooltips","layers","layerX","layerY","node","CANDLESTICK_DATA","$EVENT_HOVER","$AXIS_TIPS","removeAttribute","display","innerHTML","$EVENT_TIPS","params","toLocaleUpperCase","$CURRENT_MARKER","querySelector","onclick","__data__","MARKER_ACTIVE","DATA_FILTER","startTime","lastTime","excludeStart","setHours","setMinutes","setSeconds","excludeStop","filter","MARKER_DATA","PATH_DATA","./../../core/resizable","./../../widget/d3WidgetCandlestick","./../../widget/d3WidgetMarkerTips","./../../widget/d3WidgetPath","./../../widget/d3WidgetRect",27,28,"RECT_DATA",29,"series","drawCandlesShape","getValues","high","open","low","close",30,"d3SvgPath","smooth","interpolate","eid","skin","./../core/colors","./../core/themes",31,"markerC","markerX","path",32,"points",33,34,"$scope","getScaleTicks","ANCHORS","POINTS","DEGRESS","transform","./../elements/d3SvgAxisNodes",35,"TIPS_PIXEL","fixed","v","mod","extents","num","./../elements/d3SvgAxisTips",36,"./../elements/d3SvgBrush",37,"$CANDLESTICK_STORAGE","CANDLESTICK_CHANGE","$DATA_LOAD","$CANDLESTICK_SIZE","binary","slice","dest","./../shapes/d3SvgCandlestick",38,"./../elements/d3SvgGridLine",39,"clearTimeout","setTimeout","./../core/handler","./../elements/d3SvgHover",40,"./../shapes/d3SvgLine",41,"$MARKER_STORAGE","$MARKER_SIZE","./../shapes/d3SvgMarker",42,"./../elements/d3SvgMarkerTips",43,"./../elements/d3SvgMask",44,"$LOAD_MESSAGE","./../elements/d3SvgMessage",45,"./../elements/d3SvgPaint",46,"$PATH_STORAGE",47,"./../elements/d3SvgPointerEvents",48,"$RECT_STORAGE","$VOLUME_CHANGE","$RECT_SIZE","./../shapes/d3SvgRect",49,"offsetLeft","offsetTop","startX","startY","$EVENT_START","$EVENT_DRAG","$EVENT_STOP","events","$EVENT_SELECTION","./../core/draggable","./../elements/d3SvgSelection"],"mappings":"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","file":"cn.szse.chart.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g=(g.cn||(g.cn = {}));g=(g.szse||(g.szse = {}));g=(g.chart||(g.chart = {}));g.extends = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n/**\r\n *\r\n *\r\n */\n\nvar utils = require('./src/cn/szse/chart/core/utils');\nvar matrix = require('./src/cn/szse/chart/core/matrix');\nvar themes = require('./src/cn/szse/chart/core/themes');\nvar observer = require('./src/cn/szse/chart/core/observer');\nvar animate = require('./src/cn/szse/chart/core/animate');\nvar handler = require('./src/cn/szse/chart/core/handler');\nvar colors = require('./src/cn/szse/chart/core/colors');\nvar dataset = require('./src/cn/szse/chart/core/dataset');\nvar mouse = require('./src/cn/szse/chart/core/mouse');\nvar draggable = require('./src/cn/szse/chart/core/draggable');\n\nvar d3SvgDesc = require('./src/cn/szse/chart/elements/d3SvgDesc');\nvar d3SvgMask = require('./src/cn/szse/chart/elements/d3SvgMask');\nvar d3SvgPaint = require('./src/cn/szse/chart/elements/d3SvgPaint');\nvar d3SvgHover = require('./src/cn/szse/chart/elements/d3SvgHover');\nvar d3SvgSelection = require('./src/cn/szse/chart/elements/d3SvgSelection');\nvar d3SvgGridLine = require('./src/cn/szse/chart/elements/d3SvgGridLine');\nvar d3SvgAxisTips = require('./src/cn/szse/chart/elements/d3SvgAxisTips');\nvar d3SvgMessage = require('./src/cn/szse/chart/elements/d3SvgMessage');\nvar d3SvgAxisNodes = require('./src/cn/szse/chart/elements/d3SvgAxisNodes');\nvar d3SvgPointerEvents = require('./src/cn/szse/chart/elements/d3SvgPointerEvents');\n\nvar d3SvgLine = require('./src/cn/szse/chart/shapes/d3SvgLine');\nvar d3SvgRect = require('./src/cn/szse/chart/shapes/d3SvgRect');\nvar d3SvgPoint = require('./src/cn/szse/chart/shapes/d3SvgPoint');\nvar d3SvgMarker = require('./src/cn/szse/chart/shapes/d3SvgMarker');\nvar d3SvgCandlestick = require('./src/cn/szse/chart/shapes/d3SvgCandlestick');\n\nvar d3WidgetMask = require('./src/cn/szse/chart/widget/d3WidgetMask');\nvar d3WidgetRect = require('./src/cn/szse/chart/widget/d3WidgetRect');\nvar d3WidgetHover = require('./src/cn/szse/chart/widget/d3WidgetHover');\nvar d3WidgetSelection = require('./src/cn/szse/chart/widget/d3WidgetSelection');\nvar d3WidgetPaint = require('./src/cn/szse/chart/widget/d3WidgetPaint');\nvar d3WidgetMarker = require('./src/cn/szse/chart/widget/d3WidgetMarker');\nvar d3WidgetLine = require('./src/cn/szse/chart/widget/d3WidgetLine');\nvar d3WidgetMessage = require('./src/cn/szse/chart/widget/d3WidgetMessage');\nvar d3WidgetAxisTips = require('./src/cn/szse/chart/widget/d3WidgetAxisTips');\nvar d3WidgetGridLine = require('./src/cn/szse/chart/widget/d3WidgetGridLine');\nvar d3WidgetAxisNodes = require('./src/cn/szse/chart/widget/d3WidgetAxisNodes');\nvar d3WidgetCandlestick = require('./src/cn/szse/chart/widget/d3WidgetCandlestick');\nvar d3WidgetPointerEvents = require('./src/cn/szse/chart/widget/d3WidgetPointerEvents');\n\nvar Volume = require('./src/cn/szse/chart/members/volume/Volume');\nvar Brush = require('./src/cn/szse/chart/members/brush/Brush');\nvar TimeSeries = require('./src/cn/szse/chart/members/timeseries/TimeSeries');\nvar Candlestick = require('./src/cn/szse/chart/members/candlestick/Candlestick');\n\nmodule.exports = {\n\tcore: {\n\t\tutils: utils,\n\t\tobserver: observer,\n\t\tanimate: animate,\n\t\tmatrix: matrix,\n\t\thandler: handler,\n\t\tcolors: colors,\n\t\tdataset: dataset,\n\t\tdraggable: draggable,\n\t\tthemes: themes\n\t},\n\n\telements: {\n\t\tdesc: d3SvgDesc,\n\t\tmask: d3SvgMask,\n\t\tpaint: d3SvgPaint,\n\t\thover: d3SvgHover,\n\t\ttips: d3SvgAxisTips,\n\t\taxis: d3SvgAxisNodes,\n\t\tselection: d3SvgSelection,\n\t\tgridline: d3SvgGridLine,\n\t\tmessage: d3SvgMessage,\n\t\tpointerEvents: d3SvgPointerEvents\n\t},\n\n\tshapes: {\n\t\tline: d3SvgLine,\n\t\tpoint: d3SvgPoint,\n\t\trect: d3SvgRect,\n\t\tmarker: d3SvgMarker,\n\t\tcandlestick: d3SvgCandlestick\n\t},\n\n\twidget: {\n\t\tmask: d3WidgetMask,\n\t\thover: d3WidgetHover,\n\t\tpaint: d3WidgetPaint,\n\t\trect: d3WidgetRect,\n\t\tmarker: d3WidgetMarker,\n\t\tline: d3WidgetLine,\n\t\tgridline: d3WidgetGridLine,\n\t\tticks: d3WidgetAxisNodes,\n\t\ttips: d3WidgetAxisTips,\n\t\tmessage: d3WidgetMessage,\n\t\tselection: d3WidgetSelection,\n\t\tcandlestick: d3WidgetCandlestick,\n\t\tpointerEvents: d3WidgetPointerEvents\n\t},\n\tmouse: mouse,\n\n\tBrush: Brush,\n\tVolume: Volume,\n\tTimeSeries: TimeSeries,\n\tCandlestick: Candlestick\n\n};\n\n},{\"./src/cn/szse/chart/core/animate\":2,\"./src/cn/szse/chart/core/colors\":3,\"./src/cn/szse/chart/core/dataset\":4,\"./src/cn/szse/chart/core/draggable\":5,\"./src/cn/szse/chart/core/handler\":6,\"./src/cn/szse/chart/core/matrix\":7,\"./src/cn/szse/chart/core/mouse\":8,\"./src/cn/szse/chart/core/observer\":9,\"./src/cn/szse/chart/core/themes\":11,\"./src/cn/szse/chart/core/utils\":12,\"./src/cn/szse/chart/elements/d3SvgAxisNodes\":13,\"./src/cn/szse/chart/elements/d3SvgAxisTips\":14,\"./src/cn/szse/chart/elements/d3SvgDesc\":16,\"./src/cn/szse/chart/elements/d3SvgGridLine\":17,\"./src/cn/szse/chart/elements/d3SvgHover\":18,\"./src/cn/szse/chart/elements/d3SvgMask\":20,\"./src/cn/szse/chart/elements/d3SvgMessage\":21,\"./src/cn/szse/chart/elements/d3SvgPaint\":22,\"./src/cn/szse/chart/elements/d3SvgPointerEvents\":23,\"./src/cn/szse/chart/elements/d3SvgSelection\":24,\"./src/cn/szse/chart/members/brush/Brush\":25,\"./src/cn/szse/chart/members/candlestick/Candlestick\":26,\"./src/cn/szse/chart/members/timeseries/TimeSeries\":27,\"./src/cn/szse/chart/members/volume/Volume\":28,\"./src/cn/szse/chart/shapes/d3SvgCandlestick\":29,\"./src/cn/szse/chart/shapes/d3SvgLine\":30,\"./src/cn/szse/chart/shapes/d3SvgMarker\":31,\"./src/cn/szse/chart/shapes/d3SvgPoint\":32,\"./src/cn/szse/chart/shapes/d3SvgRect\":33,\"./src/cn/szse/chart/widget/d3WidgetAxisNodes\":34,\"./src/cn/szse/chart/widget/d3WidgetAxisTips\":35,\"./src/cn/szse/chart/widget/d3WidgetCandlestick\":37,\"./src/cn/szse/chart/widget/d3WidgetGridLine\":38,\"./src/cn/szse/chart/widget/d3WidgetHover\":39,\"./src/cn/szse/chart/widget/d3WidgetLine\":40,\"./src/cn/szse/chart/widget/d3WidgetMarker\":41,\"./src/cn/szse/chart/widget/d3WidgetMask\":43,\"./src/cn/szse/chart/widget/d3WidgetMessage\":44,\"./src/cn/szse/chart/widget/d3WidgetPaint\":45,\"./src/cn/szse/chart/widget/d3WidgetPointerEvents\":47,\"./src/cn/szse/chart/widget/d3WidgetRect\":48,\"./src/cn/szse/chart/widget/d3WidgetSelection\":49}],2:[function(require,module,exports){\n'use strict';\n\nvar linear = function linear(t) {\n\treturn t;\n};\n\n/**\r\n * 图形动画\r\n * @public\t \r\n * @method animate\r\n * @returns {Object} controls\r\n */\nvar animate = function animate() {\n\tvar percent = 0;\n\tvar step = 0.01;\n\tvar state = false;\n\tvar watch;\n\n\t/**\r\n  * 动画执行 `animate`\r\n  */\n\tvar animate = function animate() {\n\t\tpercent += step;\n\t\tif (percent <= 1 && state) {\n\t\t\twatch(+linear(percent));\n\t\t\trequestAnimationFrame(animate);\n\t\t} else {\n\t\t\twatch(1.0);\n\t\t\tstate = false;\n\t\t}\n\t};\n\n\t/**\r\n  * 动画播放 `play`\r\n  */\n\tvar play = function play() {\n\t\tif (state === true) {\n\t\t\treturn;\n\t\t}\n\t\tstate = true;\n\t\tanimate();\n\t};\n\n\t/**\r\n  * 动画暂停 `pause`\r\n  */\n\tvar pause = function pause() {\n\t\tstate = false;\n\t};\n\n\t/**\r\n  * 动画跳转并播放 `gotoAndPlay`\r\n  */\n\tvar gotoAndPlay = function gotoAndPlay(x) {\n\t\tpercent = x;\n\t\tplay();\n\t};\n\n\t/**\r\n  * 动画跳转并停止 `gotoAndStop`\r\n  */\n\tvar gotoAndStop = function gotoAndStop(x) {\n\t\tpercent = x;\n\t\tpause();\n\t};\n\n\t/**\r\n  * 动画控制 `controls`\r\n  */\n\tvar controls = function controls() {\n\t\treturn {\n\t\t\tplay: play,\n\t\t\tpause: pause,\n\t\t\tgotoAndPlay: gotoAndPlay,\n\t\t\tgotoAndStop: gotoAndStop\n\t\t};\n\t};\n\n\t/**\r\n  * 动画时长 `duration`\r\n  */\n\tcontrols.duration = function (x) {\n\t\tvar count = (x || 500) * 60 / 1000;\n\t\tstep = 1 / count;\n\t\treturn controls;\n\t};\n\n\t/**\r\n  * 动画监听 `watch`\r\n  */\n\tcontrols.watch = function (x) {\n\t\twatch = x;\n\t\treturn controls;\n\t};\n\n\treturn controls;\n};\n\n/**\r\n * Export `animate`\r\n */\nmodule.exports = animate;\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nvar colors = {\n\td3: {\n\t\t\"10\": [\"#1f77b4\", \"#ff7f0e\", \"#2ca02c\", \"#d62728\", \"#9467bd\", \"#8c564b\", \"#e377c2\", \"#7f7f7f\", \"#bcbd22\", \"#17becf\"],\n\t\t\"20\": [\"#1f77b4\", \"#aec7e8\", \"#ff7f0e\", \"#ffbb78\", \"#2ca02c\", \"#98df8a\", \"#d62728\", \"#ff9896\", \"#9467bd\", \"#c5b0d5\", \"#8c564b\", \"#c49c94\", \"#e377c2\", \"#f7b6d2\", \"#7f7f7f\", \"#c7c7c7\", \"#bcbd22\", \"#dbdb8d\", \"#17becf\", \"#9edae5\"],\n\t\t\"20b\": [\"#393b79\", \"#5254a3\", \"#6b6ecf\", \"#9c9ede\", \"#637939\", \"#8ca252\", \"#b5cf6b\", \"#cedb9c\", \"#8c6d31\", \"#bd9e39\", \"#e7ba52\", \"#e7cb94\", \"#843c39\", \"#ad494a\", \"#d6616b\", \"#e7969c\", \"#7b4173\", \"#a55194\", \"#ce6dbd\", \"#de9ed6\"],\n\t\t\"20c\": [\"#3182bd\", \"#6baed6\", \"#9ecae1\", \"#c6dbef\", \"#e6550d\", \"#fd8d3c\", \"#fdae6b\", \"#fdd0a2\", \"#31a354\", \"#74c476\", \"#a1d99b\", \"#c7e9c0\", \"#756bb1\", \"#9e9ac8\", \"#bcbddc\", \"#dadaeb\", \"#636363\", \"#969696\", \"#bdbdbd\", \"#d9d9d9\"]\n\t},\n\t// This product includes color specifications and designs developed by Cynthia Brewer (http://colorbrewer.org/).\n\tYlGn: {\n\t\t3: [\"#f7fcb9\", \"#addd8e\", \"#31a354\"],\n\t\t4: [\"#ffffcc\", \"#c2e699\", \"#78c679\", \"#238443\"],\n\t\t5: [\"#ffffcc\", \"#c2e699\", \"#78c679\", \"#31a354\", \"#006837\"],\n\t\t6: [\"#ffffcc\", \"#d9f0a3\", \"#addd8e\", \"#78c679\", \"#31a354\", \"#006837\"],\n\t\t7: [\"#ffffcc\", \"#d9f0a3\", \"#addd8e\", \"#78c679\", \"#41ab5d\", \"#238443\", \"#005a32\"],\n\t\t8: [\"#ffffe5\", \"#f7fcb9\", \"#d9f0a3\", \"#addd8e\", \"#78c679\", \"#41ab5d\", \"#238443\", \"#005a32\"],\n\t\t9: [\"#ffffe5\", \"#f7fcb9\", \"#d9f0a3\", \"#addd8e\", \"#78c679\", \"#41ab5d\", \"#238443\", \"#006837\", \"#004529\"]\n\t},\n\tYlGnBu: {\n\t\t3: [\"#edf8b1\", \"#7fcdbb\", \"#2c7fb8\"],\n\t\t4: [\"#ffffcc\", \"#a1dab4\", \"#41b6c4\", \"#225ea8\"],\n\t\t5: [\"#ffffcc\", \"#a1dab4\", \"#41b6c4\", \"#2c7fb8\", \"#253494\"],\n\t\t6: [\"#ffffcc\", \"#c7e9b4\", \"#7fcdbb\", \"#41b6c4\", \"#2c7fb8\", \"#253494\"],\n\t\t7: [\"#ffffcc\", \"#c7e9b4\", \"#7fcdbb\", \"#41b6c4\", \"#1d91c0\", \"#225ea8\", \"#0c2c84\"],\n\t\t8: [\"#ffffd9\", \"#edf8b1\", \"#c7e9b4\", \"#7fcdbb\", \"#41b6c4\", \"#1d91c0\", \"#225ea8\", \"#0c2c84\"],\n\t\t9: [\"#ffffd9\", \"#edf8b1\", \"#c7e9b4\", \"#7fcdbb\", \"#41b6c4\", \"#1d91c0\", \"#225ea8\", \"#253494\", \"#081d58\"]\n\t},\n\tGnBu: {\n\t\t3: [\"#e0f3db\", \"#a8ddb5\", \"#43a2ca\"],\n\t\t4: [\"#f0f9e8\", \"#bae4bc\", \"#7bccc4\", \"#2b8cbe\"],\n\t\t5: [\"#f0f9e8\", \"#bae4bc\", \"#7bccc4\", \"#43a2ca\", \"#0868ac\"],\n\t\t6: [\"#f0f9e8\", \"#ccebc5\", \"#a8ddb5\", \"#7bccc4\", \"#43a2ca\", \"#0868ac\"],\n\t\t7: [\"#f0f9e8\", \"#ccebc5\", \"#a8ddb5\", \"#7bccc4\", \"#4eb3d3\", \"#2b8cbe\", \"#08589e\"],\n\t\t8: [\"#f7fcf0\", \"#e0f3db\", \"#ccebc5\", \"#a8ddb5\", \"#7bccc4\", \"#4eb3d3\", \"#2b8cbe\", \"#08589e\"],\n\t\t9: [\"#f7fcf0\", \"#e0f3db\", \"#ccebc5\", \"#a8ddb5\", \"#7bccc4\", \"#4eb3d3\", \"#2b8cbe\", \"#0868ac\", \"#084081\"]\n\t},\n\tBuGn: {\n\t\t3: [\"#e5f5f9\", \"#99d8c9\", \"#2ca25f\"],\n\t\t4: [\"#edf8fb\", \"#b2e2e2\", \"#66c2a4\", \"#238b45\"],\n\t\t5: [\"#edf8fb\", \"#b2e2e2\", \"#66c2a4\", \"#2ca25f\", \"#006d2c\"],\n\t\t6: [\"#edf8fb\", \"#ccece6\", \"#99d8c9\", \"#66c2a4\", \"#2ca25f\", \"#006d2c\"],\n\t\t7: [\"#edf8fb\", \"#ccece6\", \"#99d8c9\", \"#66c2a4\", \"#41ae76\", \"#238b45\", \"#005824\"],\n\t\t8: [\"#f7fcfd\", \"#e5f5f9\", \"#ccece6\", \"#99d8c9\", \"#66c2a4\", \"#41ae76\", \"#238b45\", \"#005824\"],\n\t\t9: [\"#f7fcfd\", \"#e5f5f9\", \"#ccece6\", \"#99d8c9\", \"#66c2a4\", \"#41ae76\", \"#238b45\", \"#006d2c\", \"#00441b\"]\n\t},\n\tPuBuGn: {\n\t\t3: [\"#ece2f0\", \"#a6bddb\", \"#1c9099\"],\n\t\t4: [\"#f6eff7\", \"#bdc9e1\", \"#67a9cf\", \"#02818a\"],\n\t\t5: [\"#f6eff7\", \"#bdc9e1\", \"#67a9cf\", \"#1c9099\", \"#016c59\"],\n\t\t6: [\"#f6eff7\", \"#d0d1e6\", \"#a6bddb\", \"#67a9cf\", \"#1c9099\", \"#016c59\"],\n\t\t7: [\"#f6eff7\", \"#d0d1e6\", \"#a6bddb\", \"#67a9cf\", \"#3690c0\", \"#02818a\", \"#016450\"],\n\t\t8: [\"#fff7fb\", \"#ece2f0\", \"#d0d1e6\", \"#a6bddb\", \"#67a9cf\", \"#3690c0\", \"#02818a\", \"#016450\"],\n\t\t9: [\"#fff7fb\", \"#ece2f0\", \"#d0d1e6\", \"#a6bddb\", \"#67a9cf\", \"#3690c0\", \"#02818a\", \"#016c59\", \"#014636\"]\n\t},\n\tPuBu: {\n\t\t3: [\"#ece7f2\", \"#a6bddb\", \"#2b8cbe\"],\n\t\t4: [\"#f1eef6\", \"#bdc9e1\", \"#74a9cf\", \"#0570b0\"],\n\t\t5: [\"#f1eef6\", \"#bdc9e1\", \"#74a9cf\", \"#2b8cbe\", \"#045a8d\"],\n\t\t6: [\"#f1eef6\", \"#d0d1e6\", \"#a6bddb\", \"#74a9cf\", \"#2b8cbe\", \"#045a8d\"],\n\t\t7: [\"#f1eef6\", \"#d0d1e6\", \"#a6bddb\", \"#74a9cf\", \"#3690c0\", \"#0570b0\", \"#034e7b\"],\n\t\t8: [\"#fff7fb\", \"#ece7f2\", \"#d0d1e6\", \"#a6bddb\", \"#74a9cf\", \"#3690c0\", \"#0570b0\", \"#034e7b\"],\n\t\t9: [\"#fff7fb\", \"#ece7f2\", \"#d0d1e6\", \"#a6bddb\", \"#74a9cf\", \"#3690c0\", \"#0570b0\", \"#045a8d\", \"#023858\"]\n\t},\n\tBuPu: {\n\t\t3: [\"#e0ecf4\", \"#9ebcda\", \"#8856a7\"],\n\t\t4: [\"#edf8fb\", \"#b3cde3\", \"#8c96c6\", \"#88419d\"],\n\t\t5: [\"#edf8fb\", \"#b3cde3\", \"#8c96c6\", \"#8856a7\", \"#810f7c\"],\n\t\t6: [\"#edf8fb\", \"#bfd3e6\", \"#9ebcda\", \"#8c96c6\", \"#8856a7\", \"#810f7c\"],\n\t\t7: [\"#edf8fb\", \"#bfd3e6\", \"#9ebcda\", \"#8c96c6\", \"#8c6bb1\", \"#88419d\", \"#6e016b\"],\n\t\t8: [\"#f7fcfd\", \"#e0ecf4\", \"#bfd3e6\", \"#9ebcda\", \"#8c96c6\", \"#8c6bb1\", \"#88419d\", \"#6e016b\"],\n\t\t9: [\"#f7fcfd\", \"#e0ecf4\", \"#bfd3e6\", \"#9ebcda\", \"#8c96c6\", \"#8c6bb1\", \"#88419d\", \"#810f7c\", \"#4d004b\"]\n\t},\n\tRdPu: {\n\t\t3: [\"#fde0dd\", \"#fa9fb5\", \"#c51b8a\"],\n\t\t4: [\"#feebe2\", \"#fbb4b9\", \"#f768a1\", \"#ae017e\"],\n\t\t5: [\"#feebe2\", \"#fbb4b9\", \"#f768a1\", \"#c51b8a\", \"#7a0177\"],\n\t\t6: [\"#feebe2\", \"#fcc5c0\", \"#fa9fb5\", \"#f768a1\", \"#c51b8a\", \"#7a0177\"],\n\t\t7: [\"#feebe2\", \"#fcc5c0\", \"#fa9fb5\", \"#f768a1\", \"#dd3497\", \"#ae017e\", \"#7a0177\"],\n\t\t8: [\"#fff7f3\", \"#fde0dd\", \"#fcc5c0\", \"#fa9fb5\", \"#f768a1\", \"#dd3497\", \"#ae017e\", \"#7a0177\"],\n\t\t9: [\"#fff7f3\", \"#fde0dd\", \"#fcc5c0\", \"#fa9fb5\", \"#f768a1\", \"#dd3497\", \"#ae017e\", \"#7a0177\", \"#49006a\"]\n\t},\n\tPuRd: {\n\t\t3: [\"#e7e1ef\", \"#c994c7\", \"#dd1c77\"],\n\t\t4: [\"#f1eef6\", \"#d7b5d8\", \"#df65b0\", \"#ce1256\"],\n\t\t5: [\"#f1eef6\", \"#d7b5d8\", \"#df65b0\", \"#dd1c77\", \"#980043\"],\n\t\t6: [\"#f1eef6\", \"#d4b9da\", \"#c994c7\", \"#df65b0\", \"#dd1c77\", \"#980043\"],\n\t\t7: [\"#f1eef6\", \"#d4b9da\", \"#c994c7\", \"#df65b0\", \"#e7298a\", \"#ce1256\", \"#91003f\"],\n\t\t8: [\"#f7f4f9\", \"#e7e1ef\", \"#d4b9da\", \"#c994c7\", \"#df65b0\", \"#e7298a\", \"#ce1256\", \"#91003f\"],\n\t\t9: [\"#f7f4f9\", \"#e7e1ef\", \"#d4b9da\", \"#c994c7\", \"#df65b0\", \"#e7298a\", \"#ce1256\", \"#980043\", \"#67001f\"]\n\t},\n\tOrRd: {\n\t\t3: [\"#fee8c8\", \"#fdbb84\", \"#e34a33\"],\n\t\t4: [\"#fef0d9\", \"#fdcc8a\", \"#fc8d59\", \"#d7301f\"],\n\t\t5: [\"#fef0d9\", \"#fdcc8a\", \"#fc8d59\", \"#e34a33\", \"#b30000\"],\n\t\t6: [\"#fef0d9\", \"#fdd49e\", \"#fdbb84\", \"#fc8d59\", \"#e34a33\", \"#b30000\"],\n\t\t7: [\"#fef0d9\", \"#fdd49e\", \"#fdbb84\", \"#fc8d59\", \"#ef6548\", \"#d7301f\", \"#990000\"],\n\t\t8: [\"#fff7ec\", \"#fee8c8\", \"#fdd49e\", \"#fdbb84\", \"#fc8d59\", \"#ef6548\", \"#d7301f\", \"#990000\"],\n\t\t9: [\"#fff7ec\", \"#fee8c8\", \"#fdd49e\", \"#fdbb84\", \"#fc8d59\", \"#ef6548\", \"#d7301f\", \"#b30000\", \"#7f0000\"]\n\t},\n\tYlOrRd: {\n\t\t3: [\"#ffeda0\", \"#feb24c\", \"#f03b20\"],\n\t\t4: [\"#ffffb2\", \"#fecc5c\", \"#fd8d3c\", \"#e31a1c\"],\n\t\t5: [\"#ffffb2\", \"#fecc5c\", \"#fd8d3c\", \"#f03b20\", \"#bd0026\"],\n\t\t6: [\"#ffffb2\", \"#fed976\", \"#feb24c\", \"#fd8d3c\", \"#f03b20\", \"#bd0026\"],\n\t\t7: [\"#ffffb2\", \"#fed976\", \"#feb24c\", \"#fd8d3c\", \"#fc4e2a\", \"#e31a1c\", \"#b10026\"],\n\t\t8: [\"#ffffcc\", \"#ffeda0\", \"#fed976\", \"#feb24c\", \"#fd8d3c\", \"#fc4e2a\", \"#e31a1c\", \"#b10026\"],\n\t\t9: [\"#ffffcc\", \"#ffeda0\", \"#fed976\", \"#feb24c\", \"#fd8d3c\", \"#fc4e2a\", \"#e31a1c\", \"#bd0026\", \"#800026\"]\n\t},\n\tYlOrBr: {\n\t\t3: [\"#fff7bc\", \"#fec44f\", \"#d95f0e\"],\n\t\t4: [\"#ffffd4\", \"#fed98e\", \"#fe9929\", \"#cc4c02\"],\n\t\t5: [\"#ffffd4\", \"#fed98e\", \"#fe9929\", \"#d95f0e\", \"#993404\"],\n\t\t6: [\"#ffffd4\", \"#fee391\", \"#fec44f\", \"#fe9929\", \"#d95f0e\", \"#993404\"],\n\t\t7: [\"#ffffd4\", \"#fee391\", \"#fec44f\", \"#fe9929\", \"#ec7014\", \"#cc4c02\", \"#8c2d04\"],\n\t\t8: [\"#ffffe5\", \"#fff7bc\", \"#fee391\", \"#fec44f\", \"#fe9929\", \"#ec7014\", \"#cc4c02\", \"#8c2d04\"],\n\t\t9: [\"#ffffe5\", \"#fff7bc\", \"#fee391\", \"#fec44f\", \"#fe9929\", \"#ec7014\", \"#cc4c02\", \"#993404\", \"#662506\"]\n\t},\n\tPurples: {\n\t\t3: [\"#efedf5\", \"#bcbddc\", \"#756bb1\"],\n\t\t4: [\"#f2f0f7\", \"#cbc9e2\", \"#9e9ac8\", \"#6a51a3\"],\n\t\t5: [\"#f2f0f7\", \"#cbc9e2\", \"#9e9ac8\", \"#756bb1\", \"#54278f\"],\n\t\t6: [\"#f2f0f7\", \"#dadaeb\", \"#bcbddc\", \"#9e9ac8\", \"#756bb1\", \"#54278f\"],\n\t\t7: [\"#f2f0f7\", \"#dadaeb\", \"#bcbddc\", \"#9e9ac8\", \"#807dba\", \"#6a51a3\", \"#4a1486\"],\n\t\t8: [\"#fcfbfd\", \"#efedf5\", \"#dadaeb\", \"#bcbddc\", \"#9e9ac8\", \"#807dba\", \"#6a51a3\", \"#4a1486\"],\n\t\t9: [\"#fcfbfd\", \"#efedf5\", \"#dadaeb\", \"#bcbddc\", \"#9e9ac8\", \"#807dba\", \"#6a51a3\", \"#54278f\", \"#3f007d\"]\n\t},\n\tBlues: {\n\t\t3: [\"#deebf7\", \"#9ecae1\", \"#3182bd\"],\n\t\t4: [\"#eff3ff\", \"#bdd7e7\", \"#6baed6\", \"#2171b5\"],\n\t\t5: [\"#eff3ff\", \"#bdd7e7\", \"#6baed6\", \"#3182bd\", \"#08519c\"],\n\t\t6: [\"#eff3ff\", \"#c6dbef\", \"#9ecae1\", \"#6baed6\", \"#3182bd\", \"#08519c\"],\n\t\t7: [\"#eff3ff\", \"#c6dbef\", \"#9ecae1\", \"#6baed6\", \"#4292c6\", \"#2171b5\", \"#084594\"],\n\t\t8: [\"#f7fbff\", \"#deebf7\", \"#c6dbef\", \"#9ecae1\", \"#6baed6\", \"#4292c6\", \"#2171b5\", \"#084594\"],\n\t\t9: [\"#f7fbff\", \"#deebf7\", \"#c6dbef\", \"#9ecae1\", \"#6baed6\", \"#4292c6\", \"#2171b5\", \"#08519c\", \"#08306b\"]\n\t},\n\tGreens: {\n\t\t3: [\"#e5f5e0\", \"#a1d99b\", \"#31a354\"],\n\t\t4: [\"#edf8e9\", \"#bae4b3\", \"#74c476\", \"#238b45\"],\n\t\t5: [\"#edf8e9\", \"#bae4b3\", \"#74c476\", \"#31a354\", \"#006d2c\"],\n\t\t6: [\"#edf8e9\", \"#c7e9c0\", \"#a1d99b\", \"#74c476\", \"#31a354\", \"#006d2c\"],\n\t\t7: [\"#edf8e9\", \"#c7e9c0\", \"#a1d99b\", \"#74c476\", \"#41ab5d\", \"#238b45\", \"#005a32\"],\n\t\t8: [\"#f7fcf5\", \"#e5f5e0\", \"#c7e9c0\", \"#a1d99b\", \"#74c476\", \"#41ab5d\", \"#238b45\", \"#005a32\"],\n\t\t9: [\"#f7fcf5\", \"#e5f5e0\", \"#c7e9c0\", \"#a1d99b\", \"#74c476\", \"#41ab5d\", \"#238b45\", \"#006d2c\", \"#00441b\"]\n\t},\n\tOranges: {\n\t\t3: [\"#fee6ce\", \"#fdae6b\", \"#e6550d\"],\n\t\t4: [\"#feedde\", \"#fdbe85\", \"#fd8d3c\", \"#d94701\"],\n\t\t5: [\"#feedde\", \"#fdbe85\", \"#fd8d3c\", \"#e6550d\", \"#a63603\"],\n\t\t6: [\"#feedde\", \"#fdd0a2\", \"#fdae6b\", \"#fd8d3c\", \"#e6550d\", \"#a63603\"],\n\t\t7: [\"#feedde\", \"#fdd0a2\", \"#fdae6b\", \"#fd8d3c\", \"#f16913\", \"#d94801\", \"#8c2d04\"],\n\t\t8: [\"#fff5eb\", \"#fee6ce\", \"#fdd0a2\", \"#fdae6b\", \"#fd8d3c\", \"#f16913\", \"#d94801\", \"#8c2d04\"],\n\t\t9: [\"#fff5eb\", \"#fee6ce\", \"#fdd0a2\", \"#fdae6b\", \"#fd8d3c\", \"#f16913\", \"#d94801\", \"#a63603\", \"#7f2704\"]\n\t},\n\tReds: {\n\t\t3: [\"#fee0d2\", \"#fc9272\", \"#de2d26\"],\n\t\t4: [\"#fee5d9\", \"#fcae91\", \"#fb6a4a\", \"#cb181d\"],\n\t\t5: [\"#fee5d9\", \"#fcae91\", \"#fb6a4a\", \"#de2d26\", \"#a50f15\"],\n\t\t6: [\"#fee5d9\", \"#fcbba1\", \"#fc9272\", \"#fb6a4a\", \"#de2d26\", \"#a50f15\"],\n\t\t7: [\"#fee5d9\", \"#fcbba1\", \"#fc9272\", \"#fb6a4a\", \"#ef3b2c\", \"#cb181d\", \"#99000d\"],\n\t\t8: [\"#fff5f0\", \"#fee0d2\", \"#fcbba1\", \"#fc9272\", \"#fb6a4a\", \"#ef3b2c\", \"#cb181d\", \"#99000d\"],\n\t\t9: [\"#fff5f0\", \"#fee0d2\", \"#fcbba1\", \"#fc9272\", \"#fb6a4a\", \"#ef3b2c\", \"#cb181d\", \"#a50f15\", \"#67000d\"]\n\t},\n\tGreys: {\n\t\t3: [\"#f0f0f0\", \"#bdbdbd\", \"#636363\"],\n\t\t4: [\"#f7f7f7\", \"#cccccc\", \"#969696\", \"#525252\"],\n\t\t5: [\"#f7f7f7\", \"#cccccc\", \"#969696\", \"#636363\", \"#252525\"],\n\t\t6: [\"#f7f7f7\", \"#d9d9d9\", \"#bdbdbd\", \"#969696\", \"#636363\", \"#252525\"],\n\t\t7: [\"#f7f7f7\", \"#d9d9d9\", \"#bdbdbd\", \"#969696\", \"#737373\", \"#525252\", \"#252525\"],\n\t\t8: [\"#ffffff\", \"#f0f0f0\", \"#d9d9d9\", \"#bdbdbd\", \"#969696\", \"#737373\", \"#525252\", \"#252525\"],\n\t\t9: [\"#ffffff\", \"#f0f0f0\", \"#d9d9d9\", \"#bdbdbd\", \"#969696\", \"#737373\", \"#525252\", \"#252525\", \"#000000\"]\n\t},\n\tPuOr: {\n\t\t3: [\"#f1a340\", \"#f7f7f7\", \"#998ec3\"],\n\t\t4: [\"#e66101\", \"#fdb863\", \"#b2abd2\", \"#5e3c99\"],\n\t\t5: [\"#e66101\", \"#fdb863\", \"#f7f7f7\", \"#b2abd2\", \"#5e3c99\"],\n\t\t6: [\"#b35806\", \"#f1a340\", \"#fee0b6\", \"#d8daeb\", \"#998ec3\", \"#542788\"],\n\t\t7: [\"#b35806\", \"#f1a340\", \"#fee0b6\", \"#f7f7f7\", \"#d8daeb\", \"#998ec3\", \"#542788\"],\n\t\t8: [\"#b35806\", \"#e08214\", \"#fdb863\", \"#fee0b6\", \"#d8daeb\", \"#b2abd2\", \"#8073ac\", \"#542788\"],\n\t\t9: [\"#b35806\", \"#e08214\", \"#fdb863\", \"#fee0b6\", \"#f7f7f7\", \"#d8daeb\", \"#b2abd2\", \"#8073ac\", \"#542788\"],\n\t\t10: [\"#7f3b08\", \"#b35806\", \"#e08214\", \"#fdb863\", \"#fee0b6\", \"#d8daeb\", \"#b2abd2\", \"#8073ac\", \"#542788\", \"#2d004b\"],\n\t\t11: [\"#7f3b08\", \"#b35806\", \"#e08214\", \"#fdb863\", \"#fee0b6\", \"#f7f7f7\", \"#d8daeb\", \"#b2abd2\", \"#8073ac\", \"#542788\", \"#2d004b\"]\n\t},\n\tBrBG: {\n\t\t3: [\"#d8b365\", \"#f5f5f5\", \"#5ab4ac\"],\n\t\t4: [\"#a6611a\", \"#dfc27d\", \"#80cdc1\", \"#018571\"],\n\t\t5: [\"#a6611a\", \"#dfc27d\", \"#f5f5f5\", \"#80cdc1\", \"#018571\"],\n\t\t6: [\"#8c510a\", \"#d8b365\", \"#f6e8c3\", \"#c7eae5\", \"#5ab4ac\", \"#01665e\"],\n\t\t7: [\"#8c510a\", \"#d8b365\", \"#f6e8c3\", \"#f5f5f5\", \"#c7eae5\", \"#5ab4ac\", \"#01665e\"],\n\t\t8: [\"#8c510a\", \"#bf812d\", \"#dfc27d\", \"#f6e8c3\", \"#c7eae5\", \"#80cdc1\", \"#35978f\", \"#01665e\"],\n\t\t9: [\"#8c510a\", \"#bf812d\", \"#dfc27d\", \"#f6e8c3\", \"#f5f5f5\", \"#c7eae5\", \"#80cdc1\", \"#35978f\", \"#01665e\"],\n\t\t10: [\"#543005\", \"#8c510a\", \"#bf812d\", \"#dfc27d\", \"#f6e8c3\", \"#c7eae5\", \"#80cdc1\", \"#35978f\", \"#01665e\", \"#003c30\"],\n\t\t11: [\"#543005\", \"#8c510a\", \"#bf812d\", \"#dfc27d\", \"#f6e8c3\", \"#f5f5f5\", \"#c7eae5\", \"#80cdc1\", \"#35978f\", \"#01665e\", \"#003c30\"]\n\t},\n\tPRGn: {\n\t\t3: [\"#af8dc3\", \"#f7f7f7\", \"#7fbf7b\"],\n\t\t4: [\"#7b3294\", \"#c2a5cf\", \"#a6dba0\", \"#008837\"],\n\t\t5: [\"#7b3294\", \"#c2a5cf\", \"#f7f7f7\", \"#a6dba0\", \"#008837\"],\n\t\t6: [\"#762a83\", \"#af8dc3\", \"#e7d4e8\", \"#d9f0d3\", \"#7fbf7b\", \"#1b7837\"],\n\t\t7: [\"#762a83\", \"#af8dc3\", \"#e7d4e8\", \"#f7f7f7\", \"#d9f0d3\", \"#7fbf7b\", \"#1b7837\"],\n\t\t8: [\"#762a83\", \"#9970ab\", \"#c2a5cf\", \"#e7d4e8\", \"#d9f0d3\", \"#a6dba0\", \"#5aae61\", \"#1b7837\"],\n\t\t9: [\"#762a83\", \"#9970ab\", \"#c2a5cf\", \"#e7d4e8\", \"#f7f7f7\", \"#d9f0d3\", \"#a6dba0\", \"#5aae61\", \"#1b7837\"],\n\t\t10: [\"#40004b\", \"#762a83\", \"#9970ab\", \"#c2a5cf\", \"#e7d4e8\", \"#d9f0d3\", \"#a6dba0\", \"#5aae61\", \"#1b7837\", \"#00441b\"],\n\t\t11: [\"#40004b\", \"#762a83\", \"#9970ab\", \"#c2a5cf\", \"#e7d4e8\", \"#f7f7f7\", \"#d9f0d3\", \"#a6dba0\", \"#5aae61\", \"#1b7837\", \"#00441b\"]\n\t},\n\tPiYG: {\n\t\t3: [\"#e9a3c9\", \"#f7f7f7\", \"#a1d76a\"],\n\t\t4: [\"#d01c8b\", \"#f1b6da\", \"#b8e186\", \"#4dac26\"],\n\t\t5: [\"#d01c8b\", \"#f1b6da\", \"#f7f7f7\", \"#b8e186\", \"#4dac26\"],\n\t\t6: [\"#c51b7d\", \"#e9a3c9\", \"#fde0ef\", \"#e6f5d0\", \"#a1d76a\", \"#4d9221\"],\n\t\t7: [\"#c51b7d\", \"#e9a3c9\", \"#fde0ef\", \"#f7f7f7\", \"#e6f5d0\", \"#a1d76a\", \"#4d9221\"],\n\t\t8: [\"#c51b7d\", \"#de77ae\", \"#f1b6da\", \"#fde0ef\", \"#e6f5d0\", \"#b8e186\", \"#7fbc41\", \"#4d9221\"],\n\t\t9: [\"#c51b7d\", \"#de77ae\", \"#f1b6da\", \"#fde0ef\", \"#f7f7f7\", \"#e6f5d0\", \"#b8e186\", \"#7fbc41\", \"#4d9221\"],\n\t\t10: [\"#8e0152\", \"#c51b7d\", \"#de77ae\", \"#f1b6da\", \"#fde0ef\", \"#e6f5d0\", \"#b8e186\", \"#7fbc41\", \"#4d9221\", \"#276419\"],\n\t\t11: [\"#8e0152\", \"#c51b7d\", \"#de77ae\", \"#f1b6da\", \"#fde0ef\", \"#f7f7f7\", \"#e6f5d0\", \"#b8e186\", \"#7fbc41\", \"#4d9221\", \"#276419\"]\n\t},\n\tRdBu: {\n\t\t3: [\"#ef8a62\", \"#f7f7f7\", \"#67a9cf\"],\n\t\t4: [\"#ca0020\", \"#f4a582\", \"#92c5de\", \"#0571b0\"],\n\t\t5: [\"#ca0020\", \"#f4a582\", \"#f7f7f7\", \"#92c5de\", \"#0571b0\"],\n\t\t6: [\"#b2182b\", \"#ef8a62\", \"#fddbc7\", \"#d1e5f0\", \"#67a9cf\", \"#2166ac\"],\n\t\t7: [\"#b2182b\", \"#ef8a62\", \"#fddbc7\", \"#f7f7f7\", \"#d1e5f0\", \"#67a9cf\", \"#2166ac\"],\n\t\t8: [\"#b2182b\", \"#d6604d\", \"#f4a582\", \"#fddbc7\", \"#d1e5f0\", \"#92c5de\", \"#4393c3\", \"#2166ac\"],\n\t\t9: [\"#b2182b\", \"#d6604d\", \"#f4a582\", \"#fddbc7\", \"#f7f7f7\", \"#d1e5f0\", \"#92c5de\", \"#4393c3\", \"#2166ac\"],\n\t\t10: [\"#67001f\", \"#b2182b\", \"#d6604d\", \"#f4a582\", \"#fddbc7\", \"#d1e5f0\", \"#92c5de\", \"#4393c3\", \"#2166ac\", \"#053061\"],\n\t\t11: [\"#67001f\", \"#b2182b\", \"#d6604d\", \"#f4a582\", \"#fddbc7\", \"#f7f7f7\", \"#d1e5f0\", \"#92c5de\", \"#4393c3\", \"#2166ac\", \"#053061\"]\n\t},\n\tRdGy: {\n\t\t3: [\"#ef8a62\", \"#ffffff\", \"#999999\"],\n\t\t4: [\"#ca0020\", \"#f4a582\", \"#bababa\", \"#404040\"],\n\t\t5: [\"#ca0020\", \"#f4a582\", \"#ffffff\", \"#bababa\", \"#404040\"],\n\t\t6: [\"#b2182b\", \"#ef8a62\", \"#fddbc7\", \"#e0e0e0\", \"#999999\", \"#4d4d4d\"],\n\t\t7: [\"#b2182b\", \"#ef8a62\", \"#fddbc7\", \"#ffffff\", \"#e0e0e0\", \"#999999\", \"#4d4d4d\"],\n\t\t8: [\"#b2182b\", \"#d6604d\", \"#f4a582\", \"#fddbc7\", \"#e0e0e0\", \"#bababa\", \"#878787\", \"#4d4d4d\"],\n\t\t9: [\"#b2182b\", \"#d6604d\", \"#f4a582\", \"#fddbc7\", \"#ffffff\", \"#e0e0e0\", \"#bababa\", \"#878787\", \"#4d4d4d\"],\n\t\t10: [\"#67001f\", \"#b2182b\", \"#d6604d\", \"#f4a582\", \"#fddbc7\", \"#e0e0e0\", \"#bababa\", \"#878787\", \"#4d4d4d\", \"#1a1a1a\"],\n\t\t11: [\"#67001f\", \"#b2182b\", \"#d6604d\", \"#f4a582\", \"#fddbc7\", \"#ffffff\", \"#e0e0e0\", \"#bababa\", \"#878787\", \"#4d4d4d\", \"#1a1a1a\"]\n\t},\n\tRdYlBu: {\n\t\t3: [\"#fc8d59\", \"#ffffbf\", \"#91bfdb\"],\n\t\t4: [\"#d7191c\", \"#fdae61\", \"#abd9e9\", \"#2c7bb6\"],\n\t\t5: [\"#d7191c\", \"#fdae61\", \"#ffffbf\", \"#abd9e9\", \"#2c7bb6\"],\n\t\t6: [\"#d73027\", \"#fc8d59\", \"#fee090\", \"#e0f3f8\", \"#91bfdb\", \"#4575b4\"],\n\t\t7: [\"#d73027\", \"#fc8d59\", \"#fee090\", \"#ffffbf\", \"#e0f3f8\", \"#91bfdb\", \"#4575b4\"],\n\t\t8: [\"#d73027\", \"#f46d43\", \"#fdae61\", \"#fee090\", \"#e0f3f8\", \"#abd9e9\", \"#74add1\", \"#4575b4\"],\n\t\t9: [\"#d73027\", \"#f46d43\", \"#fdae61\", \"#fee090\", \"#ffffbf\", \"#e0f3f8\", \"#abd9e9\", \"#74add1\", \"#4575b4\"],\n\t\t10: [\"#a50026\", \"#d73027\", \"#f46d43\", \"#fdae61\", \"#fee090\", \"#e0f3f8\", \"#abd9e9\", \"#74add1\", \"#4575b4\", \"#313695\"],\n\t\t11: [\"#a50026\", \"#d73027\", \"#f46d43\", \"#fdae61\", \"#fee090\", \"#ffffbf\", \"#e0f3f8\", \"#abd9e9\", \"#74add1\", \"#4575b4\", \"#313695\"]\n\t},\n\tSpectral: {\n\t\t3: [\"#fc8d59\", \"#ffffbf\", \"#99d594\"],\n\t\t4: [\"#d7191c\", \"#fdae61\", \"#abdda4\", \"#2b83ba\"],\n\t\t5: [\"#d7191c\", \"#fdae61\", \"#ffffbf\", \"#abdda4\", \"#2b83ba\"],\n\t\t6: [\"#d53e4f\", \"#fc8d59\", \"#fee08b\", \"#e6f598\", \"#99d594\", \"#3288bd\"],\n\t\t7: [\"#d53e4f\", \"#fc8d59\", \"#fee08b\", \"#ffffbf\", \"#e6f598\", \"#99d594\", \"#3288bd\"],\n\t\t8: [\"#d53e4f\", \"#f46d43\", \"#fdae61\", \"#fee08b\", \"#e6f598\", \"#abdda4\", \"#66c2a5\", \"#3288bd\"],\n\t\t9: [\"#d53e4f\", \"#f46d43\", \"#fdae61\", \"#fee08b\", \"#ffffbf\", \"#e6f598\", \"#abdda4\", \"#66c2a5\", \"#3288bd\"],\n\t\t10: [\"#9e0142\", \"#d53e4f\", \"#f46d43\", \"#fdae61\", \"#fee08b\", \"#e6f598\", \"#abdda4\", \"#66c2a5\", \"#3288bd\", \"#5e4fa2\"],\n\t\t11: [\"#9e0142\", \"#d53e4f\", \"#f46d43\", \"#fdae61\", \"#fee08b\", \"#ffffbf\", \"#e6f598\", \"#abdda4\", \"#66c2a5\", \"#3288bd\", \"#5e4fa2\"]\n\t},\n\tRdYlGn: {\n\t\t3: [\"#fc8d59\", \"#ffffbf\", \"#91cf60\"],\n\t\t4: [\"#d7191c\", \"#fdae61\", \"#a6d96a\", \"#1a9641\"],\n\t\t5: [\"#d7191c\", \"#fdae61\", \"#ffffbf\", \"#a6d96a\", \"#1a9641\"],\n\t\t6: [\"#d73027\", \"#fc8d59\", \"#fee08b\", \"#d9ef8b\", \"#91cf60\", \"#1a9850\"],\n\t\t7: [\"#d73027\", \"#fc8d59\", \"#fee08b\", \"#ffffbf\", \"#d9ef8b\", \"#91cf60\", \"#1a9850\"],\n\t\t8: [\"#d73027\", \"#f46d43\", \"#fdae61\", \"#fee08b\", \"#d9ef8b\", \"#a6d96a\", \"#66bd63\", \"#1a9850\"],\n\t\t9: [\"#d73027\", \"#f46d43\", \"#fdae61\", \"#fee08b\", \"#ffffbf\", \"#d9ef8b\", \"#a6d96a\", \"#66bd63\", \"#1a9850\"],\n\t\t10: [\"#a50026\", \"#d73027\", \"#f46d43\", \"#fdae61\", \"#fee08b\", \"#d9ef8b\", \"#a6d96a\", \"#66bd63\", \"#1a9850\", \"#006837\"],\n\t\t11: [\"#a50026\", \"#d73027\", \"#f46d43\", \"#fdae61\", \"#fee08b\", \"#ffffbf\", \"#d9ef8b\", \"#a6d96a\", \"#66bd63\", \"#1a9850\", \"#006837\"]\n\t},\n\tAccent: {\n\t\t3: [\"#7fc97f\", \"#beaed4\", \"#fdc086\"],\n\t\t4: [\"#7fc97f\", \"#beaed4\", \"#fdc086\", \"#ffff99\"],\n\t\t5: [\"#7fc97f\", \"#beaed4\", \"#fdc086\", \"#ffff99\", \"#386cb0\"],\n\t\t6: [\"#7fc97f\", \"#beaed4\", \"#fdc086\", \"#ffff99\", \"#386cb0\", \"#f0027f\"],\n\t\t7: [\"#7fc97f\", \"#beaed4\", \"#fdc086\", \"#ffff99\", \"#386cb0\", \"#f0027f\", \"#bf5b17\"],\n\t\t8: [\"#7fc97f\", \"#beaed4\", \"#fdc086\", \"#ffff99\", \"#386cb0\", \"#f0027f\", \"#bf5b17\", \"#666666\"]\n\t},\n\tDark2: {\n\t\t3: [\"#1b9e77\", \"#d95f02\", \"#7570b3\"],\n\t\t4: [\"#1b9e77\", \"#d95f02\", \"#7570b3\", \"#e7298a\"],\n\t\t5: [\"#1b9e77\", \"#d95f02\", \"#7570b3\", \"#e7298a\", \"#66a61e\"],\n\t\t6: [\"#1b9e77\", \"#d95f02\", \"#7570b3\", \"#e7298a\", \"#66a61e\", \"#e6ab02\"],\n\t\t7: [\"#1b9e77\", \"#d95f02\", \"#7570b3\", \"#e7298a\", \"#66a61e\", \"#e6ab02\", \"#a6761d\"],\n\t\t8: [\"#1b9e77\", \"#d95f02\", \"#7570b3\", \"#e7298a\", \"#66a61e\", \"#e6ab02\", \"#a6761d\", \"#666666\"]\n\t},\n\tPaired: {\n\t\t3: [\"#a6cee3\", \"#1f78b4\", \"#b2df8a\"],\n\t\t4: [\"#a6cee3\", \"#1f78b4\", \"#b2df8a\", \"#33a02c\"],\n\t\t5: [\"#a6cee3\", \"#1f78b4\", \"#b2df8a\", \"#33a02c\", \"#fb9a99\"],\n\t\t6: [\"#a6cee3\", \"#1f78b4\", \"#b2df8a\", \"#33a02c\", \"#fb9a99\", \"#e31a1c\"],\n\t\t7: [\"#a6cee3\", \"#1f78b4\", \"#b2df8a\", \"#33a02c\", \"#fb9a99\", \"#e31a1c\", \"#fdbf6f\"],\n\t\t8: [\"#a6cee3\", \"#1f78b4\", \"#b2df8a\", \"#33a02c\", \"#fb9a99\", \"#e31a1c\", \"#fdbf6f\", \"#ff7f00\"],\n\t\t9: [\"#a6cee3\", \"#1f78b4\", \"#b2df8a\", \"#33a02c\", \"#fb9a99\", \"#e31a1c\", \"#fdbf6f\", \"#ff7f00\", \"#cab2d6\"],\n\t\t10: [\"#a6cee3\", \"#1f78b4\", \"#b2df8a\", \"#33a02c\", \"#fb9a99\", \"#e31a1c\", \"#fdbf6f\", \"#ff7f00\", \"#cab2d6\", \"#6a3d9a\"],\n\t\t11: [\"#a6cee3\", \"#1f78b4\", \"#b2df8a\", \"#33a02c\", \"#fb9a99\", \"#e31a1c\", \"#fdbf6f\", \"#ff7f00\", \"#cab2d6\", \"#6a3d9a\", \"#ffff99\"],\n\t\t12: [\"#a6cee3\", \"#1f78b4\", \"#b2df8a\", \"#33a02c\", \"#fb9a99\", \"#e31a1c\", \"#fdbf6f\", \"#ff7f00\", \"#cab2d6\", \"#6a3d9a\", \"#ffff99\", \"#b15928\"]\n\t},\n\tPastel1: {\n\t\t3: [\"#fbb4ae\", \"#b3cde3\", \"#ccebc5\"],\n\t\t4: [\"#fbb4ae\", \"#b3cde3\", \"#ccebc5\", \"#decbe4\"],\n\t\t5: [\"#fbb4ae\", \"#b3cde3\", \"#ccebc5\", \"#decbe4\", \"#fed9a6\"],\n\t\t6: [\"#fbb4ae\", \"#b3cde3\", \"#ccebc5\", \"#decbe4\", \"#fed9a6\", \"#ffffcc\"],\n\t\t7: [\"#fbb4ae\", \"#b3cde3\", \"#ccebc5\", \"#decbe4\", \"#fed9a6\", \"#ffffcc\", \"#e5d8bd\"],\n\t\t8: [\"#fbb4ae\", \"#b3cde3\", \"#ccebc5\", \"#decbe4\", \"#fed9a6\", \"#ffffcc\", \"#e5d8bd\", \"#fddaec\"],\n\t\t9: [\"#fbb4ae\", \"#b3cde3\", \"#ccebc5\", \"#decbe4\", \"#fed9a6\", \"#ffffcc\", \"#e5d8bd\", \"#fddaec\", \"#f2f2f2\"]\n\t},\n\tPastel2: {\n\t\t3: [\"#b3e2cd\", \"#fdcdac\", \"#cbd5e8\"],\n\t\t4: [\"#b3e2cd\", \"#fdcdac\", \"#cbd5e8\", \"#f4cae4\"],\n\t\t5: [\"#b3e2cd\", \"#fdcdac\", \"#cbd5e8\", \"#f4cae4\", \"#e6f5c9\"],\n\t\t6: [\"#b3e2cd\", \"#fdcdac\", \"#cbd5e8\", \"#f4cae4\", \"#e6f5c9\", \"#fff2ae\"],\n\t\t7: [\"#b3e2cd\", \"#fdcdac\", \"#cbd5e8\", \"#f4cae4\", \"#e6f5c9\", \"#fff2ae\", \"#f1e2cc\"],\n\t\t8: [\"#b3e2cd\", \"#fdcdac\", \"#cbd5e8\", \"#f4cae4\", \"#e6f5c9\", \"#fff2ae\", \"#f1e2cc\", \"#cccccc\"]\n\t},\n\tSet1: {\n\t\t3: [\"#e41a1c\", \"#377eb8\", \"#4daf4a\"],\n\t\t4: [\"#e41a1c\", \"#377eb8\", \"#4daf4a\", \"#984ea3\"],\n\t\t5: [\"#e41a1c\", \"#377eb8\", \"#4daf4a\", \"#984ea3\", \"#ff7f00\"],\n\t\t6: [\"#e41a1c\", \"#377eb8\", \"#4daf4a\", \"#984ea3\", \"#ff7f00\", \"#ffff33\"],\n\t\t7: [\"#e41a1c\", \"#377eb8\", \"#4daf4a\", \"#984ea3\", \"#ff7f00\", \"#ffff33\", \"#a65628\"],\n\t\t8: [\"#e41a1c\", \"#377eb8\", \"#4daf4a\", \"#984ea3\", \"#ff7f00\", \"#ffff33\", \"#a65628\", \"#f781bf\"],\n\t\t9: [\"#e41a1c\", \"#377eb8\", \"#4daf4a\", \"#984ea3\", \"#ff7f00\", \"#ffff33\", \"#a65628\", \"#f781bf\", \"#999999\"]\n\t},\n\tSet2: {\n\t\t3: [\"#66c2a5\", \"#fc8d62\", \"#8da0cb\"],\n\t\t4: [\"#66c2a5\", \"#fc8d62\", \"#8da0cb\", \"#e78ac3\"],\n\t\t5: [\"#66c2a5\", \"#fc8d62\", \"#8da0cb\", \"#e78ac3\", \"#a6d854\"],\n\t\t6: [\"#66c2a5\", \"#fc8d62\", \"#8da0cb\", \"#e78ac3\", \"#a6d854\", \"#ffd92f\"],\n\t\t7: [\"#66c2a5\", \"#fc8d62\", \"#8da0cb\", \"#e78ac3\", \"#a6d854\", \"#ffd92f\", \"#e5c494\"],\n\t\t8: [\"#66c2a5\", \"#fc8d62\", \"#8da0cb\", \"#e78ac3\", \"#a6d854\", \"#ffd92f\", \"#e5c494\", \"#b3b3b3\"]\n\t},\n\tSet3: {\n\t\t3: [\"#8dd3c7\", \"#ffffb3\", \"#bebada\"],\n\t\t4: [\"#8dd3c7\", \"#ffffb3\", \"#bebada\", \"#fb8072\"],\n\t\t5: [\"#8dd3c7\", \"#ffffb3\", \"#bebada\", \"#fb8072\", \"#80b1d3\"],\n\t\t6: [\"#8dd3c7\", \"#ffffb3\", \"#bebada\", \"#fb8072\", \"#80b1d3\", \"#fdb462\"],\n\t\t7: [\"#8dd3c7\", \"#ffffb3\", \"#bebada\", \"#fb8072\", \"#80b1d3\", \"#fdb462\", \"#b3de69\"],\n\t\t8: [\"#8dd3c7\", \"#ffffb3\", \"#bebada\", \"#fb8072\", \"#80b1d3\", \"#fdb462\", \"#b3de69\", \"#fccde5\"],\n\t\t9: [\"#8dd3c7\", \"#ffffb3\", \"#bebada\", \"#fb8072\", \"#80b1d3\", \"#fdb462\", \"#b3de69\", \"#fccde5\", \"#d9d9d9\"],\n\t\t10: [\"#8dd3c7\", \"#ffffb3\", \"#bebada\", \"#fb8072\", \"#80b1d3\", \"#fdb462\", \"#b3de69\", \"#fccde5\", \"#d9d9d9\", \"#bc80bd\"],\n\t\t11: [\"#8dd3c7\", \"#ffffb3\", \"#bebada\", \"#fb8072\", \"#80b1d3\", \"#fdb462\", \"#b3de69\", \"#fccde5\", \"#d9d9d9\", \"#bc80bd\", \"#ccebc5\"],\n\t\t12: [\"#8dd3c7\", \"#ffffb3\", \"#bebada\", \"#fb8072\", \"#80b1d3\", \"#fdb462\", \"#b3de69\", \"#fccde5\", \"#d9d9d9\", \"#bc80bd\", \"#ccebc5\", \"#ffed6f\"]\n\t}\n};\n\n/**\r\n * Export `colors`\r\n */\nmodule.exports = colors;\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../core/utils');\nvar matrix = require('./../core/matrix');\nvar observer = require('./../core/observer');\n\nfunction Scope(options, data) {\n\tvar scope = new observer();\n\n\tscope.width = options.width;\n\tscope.height = options.height;\n\n\tvar scales, domain, ranges;\n\n\tscales = options.scale.map(function (opts, i) {\n\n\t\tif (opts === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (!opts.extent) {\n\t\t\treturn utils[opts.type](utils.extent(data, function (d) {\n\t\t\t\treturn opts.type === 'time' ? new Date(d[opts.index]).getTime() : d[opts.index];\n\t\t\t}));\n\t\t}\n\n\t\tif (typeof opts.extent === 'function') {\n\t\t\treturn utils[opts.type](opts.extent(utils.extent(data, function (d) {\n\t\t\t\treturn opts.type === 'time' ? new Date(d[opts.index]).getTime() : d[opts.index];\n\t\t\t}), data));\n\t\t}\n\n\t\treturn utils[opts.type](opts.extent);\n\t});\n\n\tdomain = scales.map(function (scale, i) {\n\t\treturn scale ? scale.ticks().map(function (d) {\n\t\t\treturn options.scale[i].data.label(d);\n\t\t}) : null;\n\t});\n\n\tscope.$Layout = matrix(scope.width, scope.height, domain, { labels: [], orient: \"bottom\" });\n\n\tif (options.left) {\n\t\tscope.$Layout.LEFT_VALUE = options.left;\n\t}\n\n\tif (options.right) {\n\t\tscope.$Layout.RIGHT_VALUE = options.right;\n\t}\n\n\tscope.$Extents = scales.map(function (scale) {\n\t\tif (!scale) {\n\t\t\treturn null;\n\t\t}\n\t\treturn utils.extent(scale.ticks());\n\t});\n\n\t//set scale\n\tranges = [[scope.$Layout.LEFT_VALUE, scope.width - scope.$Layout.RIGHT_VALUE], [scope.height - scope.$Layout.BOTTOM_VALUE, scope.$Layout.TOP_VALUE], [scope.$Layout.LEFT_VALUE, scope.width - scope.$Layout.RIGHT_VALUE], [scope.height - scope.$Layout.BOTTOM_VALUE, scope.$Layout.TOP_VALUE]];\n\n\tscales.forEach(function (scale, i) {\n\t\treturn scale ? scale.range(ranges[i]) : null;\n\t});\n\n\tscope.$Scale = {\n\t\tget: function get(index) {\n\t\t\treturn index !== undefined ? scales[index] : scales;\n\t\t}\n\t};\n\n\tscope.$Config = options.scale;\n\n\tscope.$watch('$DATA_LOAD', function () {\n\t\tvar data = scope.$DATA_STORAGE;\n\t\tscales = options.scale.map(function (opts, i) {\n\t\t\tif (opts === null) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (!opts.extent) {\n\t\t\t\treturn utils[opts.type](utils.extent(data, function (d) {\n\t\t\t\t\treturn opts.type === 'time' ? new Date(d[opts.index]).getTime() : d[opts.index];\n\t\t\t\t}), scope.DATA_GS);\n\t\t\t}\n\n\t\t\tif (typeof opts.extent === 'function') {\n\n\t\t\t\treturn utils[opts.type](opts.extent(utils.extent(data, function (d) {\n\t\t\t\t\treturn opts.type === 'time' ? new Date(d[opts.index]).getTime() : d[opts.index];\n\t\t\t\t}), data), scope.DATA_GS);\n\n\t\t\t\t/*var extent = utils.extent(data, function(d) {\r\n    \treturn opts.type === 'time' ? (new Date(d[opts.index])).getTime() : d[opts.index];\r\n    });\r\n    \t\tutils[opts.type](opts.extent(data))*/\n\t\t\t}\n\n\t\t\treturn utils[opts.type](opts.extent, scope.DATA_GS);\n\t\t});\n\n\t\tdomain = scales.map(function (scale, i) {\n\t\t\treturn scale ? scale.ticks().map(function (d) {\n\t\t\t\treturn options.scale[i].data.label(d);\n\t\t\t}) : null;\n\t\t});\n\n\t\tscope.$Layout = matrix(scope.width, scope.height, domain, { labels: [], orient: \"bottom\" });\n\t\tif (options.left) {\n\t\t\tscope.$Layout.LEFT_VALUE = options.left;\n\t\t}\n\n\t\tif (options.right) {\n\t\t\tscope.$Layout.RIGHT_VALUE = options.right;\n\t\t}\n\t\tscope.$Extents = scales.map(function (scale) {\n\t\t\tif (!scale) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn utils.extent(scale.ticks());\n\t\t});\n\n\t\t//set scale\n\t\tranges = [[scope.$Layout.LEFT_VALUE, scope.width - scope.$Layout.RIGHT_VALUE], [scope.height - scope.$Layout.BOTTOM_VALUE, scope.$Layout.TOP_VALUE], [scope.$Layout.LEFT_VALUE, scope.width - scope.$Layout.RIGHT_VALUE], [scope.height - scope.$Layout.BOTTOM_VALUE, scope.$Layout.TOP_VALUE]];\n\n\t\tscales.forEach(function (scale, i) {\n\t\t\treturn scale ? scale.range(ranges[i]) : null;\n\t\t});\n\n\t\tscope.$Scale = {\n\t\t\tget: function get(index) {\n\t\t\t\treturn index !== undefined ? scales[index] : scales;\n\t\t\t}\n\t\t};\n\n\t\tscope.$Config = options.scale;\n\t});\n\n\tscope.$watch('resizable', function () {\n\t\tscope.$Layout = matrix(scope.width, scope.height, domain, { labels: [], orient: \"bottom\" });\n\t\tif (options.left) {\n\t\t\tscope.$Layout.LEFT_VALUE = options.left;\n\t\t}\n\n\t\tif (options.right) {\n\t\t\tscope.$Layout.RIGHT_VALUE = options.right;\n\t\t}\n\t\tscope.$Extents = scales.map(function (scale) {\n\t\t\tif (!scale) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn utils.extent(scale.ticks());\n\t\t});\n\n\t\t//set scale\n\t\tranges = [[scope.$Layout.LEFT_VALUE, scope.width - scope.$Layout.RIGHT_VALUE], [scope.height - scope.$Layout.BOTTOM_VALUE, scope.$Layout.TOP_VALUE], [scope.$Layout.LEFT_VALUE, scope.width - scope.$Layout.RIGHT_VALUE], [scope.height - scope.$Layout.BOTTOM_VALUE, scope.$Layout.TOP_VALUE]];\n\n\t\tscales.forEach(function (scale, i) {\n\t\t\treturn scale ? scale.range(ranges[i]) : null;\n\t\t});\n\n\t\tscope.$Scale = {\n\t\t\tget: function get(index) {\n\t\t\t\treturn index !== undefined ? scales[index] : scales;\n\t\t\t}\n\t\t};\n\n\t\tscope.$Config = options.scale;\n\t});\n\n\treturn scope;\n}\n\n/**\r\n * Export `Scope`\r\n */\nmodule.exports = Scope;\n\n},{\"./../core/matrix\":7,\"./../core/observer\":9,\"./../core/utils\":12}],5:[function(require,module,exports){\n'use strict';\n\nvar handler = require('./handler');\nvar observer = require('./observer');\n\nvar draggable = new observer();\n\nhandler(document, 'mousedown', function (event) {\n\tif (event.target && event.target.tagName.toLocaleLowerCase() === 'rect') {\n\t\tdraggable.uid = event.target.id;\n\t\tdraggable['start' + draggable.uid] = [event.pageX, event.pageY];\n\t\tdraggable.$EventIsSelection = true;\n\t}\n});\n\nhandler(document, 'mousemove', function (event) {\n\tif (draggable.$EventIsSelection) {\n\t\tdraggable['drag' + draggable.uid] = [event.pageX, event.pageY];\n\t}\n});\n\nhandler(document, 'mouseup', function (event) {\n\tdraggable['stop' + draggable.uid] = [event.pageX, event.pageY];\n\tdraggable.$EventIsSelection = false;\n});\n\nmodule.exports = draggable;\n\n},{\"./handler\":6,\"./observer\":9}],6:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./utils');\n\nvar callEvent = function callEvent(callback) {\n\treturn function (event) {\n\t\tevent = event || window.event;\n\t\tcallback.call(this, event);\n\t};\n};\n\nvar handler = function handler(elements, type, callback) {\n\tif (!elements.length) {\n\t\telements = [elements];\n\t}\n\n\tutils.each(elements, function (element) {\n\t\tif (element.addEventListener) {\n\t\t\telement.addEventListener(type, callEvent(callback), false);\n\t\t} else if (element.attachEvent) {\n\t\t\tif (type === 'input') {\n\t\t\t\ttype = \"propertychange\";\n\t\t\t}\n\t\t\telement.attachEvent('on' + type, callEvent(callback));\n\t\t}\n\t});\n};\n\n/**\r\n * Export `handler`\r\n */\nmodule.exports = handler;\n\n},{\"./utils\":12}],7:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./utils');\n\nfunction rowsOfCount() {\n\treturn Math.floor(labelsTotalWidth / paintWidth) + 1;\n}\n\nfunction labelsTotalHeight(rowsOfCount, lineHeight) {\n\treturn rowsOfCount * lineHeight;\n}\n\nfunction labelsWidthList(labels, measure, span) {\n\treturn labels.map(function (d) {\n\t\treturn measure(d).width + (span || 0);\n\t});\n}\n\nfunction isOverlap(result, meanValue) {\n\tvar size = result.length;\n\tvar flag = false;\n\tfor (var i = 1; i < size; i++) {\n\t\tvar prev = result[i - 1];\n\t\tvar current = result[i];\n\t\tif ((prev + current) * 0.5 >= meanValue) {\n\t\t\tflag = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn flag;\n}\n\nfunction isOverFlow(pixel, value, start) {\n\treturn Math.sqrt(pixel * pixel / 2) - value >= start;\n}\n\nfunction hasOverFlow(result, meanValue, start) {\n\tvar flag = false;\n\tutils.each(result, function (pixel, i) {\n\t\tif (isOverFlow(pixel, meanValue * i, start)) {\n\t\t\treturn flag = true, false;\n\t\t}\n\t});\n\treturn flag;\n}\n\nfunction getXLabelPixel(result, meanValue, start) {\n\tif (result.length === 0) {\n\t\treturn {\n\t\t\tdeg: 0,\n\t\t\tvalue: 15\n\t\t};\n\t}\n\n\tif (isOverlap(result, meanValue) === false) {\n\t\treturn {\n\t\t\tdeg: 0,\n\t\t\tvalue: 30\n\t\t};\n\t}\n\n\tif (hasOverFlow(result, meanValue, start)) {\n\t\treturn {\n\t\t\tdeg: -45,\n\t\t\tvalue: utils.max(result)\n\t\t};\n\t}\n\n\treturn {\n\t\tdeg: -45,\n\t\tvalue: utils.max(result, function (value) {\n\t\t\treturn Math.sqrt(value * value / 2);\n\t\t})\n\t};\n}\n\nfunction getYLabelPixel(result) {\n\treturn utils.max(getLabelsPixel(result));\n}\n\nfunction getLabelsPixel(result, pixel) {\n\treturn result.map(function (label) {\n\t\treturn utils.measure(label).width + (pixel || 15);\n\t});\n}\n\nfunction legendLineHeight(pixel, width) {\n\treturn (Math.floor(pixel / width) + 1) * 25;\n}\n\nfunction legendPixelSize(result, orient) {\n\tif (orient === 'left' || orient === 'right') {\n\t\treturn utils.max(result) || 0;\n\t}\n\treturn utils.sum(result);\n}\n\nfunction matrixLeft(width, height, tickPixelList, lgdPixelList) {\n\tvar topTicks = tickPixelList[0];\n\tvar rhtTicks = tickPixelList[1];\n\tvar btmTicks = tickPixelList[2];\n\tvar lftTicks = tickPixelList[3];\n\n\tvar topTicksFirst = topTicks[0] || 0;\n\tvar topTicksLast = topTicks[topTicks.length - 1] || 0;\n\n\tvar btmTicksFirst = btmTicks[0] || 0;\n\tvar btmTicksLast = btmTicks[btmTicks.length - 1] || 0;\n\n\tvar lftTicksMax = utils.max(lftTicks) || 15;\n\tvar rhtTicksMax = utils.max(rhtTicks) || 15;\n\n\tvar lps = utils.max(lgdPixelList);\n\n\tvar LEFT_DEGRESS = 0;\n\tvar LEFT_VALUE = utils.max([lftTicksMax + lps, topTicksFirst * 0.5, btmTicksFirst * 0.5]);\n\tvar RIGHT_DEGRESS = 0;\n\tvar RIGHT_VALUE = utils.max([rhtTicksMax, topTicksLast * 0.5, btmTicksLast * 0.5]);\n\n\tvar topMeanValue = topTicks.length ? (width - LEFT_VALUE - RIGHT_VALUE) / topTicks.length : 5;\n\tvar btmMeanValue = btmTicks.length ? (width - LEFT_VALUE - RIGHT_VALUE) / btmTicks.length : 5;\n\n\tvar layoutTop = getXLabelPixel(topTicks, topMeanValue, LEFT_VALUE);\n\tvar layoutBtm = getXLabelPixel(btmTicks, btmMeanValue, LEFT_VALUE);\n\n\tvar TOP_DEGRESS = layoutTop.deg;\n\tvar TOP_VALUE = layoutTop.value;\n\tvar BOTTOM_DEGRESS = layoutBtm.deg;\n\tvar BOTTOM_VALUE = layoutBtm.value;\n\n\treturn {\n\t\tLEFT_DEGRESS: LEFT_DEGRESS,\n\t\tLEFT_VALUE: LEFT_VALUE + 5,\n\t\tRIGHT_DEGRESS: RIGHT_DEGRESS,\n\t\tRIGHT_VALUE: RIGHT_VALUE,\n\t\tTOP_DEGRESS: TOP_DEGRESS,\n\t\tTOP_VALUE: TOP_VALUE,\n\t\tBOTTOM_DEGRESS: BOTTOM_DEGRESS,\n\t\tBOTTOM_VALUE: BOTTOM_VALUE + 15\n\t};\n}\n\nfunction matrixRight(width, height, tickPixelList, lgdPixelList) {\n\tvar topTicks = tickPixelList[0];\n\tvar rhtTicks = tickPixelList[1];\n\tvar btmTicks = tickPixelList[2];\n\tvar lftTicks = tickPixelList[3];\n\n\tvar topTicksFirst = topTicks[0] || 0;\n\tvar topTicksLast = topTicks[topTicks.length - 1] || 0;\n\n\tvar btmTicksFirst = btmTicks[0] || 0;\n\tvar btmTicksLast = btmTicks[btmTicks.length - 1] || 0;\n\n\tvar lftTicksMax = utils.max(lftTicks) || 15;\n\tvar rhtTicksMax = utils.max(rhtTicks) || 15;\n\n\tvar lps = utils.max(lgdPixelList);\n\n\tvar LEFT_DEGRESS = 0;\n\tvar LEFT_VALUE = utils.max([lftTicksMax, topTicksFirst * 0.5, btmTicksFirst * 0.5]);\n\tvar RIGHT_DEGRESS = 0;\n\tvar RIGHT_VALUE = utils.max([rhtTicksMax + lps, topTicksLast * 0.5, btmTicksLast * 0.5]);\n\n\tvar topMeanValue = topTicks.length ? (width - LEFT_VALUE - RIGHT_VALUE) / topTicks.length : 5;\n\tvar btmMeanValue = btmTicks.length ? (width - LEFT_VALUE - RIGHT_VALUE) / btmTicks.length : 5;\n\n\tvar layoutTop = getXLabelPixel(topTicks, topMeanValue, LEFT_VALUE);\n\tvar layoutBtm = getXLabelPixel(btmTicks, btmMeanValue, LEFT_VALUE);\n\n\tvar TOP_DEGRESS = layoutTop.deg;\n\tvar TOP_VALUE = layoutTop.value;\n\tvar BOTTOM_DEGRESS = layoutBtm.deg;\n\tvar BOTTOM_VALUE = layoutBtm.value;\n\treturn {\n\t\tLEFT_DEGRESS: LEFT_DEGRESS,\n\t\tLEFT_VALUE: LEFT_VALUE + 5,\n\t\tRIGHT_DEGRESS: RIGHT_DEGRESS,\n\t\tRIGHT_VALUE: RIGHT_VALUE,\n\t\tTOP_DEGRESS: TOP_DEGRESS,\n\t\tTOP_VALUE: TOP_VALUE,\n\t\tBOTTOM_DEGRESS: BOTTOM_DEGRESS,\n\t\tBOTTOM_VALUE: BOTTOM_VALUE + 15\n\t};\n}\n\nfunction matrixTop(width, height, tickPixelList, lgdPixelList) {\n\tvar topTicks = tickPixelList[0];\n\tvar rhtTicks = tickPixelList[1];\n\tvar btmTicks = tickPixelList[2];\n\tvar lftTicks = tickPixelList[3];\n\n\tvar topTicksFirst = topTicks[0] || 0;\n\tvar topTicksLast = topTicks[topTicks.length - 1] || 0;\n\n\tvar btmTicksFirst = btmTicks[0] || 0;\n\tvar btmTicksLast = btmTicks[btmTicks.length - 1] || 0;\n\n\tvar lftTicksMax = utils.max(lftTicks) || 15;\n\tvar rhtTicksMax = utils.max(rhtTicks) || 15;\n\n\tvar lps = utils.sum(lgdPixelList);\n\n\tvar LEFT_DEGRESS = 0;\n\tvar LEFT_VALUE = utils.max([lftTicksMax, topTicksFirst * 0.5, btmTicksFirst * 0.5]);\n\tvar RIGHT_DEGRESS = 0;\n\tvar RIGHT_VALUE = utils.max([rhtTicksMax, topTicksLast * 0.5, btmTicksLast * 0.5]);\n\n\tvar tlh = legendLineHeight(lps, width - LEFT_VALUE - RIGHT_VALUE);\n\n\tvar topMeanValue = topTicks.length ? (width - LEFT_VALUE - RIGHT_VALUE) / topTicks.length : 5;\n\tvar btmMeanValue = btmTicks.length ? (width - LEFT_VALUE - RIGHT_VALUE) / btmTicks.length : 5;\n\n\tvar layoutTop = getXLabelPixel(topTicks, topMeanValue, LEFT_VALUE);\n\tvar layoutBtm = getXLabelPixel(btmTicks, btmMeanValue, LEFT_VALUE);\n\n\tvar TOP_DEGRESS = layoutTop.deg;\n\tvar TOP_VALUE = layoutTop.value;\n\tvar BOTTOM_DEGRESS = layoutBtm.deg;\n\tvar BOTTOM_VALUE = layoutBtm.value;\n\treturn {\n\t\tLEFT_DEGRESS: LEFT_DEGRESS,\n\t\tLEFT_VALUE: LEFT_VALUE + 5,\n\t\tRIGHT_DEGRESS: RIGHT_DEGRESS,\n\t\tRIGHT_VALUE: RIGHT_VALUE,\n\t\tTOP_DEGRESS: TOP_DEGRESS,\n\t\tTOP_VALUE: TOP_VALUE,\n\t\tBOTTOM_DEGRESS: BOTTOM_DEGRESS,\n\t\tBOTTOM_VALUE: BOTTOM_VALUE + 15\n\t};\n}\n\nfunction matrixBtm(width, height, tickPixelList, lgdPixelList) {\n\tvar topTicks = tickPixelList[0];\n\tvar rhtTicks = tickPixelList[1];\n\tvar btmTicks = tickPixelList[2];\n\tvar lftTicks = tickPixelList[3];\n\n\tvar topTicksFirst = topTicks[0] || 0;\n\tvar topTicksLast = topTicks[topTicks.length - 1] || 0;\n\n\tvar btmTicksFirst = btmTicks[0] || 0;\n\tvar btmTicksLast = btmTicks[btmTicks.length - 1] || 0;\n\n\tvar lftTicksMax = utils.max(lftTicks) || 15;\n\tvar rhtTicksMax = utils.max(rhtTicks) || 15;\n\n\tvar lps = utils.sum(lgdPixelList);\n\n\tvar LEFT_DEGRESS = 0;\n\tvar LEFT_VALUE = utils.max([lftTicksMax, topTicksFirst * 0.5, btmTicksFirst * 0.5]);\n\tvar RIGHT_DEGRESS = 0;\n\tvar RIGHT_VALUE = utils.max([rhtTicksMax, topTicksLast * 0.5, btmTicksLast * 0.5]);\n\n\tvar tlh = legendLineHeight(lps, width - LEFT_VALUE - RIGHT_VALUE);\n\n\tvar topMeanValue = topTicks.length ? (width - LEFT_VALUE - RIGHT_VALUE) / topTicks.length : 5;\n\tvar btmMeanValue = btmTicks.length ? (width - LEFT_VALUE - RIGHT_VALUE) / btmTicks.length : 5;\n\n\tvar layoutTop = getXLabelPixel(topTicks, topMeanValue, LEFT_VALUE);\n\tvar layoutBtm = getXLabelPixel(btmTicks, btmMeanValue, LEFT_VALUE);\n\n\tvar TOP_DEGRESS = layoutTop.deg;\n\tvar TOP_VALUE = layoutTop.value;\n\tvar BOTTOM_DEGRESS = layoutBtm.deg;\n\tvar BOTTOM_VALUE = layoutBtm.value;\n\n\treturn {\n\t\tLEFT_DEGRESS: LEFT_DEGRESS,\n\t\tLEFT_VALUE: LEFT_VALUE + 5,\n\t\tRIGHT_DEGRESS: RIGHT_DEGRESS,\n\t\tRIGHT_VALUE: /*layoutBtm.deg === -45 ? 15 : */RIGHT_VALUE,\n\t\tTOP_DEGRESS: TOP_DEGRESS,\n\t\tTOP_VALUE: TOP_VALUE,\n\t\tBOTTOM_DEGRESS: BOTTOM_DEGRESS,\n\t\tBOTTOM_VALUE: BOTTOM_VALUE + (layoutBtm.deg === -45 ? 15 : 0)\n\t};\n}\nfunction matrix(width, height, domain, legend) {\n\tvar lgdPixelList = getLabelsPixel(legend.labels || []);\n\tvar tickPixelList = domain.map(function (result) {\n\t\treturn getLabelsPixel(result || []);\n\t});\n\n\tif (legend.orient === 'left') {\n\t\treturn matrixLeft(width, height, tickPixelList, lgdPixelList);\n\t} else if (legend.orient === 'right') {\n\t\treturn matrixRight(width, height, tickPixelList, lgdPixelList);\n\t} else if (legend.orient === 'top') {\n\t\treturn matrixTop(width, height, tickPixelList, lgdPixelList);\n\t}\n\treturn matrixBtm(width, height, tickPixelList, lgdPixelList);\n}\n\n/**\r\n * Export `matrix`\r\n */\nmodule.exports = matrix;\n\n},{\"./utils\":12}],8:[function(require,module,exports){\n'use strict';\n\nvar handler = require('./handler');\nvar observer = require('./observer');\n\nvar mouse = new observer();\nmouse.isPinch = false;\nmouse.startPoint = [];\n\n// 获取距离\nfunction getDis(point1, point2) {\n\tvar x = point2.x - point1.x;\n\tvar y = point2.y - point1.y;\n\treturn Math.sqrt(x * x + y * y);\n}\n\nhandler(document, 'mousemove', function (event) {\n\ttry {\n\t\tif (event.target && event.target.tagName.toLocaleLowerCase() === 'rect') {\n\t\t\tvar offset = event.target.__mouse__;\n\t\t\tmouse['move'] = [event.pageX - (event.pageX - offset[0]), event.pageY - (event.pageY - offset[1]), event.target.id];\n\t\t} else {\n\t\t\tif (mouse['move'][0] !== -9999) {\n\t\t\t\tmouse['move'] = [-9999, -9999];\n\t\t\t}\n\t\t}\n\t} catch (e) {}\n});\n\nhandler(document, 'touchstart', function (event) {\n\ttry {\n\t\tif (event.target && event.target.tagName.toLocaleLowerCase() === 'rect') {\n\t\t\tvar offset = event.target.__mouse__;\n\t\t\tvar touches = event.touches;\n\t\t\tvar pageX = touches[0].pageX;\n\t\t\tvar pageY = touches[0].pageY;\n\n\t\t\tif (touches.length >= 2) {\n\t\t\t\tmouse.isPinch = true;\n\t\t\t\tmouse.startPoint[0] = {\n\t\t\t\t\tx: touches[0].pageX,\n\t\t\t\t\ty: touches[0].pageY\n\t\t\t\t};\n\t\t\t\tmouse.startPoint[1] = {\n\t\t\t\t\tx: touches[1].pageX,\n\t\t\t\t\ty: touches[1].pageY\n\t\t\t\t};\n\t\t\t}\n\t\t\t// mouse['move'] = [pageX - (pageX - offset[0]), pageY - (pageY - offset[1])];\n\t\t} else {\n\t\t\t\t// mouse['move'] = [-9999, -9999];\n\t\t\t}\n\t} catch (e) {}\n});\n\nhandler(document, 'touchmove', function (event) {\n\ttry {\n\t\tif (event.target && event.target.tagName.toLocaleLowerCase() === 'rect') {\n\t\t\tvar offset = event.target.__mouse__;\n\t\t\tvar touches = event.touches;\n\t\t\tvar pageX = touches[0].pageX;\n\t\t\tvar pageY = touches[0].pageY;\n\n\t\t\tif (touches.length === 1) {\n\t\t\t\tmouse['move'] = [pageX - (pageX - offset[0]), pageY - (pageY - offset[1]), event.target.id];\n\t\t\t}\n\n\t\t\tif (mouse.isPinch && touches.length >= 2) {\n\t\t\t\tvar nowPoint = [];\n\t\t\t\tnowPoint[0] = {\n\t\t\t\t\tx: touches[0].pageX,\n\t\t\t\t\ty: touches[0].pageY\n\t\t\t\t};\n\t\t\t\tnowPoint[1] = {\n\t\t\t\t\tx: touches[1].pageX,\n\t\t\t\t\ty: touches[1].pageY\n\t\t\t\t};\n\t\t\t\tvar startDis = getDis(mouse.startPoint[0], mouse.startPoint[1]);\n\t\t\t\tvar nowDis = getDis(nowPoint[0], nowPoint[1]);\n\n\t\t\t\tmouse['pinch'] = [nowDis / startDis, startPoint, nowPoint];\n\t\t\t}\n\t\t} else {\n\t\t\tmouse['move'] = [-9999, -9999];\n\t\t}\n\t} catch (e) {}\n});\n\nhandler(document, 'touchend', function (event) {\n\ttry {\n\t\tif (event.target && event.target.tagName.toLocaleLowerCase() === 'rect') {\n\t\t\tvar offset = event.target.__mouse__;\n\t\t\tvar touches = event.touches;\n\t\t\tvar targetTouches = event.targetTouches;\n\t\t\tvar pageX = touches[0].pageX;\n\t\t\tvar pageY = touches[0].pageY;\n\n\t\t\tif (mouse.isPinch) {\n\t\t\t\tif (touches.length < 2 || targetTouches.length < 1) {\n\t\t\t\t\tmouse.isPinch = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// mouse['move'] = [pageX - (pageX - offset[0]), pageY - (pageY - offset[1])];\n\t\t} else {\n\t\t\t\t// mouse['move'] = [-9999, -9999];\n\t\t\t}\n\t} catch (e) {}\n});\n\nmodule.exports = mouse;\n\n},{\"./handler\":6,\"./observer\":9}],9:[function(require,module,exports){\n'use strict';\n\nfunction defineProperty(scope, name, watchers) {\n\tvar value = scope[name];\n\n\tvar getter = function getter() {\n\t\treturn value;\n\t};\n\n\tvar setter = function setter(newValue) {\n\t\tvar oldValue = value;\n\t\tvalue = newValue;\n\t\tif (newValue !== oldValue) {\n\t\t\twatchers.forEach(function (watch) {\n\t\t\t\twatch.call(scope, newValue, oldValue);\n\t\t\t});\n\t\t}\n\t};\n\n\ttry {\n\t\tObject.defineProperty(scope, name, {\n\t\t\tset: setter,\n\t\t\tget: getter\n\t\t});\n\t} catch (error) {}\n}\n\nfunction observer() {\n\tthis.$$watchers = {};\n}\n\nobserver.prototype.$watch = function (name, cb) {\n\tif (!this.$$watchers.hasOwnProperty(name)) {\n\t\tthis.$$watchers[name] = [];\n\t\tdefineProperty(this, name, this.$$watchers[name]);\n\t}\n\n\tthis.$$watchers[name].push(cb);\n};\n\n/**\r\n * Export `observer`\r\n */\nmodule.exports = observer;\n\n},{}],10:[function(require,module,exports){\n'use strict';\n\nvar handler = require('./handler');\nvar observer = require('./observer');\n\nvar resizable = new observer();\n\nhandler(window, 'resize', function (event) {\n\tresizable.resize = event;\n});\n\nmodule.exports = resizable;\n\n},{\"./handler\":6,\"./observer\":9}],11:[function(require,module,exports){\n'use strict';\n\nvar handler = require('./handler');\nvar observer = require('./observer');\n\nvar themes = new observer();\n\nmodule.exports = themes;\n\n},{\"./handler\":6,\"./observer\":9}],12:[function(require,module,exports){\n'use strict';\n\nvar version = \"0.0.1\";\n\n/**\r\n *不重复ID\r\n * @public\t \r\n * @method uid\r\n * @returns {String}\r\n */\nvar guid = function () {\n\tvar u = Date.now();\n\treturn function () {\n\t\treturn (u++).toString(16);\n\t};\n}();\n\n/**\r\n * Canvas文本\r\n * @public\r\n * @method measure\r\n * @param {String} label\r\n * @param {String} [font]\r\n * @returns {Object}\r\n */\nvar measure = function () {\n\ttry {\n\t\tvar canvas = document.createElement(\"canvas\");\n\t\tcanvas.width = 1;\n\t\tcanvas.height = 1;\n\t\treturn function (label, font) {\n\t\t\tvar context = canvas.getContext(\"2d\");\n\t\t\tcontext.font = font || '12px Arial';\n\t\t\treturn context.measureText(label);\n\t\t};\n\t} catch (e) {\n\t\treturn function () {\n\t\t\treturn 0;\n\t\t};\n\t}\n}();\n\n/**\r\n * 转化数字\r\n * @public\r\n * @method number\r\n * @param {String} x\r\n * @returns {Number}\r\n */\nfunction number(x) {\n\treturn x === null ? NaN : +x;\n}\n\n/**\r\n * 是否为数字\r\n * @public\r\n * @method number\r\n * @param {String} value\r\n * @returns {Boolean}\r\n */\nfunction isNumber(value) {\n\treturn !isNaN(parseFloat(value)) && isFinite(value);\n}\n\n/**\r\n * 升序\r\n * @public\r\n * @method ascending\r\n * @param {Number} a\r\n * @param {Number} b\r\n * @returns {Number}\r\n */\nfunction ascending(a, b) {\n\treturn a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n\n/**\r\n * 二等分\r\n * @public\r\n * @method bisect\r\n * @param {Array} a\r\n * @param {Number} x\r\n * @param {Number} lo\r\n * @param {Number} hi\r\n * @returns {Number}\r\n */\nfunction bisect(a, x, lo, hi) {\n\tif (arguments.length < 3) {\n\t\tlo = 0;\n\t}\n\tif (arguments.length < 4) {\n\t\thi = a.length;\n\t}\n\twhile (lo < hi) {\n\t\tvar mid = lo + hi >>> 1;\n\n\t\tif (ascending(a[mid], x) > 0) {\n\t\t\thi = mid;\n\t\t} else {\n\t\t\tlo = mid + 1;\n\t\t}\n\t}\n\treturn lo;\n}\n\n/**\r\n * 遍历对象或数组\r\n * @public\r\n * @param {Array | Object} object\r\n * @param {Function} callback\r\n * @returns {Array | Object}\r\n */\nfunction each(object, callback) {\n\tvar length, key, i, value;\n\n\tif (object) {\n\t\tlength = object.length;\n\t\tif (length === undefined) {\n\t\t\tfor (key in object) {\n\t\t\t\tif (object.hasOwnProperty(key)) {\n\t\t\t\t\tvalue = object[key];\n\t\t\t\t\tif (callback.call(value, value, key) === false) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor (i = 0; i < length; i++) {\n\t\t\t\tvalue = object[i];\n\t\t\t\tif (callback.call(value, value, i) === false) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn object;\n}\n\n/**\r\n * 数值区间 [min, max]\r\n * @public\r\n * @method extent\r\n * @param {Array} array\r\n * @param {function} cb\r\n * @returns {Array}\r\n */\nfunction extent(array, cb) {\n\tvar i = -1,\n\t    n = array.length,\n\t    a,\n\t    b,\n\t    c;\n\n\tif (cb == null) {\n\t\twhile (++i < n) {\n\t\t\tif ((b = array[i]) != null && b >= b) {\n\t\t\t\ta = c = b;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\twhile (++i < n) {\n\t\t\tif ((b = array[i]) != null) {\n\t\t\t\tif (a > b) {\n\t\t\t\t\ta = b;\n\t\t\t\t}\n\n\t\t\t\tif (c < b) {\n\t\t\t\t\tc = b;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\twhile (++i < n) {\n\t\t\tif ((b = cb(array[i], i, array)) != null && b >= b) {\n\t\t\t\ta = c = b;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\twhile (++i < n) {\n\t\t\tif ((b = cb(array[i], i, array)) != null) {\n\t\t\t\tif (a > b) {\n\t\t\t\t\ta = b;\n\t\t\t\t}\n\n\t\t\t\tif (c < b) {\n\t\t\t\t\tc = b;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn [a, c];\n}\n\n/**\r\n * 数据堆叠\r\n * @public\r\n * @method stack\r\n * @param {Array} array\r\n * @param {Function} callback\r\n * @returns {Array}\r\n */\nfunction stack(array, callback) {\n\tvar result = [0];\n\tvar size = array.length;\n\tfor (var i = 1; i < size; i++) {\n\t\tvar previous = array[i - 1];\n\t\tvar current = array[i];\n\t\tresult.push(callback(previous, current) + result[result.length - 1]);\n\t}\n\treturn result;\n}\n\n/**\r\n * 定义常量\r\n * @public\r\n * @method constant\r\n * @param {Object} x\r\n * @returns {function}\r\n */\nfunction constant(x) {\n\treturn function () {\n\t\treturn x;\n\t};\n}\n\n/**\r\n * 求最大值\r\n * @public\r\n * @method max\r\n * @param {Array} array\r\n * @param {function} [f]\r\n * @returns {Number}\r\n */\nfunction max(array, f) {\n\tvar i = -1,\n\t    n = array.length,\n\t    a,\n\t    b;\n\n\tif (f == null) {\n\t\twhile (++i < n) {\n\t\t\tif ((b = array[i]) != null && b >= b) {\n\t\t\t\ta = b;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\twhile (++i < n) {\n\t\t\tif ((b = array[i]) != null && b > a) {\n\t\t\t\ta = b;\n\t\t\t}\n\t\t}\n\t} else {\n\t\twhile (++i < n) {\n\t\t\tif ((b = f(array[i], i, array)) != null && b >= b) {\n\t\t\t\ta = b;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\twhile (++i < n) {\n\t\t\tif ((b = f(array[i], i, array)) != null && b > a) {\n\t\t\t\ta = b;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a;\n}\n\n/**\r\n * 求最小值\r\n * @public\r\n * @method min\r\n * @param {Array} array\r\n * @param {function} [f]\r\n * @returns {Number}\r\n */\nfunction min(array, f) {\n\tvar i = -1,\n\t    n = array.length,\n\t    a,\n\t    b;\n\n\tif (f == null) {\n\t\twhile (++i < n) {\n\t\t\tif ((b = array[i]) != null && b >= b) {\n\t\t\t\ta = b;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\twhile (++i < n) {\n\t\t\tif ((b = array[i]) != null && a > b) {\n\t\t\t\ta = b;\n\t\t\t}\n\t\t}\n\t} else {\n\t\twhile (++i < n) {\n\t\t\tif ((b = f(array[i], i, array)) != null && b >= b) {\n\t\t\t\ta = b;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\twhile (++i < n) {\n\t\t\tif ((b = f(array[i], i, array)) != null && a > b) {\n\t\t\t\ta = b;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a;\n}\n\n/**\r\n * 多数组合并\r\n * @public\r\n * @method merge\r\n * @param {Array} arrays\r\n * @returns {Number}\r\n */\nfunction merge(arrays) {\n\tvar n = arrays.length,\n\t    m,\n\t    i = -1,\n\t    j = 0,\n\t    merged,\n\t    array;\n\n\twhile (++i < n) {\n\t\tj += arrays[i].length;\n\t}\n\n\tmerged = new Array(j);\n\n\twhile (--n >= 0) {\n\t\tarray = arrays[n];\n\t\tm = array.length;\n\t\twhile (--m >= 0) {\n\t\t\tmerged[--j] = array[m];\n\t\t}\n\t}\n\n\treturn merged;\n}\n\n/**\r\n * 求平均数\r\n * @public\r\n * @method mean\r\n * @param {Array} array\r\n * @param {function} [f]\r\n * @returns {Number}\r\n */\nfunction mean(array, f) {\n\tvar s = 0,\n\t    n = array.length,\n\t    a,\n\t    i = -1,\n\t    j = n;\n\n\tif (f == null) {\n\t\twhile (++i < n) {\n\t\t\tif (!isNaN(a = number(array[i]))) {\n\t\t\t\ts += a;\n\t\t\t} else {\n\t\t\t\t--j;\n\t\t\t}\n\t\t}\n\t} else {\n\t\twhile (++i < n) {\n\t\t\tif (!isNaN(a = number(f(array[i], i, array)))) {\n\t\t\t\ts += a;\n\t\t\t} else {\n\t\t\t\t--j;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (j) {\n\t\treturn s / j;\n\t}\n}\n\n/**\r\n * 洗牌\r\n * @public\r\n * @method shuffle\r\n * @param {Array} array\r\n * @param {Number} [i0] 默认是0\r\n * @param {Number} [i1] 默认是数组长度\r\n * @returns {Array}\r\n */\nfunction shuffle(array, i0, i1) {\n\tvar m = (i1 == null ? array.length : i1) - (i0 = i0 == null ? 0 : +i0),\n\t    t,\n\t    i;\n\twhile (m) {\n\t\ti = Math.random() * m-- | 0;\n\t\tt = array[m + i0];\n\t\tarray[m + i0] = array[i + i0];\n\t\tarray[i + i0] = t;\n\t}\n\n\treturn array;\n}\n\n/**\r\n * 求和\r\n * @public\r\n * @method sum\r\n * @param {Array} array\r\n * @param {function} [f]\r\n * @returns {Number}\r\n */\nfunction sum(array, f) {\n\tvar s = 0,\n\t    n = array.length,\n\t    a,\n\t    i = -1;\n\n\tif (f == null) {\n\t\twhile (++i < n) {\n\t\t\tif (a = +array[i]) {\n\t\t\t\ts += a;\n\t\t\t}\n\t\t}\n\t} else {\n\t\twhile (++i < n) {\n\t\t\tif (a = +f(array[i], i, array)) {\n\t\t\t\ts += a;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn +s.toFixed(10);\n}\n\n/**\r\n * 获取对象的键名\r\n * @public\r\n * @method values\r\n * @param {Object} map\r\n * @returns {Array}\r\n */\nfunction keys(map) {\n\tvar keys = [];\n\tfor (var key in map) {\n\t\tkeys.push(key);\n\t}\n\treturn keys;\n}\n\n/**\r\n * 获取对象的值\r\n * @public\r\n * @method values\r\n * @param {Object} map\r\n * @returns {Array}\r\n */\nfunction values(map) {\n\tvar values = [];\n\tfor (var key in map) {\n\t\tvalues.push(map[key]);\n\t}\n\treturn values;\n}\n\n/**\r\n * 对象转化成数组\r\n * @public\r\n * @method entries\r\n * @param {Object} map\r\n * @returns {Array}\r\n */\nfunction entries(map) {\n\tvar result = [];\n\tfor (var key in map) {\n\t\tresult.push({\n\t\t\tkey: key,\n\t\t\tvalue: map[key]\n\t\t});\n\t}\n\treturn result;\n}\n\n/**\r\n * 创建指定范围的随机数\r\n * @public\r\n * @method uniform\r\n * @param {Number} min\r\n * @param {Number} max\r\n * @returns {Function}\r\n */\nfunction uniform(min, max) {\n\tmin = min == null ? 0 : +min;\n\tmax = max == null ? 1 : +max;\n\tif (arguments.length === 1) {\n\t\tmax = min, min = 0;\n\t} else {\n\t\tmax -= min;\n\t}\n\treturn function () {\n\t\treturn Math.random() * (max - min) + min;\n\t};\n}\n\n/**\r\n * 求多边形中心点\r\n * @public\r\n * @method centroid\r\n * @param {Array} polygon\r\n * @returns {Array}\r\n */\nfunction centroid(polygon) {\n\tvar i = -1,\n\t    n = polygon.length,\n\t    x = 0,\n\t    y = 0,\n\t    a,\n\t    b = polygon[n - 1],\n\t    c,\n\t    k = 0;\n\twhile (++i < n) {\n\t\ta = b;\n\t\tb = polygon[i];\n\t\tk += c = a[0] * b[1] - b[0] * a[1];\n\t\tx += (a[0] + b[0]) * c;\n\t\ty += (a[1] + b[1]) * c;\n\t}\n\n\treturn k *= 3, [x / k, y / k];\n}\n\n/**\r\n * 判断某个点是否在多边形中\r\n * @public\r\n * @method range\r\n * @param {Array} polygon\r\n * @param {Array} point\r\n * @returns {boolean}\r\n */\nfunction contains(polygon, point) {\n\tvar n = polygon.length,\n\t    p = polygon[n - 1],\n\t    x = point[0],\n\t    y = point[1],\n\t    x0 = p[0],\n\t    y0 = p[1],\n\t    x1,\n\t    y1,\n\t    inside = false;\n\n\tfor (var i = 0; i < n; ++i) {\n\t\tp = polygon[i], x1 = p[0], y1 = p[1];\n\t\tif (y1 > y !== y0 > y && x < (x0 - x1) * (y - y1) / (y0 - y1) + x1) {\n\t\t\tinside = !inside;\n\t\t}\n\t\tx0 = x1, y0 = y1;\n\t}\n\n\treturn inside;\n}\n\n/**\r\n * 创建数据单元\r\n * @public\r\n * @method range\r\n * @param {Number} start 数组元素的最小值\r\n * @param {Number} stop 数组元素的最大值\r\n * @param {Number} [step] 默认是1\r\n * @returns {Array}\r\n */\nfunction range(start, stop, step) {\n\tstart = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n\tvar i = -1,\n\t    n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n\t    range = new Array(n);\n\twhile (++i < n) {\n\t\trange[i] = +(start + i * step).toFixed(10);\n\t}\n\n\treturn range;\n}\n\nvar e10 = Math.sqrt(50);\nvar e5 = Math.sqrt(10);\nvar e2 = Math.sqrt(2);\n\n/**\r\n * 求刻度区间\r\n * @public\r\n * @method ticks\r\n * @param {Number} start\r\n * @param {Number} stop\r\n * @param {Number} [count] 默认为 5\r\n * @returns {Array}\r\n */\nfunction ticks(start, stop, count) {\n\tvar step = tickStep(start, stop, count || 5);\n\tvar result = range(Math.ceil(start / step) * step, Math.floor(stop / step) * step + step / 2, step);\n\n\tvar first = result[0];\n\tvar last = result[result.length - 1];\n\n\tif (first > start) {\n\t\tresult.splice(0, 0, first - step);\n\t}\n\n\tif (last < stop) {\n\t\tresult.push(last + step);\n\t}\n\n\treturn result;\n}\n\n/**\r\n * 步调\r\n * @private\r\n * @method tickStep\r\n * @param {Number} start\r\n * @param {Number} stop\r\n * @param {Number} count\r\n * @returns {Number}\r\n */\nfunction tickStep(start, stop, count) {\n\tvar step0 = Math.abs(stop - start) / Math.max(0, count),\n\t    step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n\t    error = step0 / step1;\n\tif (error >= e10) {\n\t\tstep1 *= 10;\n\t} else if (error >= e5) {\n\t\tstep1 *= 5;\n\t} else if (error >= e2) {\n\t\tstep1 *= 2;\n\t}\n\treturn stop < start ? -step1 : step1;\n}\n\nfunction _ticks(start, stop) {\n\tvar count = arguments.length <= 2 || arguments[2] === undefined ? 5 : arguments[2];\n\n\tvar step0 = Math.floor(Math.log(stop - start) / Math.log(10));\n\tvar unit = Math.pow(10, step0);\n\n\tvar min = Math.floor(start / unit) * unit;\n\tvar max = Math.ceil(stop / unit) * unit;\n\n\tvar step = (max - min) / (count - 1);\n\n\tif (unit === 1 && step > 1 && Math.ceil(step) !== step) {\n\t\tstep = Math.ceil(step);\n\t\tmax = min + step * (count - 1);\n\t}\n\n\tif (min < 0 && max > 0) {\n\t\tmin = Math.floor(min / step) * step;\n\t\tmax = Math.floor(max / step) * step;\n\t}\n\n\tvar count = Math.floor(Math.log(step) / Math.log(10));\n\n\tvar result = [];\n\n\tfor (var i = min; min < max ? i <= max : i >= max; i += step) {\n\t\tif (step < 1) {\n\t\t\tresult.push(parseFloat(i.toFixed(1 - count)));\n\t\t} else {\n\t\t\tresult.push(i);\n\t\t}\n\t}\n\n\treturn result;\n}\n\n/**\r\n * 线性比例\r\n * @public\r\n * @method linear\r\n * @param {Array} domain\r\n * @returns {linear}\r\n */\nfunction linear(domain) {\n\tvar buffer = ticks.apply(this, domain);\n\tvar size = buffer.length;\n\tvar start = buffer[0];\n\tvar stop = buffer[size - 1];\n\tvar range = [1, 0];\n\n\t/**\r\n  * @public\r\n  * @method linear\r\n  * @param {Number} x\r\n  * @returns {Number}\r\n  */\n\tfunction linear(x) {\n\t\treturn Math.floor(range[0] - (x - start) / (stop - start) * (range[0] - range[1]));\n\t}\n\n\t/**\r\n  * @public\r\n  * @method range\r\n  * @param {Array} x\r\n  * @returns {linear}\r\n  */\n\tlinear.range = function (x) {\n\t\treturn x ? (range = x, linear) : range;\n\t};\n\n\t/**\r\n  * @public\r\n  * @method ticks\r\n  * @returns {Array}\r\n  */\n\tlinear.ticks = function () {\n\t\treturn buffer;\n\t};\n\n\treturn linear;\n}\n\n/**\r\n * 离散比例\r\n * @public\r\n * @method ordinal\r\n * @param {Array} domain\r\n * @param {Number} rangeBand [0-1]\r\n * @returns {ordinal}\r\n */\nfunction ordinal(domain, rangeBand) {\n\tvar size = domain.length;\n\tvar start = domain[0];\n\tvar stop = domain[size - 1];\n\tvar range = [1, 0];\n\n\trangeBand = rangeBand || 0;\n\n\tvar buffer = {};\n\n\tdomain.forEach(function (tick, index) {\n\t\tbuffer[tick] = index;\n\t});\n\n\t/**\r\n  * @public\r\n  * @method ordinal\r\n  * @param {String} x\r\n  * @returns {Number}\r\n  */\n\tfunction ordinal(x) {\n\t\tvar n = rangeBand ? 0 : 1;\n\t\tvar width = (range[1] - range[0]) / (size - n);\n\t\treturn rangeBand ? Math.floor(range[0] + width * buffer[x] + width * 0.5) : Math.floor(range[0] + width * buffer[x]);\n\t}\n\n\t/**\r\n  * @public\r\n  * @method rangeBand\r\n  * @returns {Number}\r\n  */\n\tordinal.rangeBand = function () {\n\t\tvar width = (1 - rangeBand * 2) / size * (range[1] - range[0]);\n\t\treturn rangeBand ? Math.floor(width) : 0;\n\t};\n\n\t/**\r\n  * @public\r\n  * @method range\r\n  * @param {Array} x\r\n  * @returns {ordinal}\r\n  */\n\tordinal.range = function (x) {\n\t\treturn x ? (range = x, ordinal) : range;\n\t};\n\n\t/**\r\n  * @public\r\n  * @method ticks\r\n  * @returns {Array}\r\n  */\n\tordinal.ticks = function () {\n\t\treturn domain;\n\t};\n\n\treturn ordinal;\n}\n\nvar TIME_STEPS = [1e3, 5e3, 15e3, 3e4, 6e4, 3e5, 9e5, 18e5, 36e5, 108e5, 216e5, 432e5, 864e5, 1728e5, 6048e5, 2592e6, 7776e6, 31536e6];\n\n/**\r\n * @public\r\n * @method interval\r\n * @param {Function} local\r\n * @param {Function} step\r\n * @param {Function} number\r\n * @returns {local}\r\n */\nfunction interval(local, step, number) {\n\n\tfunction round(date) {\n\t\tvar d0 = local(date),\n\t\t    d1 = offset(d0, 1);\n\t\treturn date - d0 < d1 - date ? d0 : d1;\n\t}\n\n\tfunction ceil(date) {\n\t\tstep(date = local(new Date(date - 1)), 1);\n\t\treturn date;\n\t}\n\n\tfunction offset(date, k) {\n\t\tstep(date = new Date(+date), k);\n\t\treturn date;\n\t}\n\n\tfunction range(t0, t1, dt) {\n\t\tvar time = ceil(t0),\n\t\t    times = [];\n\t\tif (dt > 1) {\n\t\t\twhile (time < t1) {\n\t\t\t\tif (!(number(time) % dt)) {\n\t\t\t\t\ttimes.push(new Date(+time));\n\t\t\t\t}\n\t\t\t\tstep(time, 1);\n\t\t\t}\n\t\t} else {\n\t\t\twhile (time < t1) {\n\t\t\t\ttimes.push(new Date(+time)), step(time, 1);\n\t\t\t}\n\t\t}\n\t\treturn times;\n\t}\n\n\tlocal.floor = local;\n\tlocal.round = round;\n\tlocal.ceil = ceil;\n\tlocal.offset = offset;\n\tlocal.range = range;\n\n\treturn local;\n}\n\nvar TIME_LIST = function () {\n\tvar time = {};\n\n\ttime.second = interval(function (date) {\n\t\treturn new Date(Math.floor(date / 1e3) * 1e3);\n\t}, function (date, offset) {\n\t\tdate.setTime(date.getTime() + Math.floor(offset) * 1e3);\n\t}, function (date) {\n\t\treturn date.getSeconds();\n\t});\n\n\ttime.minute = interval(function (date) {\n\t\treturn new Date(Math.floor(date / 6e4) * 6e4);\n\t}, function (date, offset) {\n\t\tdate.setTime(date.getTime() + Math.floor(offset) * 6e4);\n\t}, function (date) {\n\t\treturn date.getMinutes();\n\t});\n\n\ttime.hour = interval(function (date) {\n\t\tvar timezone = date.getTimezoneOffset() / 60;\n\t\treturn new Date((Math.floor(date / 36e5 - timezone) + timezone) * 36e5);\n\t}, function (date, offset) {\n\t\tdate.setTime(date.getTime() + Math.floor(offset) * 36e5);\n\t}, function (date) {\n\t\treturn date.getHours();\n\t});\n\n\ttime.day = interval(function (date) {\n\t\tvar day = new Date(2e3, 0);\n\t\tday.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\n\t\treturn day;\n\t}, function (date, offset) {\n\t\tdate.setDate(date.getDate() + offset);\n\t}, function (date) {\n\t\treturn date.getDate() - 1;\n\t});\n\n\ttime.dayOfYear = function (date) {\n\t\tvar year = time.year(date);\n\t\treturn Math.floor((date - year - (date.getTimezoneOffset() - year.getTimezoneOffset()) * 6e4) / 864e5);\n\t};\n\n\t[\"sunday\", \"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\"].forEach(function (day, i) {\n\t\ti = 7 - i;\n\t\ttime[day] = interval(function (date) {\n\t\t\t(date = time.day(date)).setDate(date.getDate() - (date.getDay() + i) % 7);\n\t\t\treturn date;\n\t\t}, function (date, offset) {\n\t\t\tdate.setDate(date.getDate() + Math.floor(offset) * 7);\n\t\t}, function (date) {\n\t\t\tvar day = time.year(date).getDay();\n\t\t\treturn Math.floor((time.dayOfYear(date) + (day + i) % 7) / 7) - (day !== i);\n\t\t});\n\n\t\ttime[day + \"OfYear\"] = function (date) {\n\t\t\tvar day = time.year(date).getDay();\n\t\t\treturn Math.floor((time.dayOfYear(date) + (day + i) % 7) / 7);\n\t\t};\n\t});\n\n\ttime.week = time.sunday;\n\n\ttime.month = interval(function (date) {\n\t\tdate = time.day(date);\n\t\tdate.setDate(1);\n\t\treturn date;\n\t}, function (date, offset) {\n\t\tdate.setMonth(date.getMonth() + offset);\n\t}, function (date) {\n\t\treturn date.getMonth();\n\t});\n\n\ttime.year = interval(function (date) {\n\t\tdate = time.day(date);\n\t\tdate.setMonth(0, 1);\n\t\treturn date;\n\t}, function (date, offset) {\n\t\tdate.setFullYear(date.getFullYear() + offset);\n\t}, function (date) {\n\t\treturn date.getFullYear();\n\t});\n\n\treturn [[time.second, 1], [time.second, 5], [time.second, 15], [time.second, 30], [time.minute, 1], [time.minute, 5], [time.minute, 15], [time.minute, 30], [time.hour, 1], [time.hour, 3], [time.hour, 6], [time.hour, 12], [time.day, 1], [time.day, 2], [time.week, 1], [time.month, 1], [time.month, 3], [time.year, 1]];\n}();\n\nfunction scaleDate(t) {\n\treturn new Date(t);\n}\n\nfunction identity(d) {\n\treturn d;\n}\n\nvar scaleMilliseconds = {\n\trange: function range(start, stop, step) {\n\t\treturn d3.range(Math.ceil(start / step) * step, +stop, step).map(scaleDate);\n\t},\n\tfloor: identity,\n\tceil: identity\n};\n\nfunction tickMethod(extent, count) {\n\tvar span = extent[1] - extent[0];\n\tvar target = span / count;\n\tvar i = bisect(TIME_STEPS, target);\n\tvar interval;\n\tvar step;\n\tif (i === TIME_LIST.length) {\n\t\tinterval = methods.year;\n\t\tstep = range(extent.map(function (d) {\n\t\t\treturn d / 31536e6;\n\t\t}), count)[2];\n\t} else if (!i) {\n\t\tinterval = scaleMilliseconds;\n\t\tstep = range(extent, count)[2];\n\t} else {\n\t\tvar index = target / TIME_STEPS[i - 1] < TIME_STEPS[i] / target ? i - 1 : i;\n\t\tvar method = TIME_LIST[index];\n\t\tinterval = method[0];\n\t\tstep = method[1];\n\t}\n\n\treturn interval.range(extent[0], new Date(extent[1] + 1), step);\n}\n\n/**\r\n * 时间比例\r\n * @public\r\n * @method extime\r\n * @param {Array} domain\r\n * @returns {ordinal}\r\n */\nfunction extime(domain) {\n\tvar buffer = tickMethod(domain, 5).map(function (d) {\n\t\treturn new Date(d).getTime();\n\t});\n\tvar range = [1, 0];\n\n\tfunction timer(x) {\n\t\treturn Math.floor(range[0] - (new Date(x).getTime() - domain[0]) / (domain[1] - domain[0]) * (range[0] - range[1]));\n\t}\n\t/**\r\n  * @public\r\n  * @method range\r\n  * @param {Array} x\r\n  * @returns {timer}\r\n  */\n\ttimer.range = function (x) {\n\t\treturn x ? (range = x, timer) : range;\n\t};\n\n\t/**\r\n  * @public\r\n  * @method ticks\r\n  * @returns {Array}\r\n  */\n\ttimer.ticks = function () {\n\t\treturn buffer;\n\t};\n\n\ttimer.parse = function (x, size) {\n\t\tvar width = range[1] - range[0];\n\t\tvar band = width / (size - 1);\n\n\t\tif (x < band / 2) {\n\t\t\tx = x;\n\t\t} else if (x + band / 2 > width) {\n\t\t\tx = x + band * 0.5;\n\t\t} else {\n\t\t\tx = x + band * 0.5;\n\t\t}\n\t\treturn Math.floor(x / band);\n\t};\n\n\treturn timer;\n}\n\nfunction time(domain, gs) {\n\tvar range;\n\tvar format = date(domain[0]);\n\n\tvar exclude = [format('11:30'), format('13:00')].map(function (d) {\n\t\treturn new Date(d).getTime();\n\t});\n\n\tvar scale = extime([domain[0], domain[1] - (exclude[1] - exclude[0]) + (gs || 0)]);\n\n\tfunction exscale(d) {\n\t\tvar t0 = new Date(d).getTime();\n\t\tvar t1 = new Date(t0 > exclude[0] ? t0 - (exclude[1] - exclude[0]) + (gs || 0) : t0).getTime();\n\t\treturn scale(t1);\n\t}\n\n\texscale.range = function (x) {\n\t\treturn x ? (range = x, scale.range(x), exscale) : range;\n\t};\n\n\texscale.parse = function (x, size) {\n\t\tvar width = range[1] - range[0];\n\n\t\tvar band = width / (size - 1);\n\n\t\tif (x < band / 2) {\n\t\t\tx = x;\n\t\t} else if (x + band / 2 > width) {\n\t\t\tx = x + band * 0.5;\n\t\t} else {\n\t\t\tx = x + band;\n\t\t}\n\t\treturn Math.floor(x / band);\n\t};\n\n\texscale.ticks = function () {\n\t\treturn [format('9:30'), format('10:30'), format('11:30'), format('14:00'), format('15:00')].map(function (d) {\n\t\t\treturn new Date(d).getTime();\n\t\t});\n\t};\n\n\treturn domain[1] > new Date(format('11:30')).getTime() ? exscale : extime(domain);\n}\n\nfunction date(d) {\n\tvar t = new Date(d);\n\treturn function (hms) {\n\t\treturn t.getFullYear() + '/' + (t.getMonth() + 1) + '/' + t.getDate() + ' ' + hms;\n\t};\n}\n\nfunction gather(size, range) {\n\tvar gs = 1;\n\tvar time = [1, 3, 5, 10, 15, 30, 60, 180, 300, 600, 900];\n\teach(time, function (d, i) {\n\t\tif (size / (range / d + 2) >= 5) {\n\t\t\treturn gs = d, false;\n\t\t}\n\t});\n\n\tfunction dataFilter(data, callback) {\n\t\tvar result = [];\n\t\tvar item = [];\n\t\teach(data, function (d) {\n\t\t\tvar t = new Date(d[0]);\n\t\t\tif (gs < 60) {\n\t\t\t\titem.push(d);\n\t\t\t\tif (t.getSeconds() % gs === 0) {\n\t\t\t\t\tresult.push(callback(item, gs * 1000) || []);\n\t\t\t\t\titem = [];\n\t\t\t\t}\n\t\t\t} else if (gs >= 60 && gs <= 900) {\n\t\t\t\titem.push(d);\n\t\t\t\tif (t.getMinutes() % (gs / 60) === 0) {\n\t\t\t\t\tresult.push(callback(item, gs * 1000) || []);\n\t\t\t\t\titem = [];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//todo\n\t\t\t\tresult.push(d);\n\t\t\t}\n\t\t});\n\n\t\treturn result;\n\t}\n\n\tdataFilter.gs = gs * 1000;\n\n\treturn dataFilter;\n}\n\nexports.version = version;\nexports.guid = guid;\nexports.measure = measure;\nexports.each = each;\nexports.number = number;\nexports.isNumber = isNumber;\nexports.extent = extent;\nexports.min = min;\nexports.max = max;\nexports.sum = sum;\nexports.range = range;\nexports.stack = stack;\nexports.contains = contains;\nexports.centroid = centroid;\nexports.uniform = uniform;\nexports.entries = entries;\nexports.keys = keys;\nexports.values = values;\nexports.shuffle = shuffle;\nexports.constant = constant;\nexports.linear = linear;\nexports.time = time;\nexports.extime = extime;\nexports.ordinal = ordinal;\nexports.gather = gather;\n\n},{}],13:[function(require,module,exports){\n'use strict';\n\n/**\r\n * 比例尺刻度\r\n * @public\t \r\n * @method d3SvgAxisNodes\r\n * @param {Document} context\r\n * @param {Array} data [{x: number, y: number, value: number, tick: string}, ...]\r\n * @param {String} orient `left|right|top|bottom`\r\n * @param {String} label 坐标刻度说明\r\n * @returns {void}\r\n */\n\nfunction d3SvgAxisNodes(context, data, orient, label) {\n\tvar axis = context.selectAll('g.axis-' + orient).data([orient]);\n\taxis.enter().append('g').attr('class', 'axis axis-' + orient);\n\taxis.exit().remove();\n\n\tvar items = axis.selectAll('text').data(data);\n\titems.enter().append('text').attr('x', function (d) {\n\t\treturn d.x;\n\t}).attr('y', function (d) {\n\t\treturn d.y;\n\t});\n\n\titems.attr('class', function (d) {\n\t\treturn d.hasOwnProperty('value') ? d.value >= 0 ? 'tick-plus' : 'tick-minus' : 'tick-nums';\n\t}).style('text-anchor', function (d) {\n\t\treturn d.anchor;\n\t}).text(function (d) {\n\t\treturn d.tick;\n\t}).attr('transform', function (d) {\n\t\treturn 'translate(' + d.translate + ')rotate(' + d.rotate + ')';\n\t});\n\n\titems.exit().remove();\n}\n\n/**\r\n * Export `d3SvgAxisNodes`\r\n */\nmodule.exports = d3SvgAxisNodes;\n\n},{}],14:[function(require,module,exports){\n'use strict';\n\nvar TEXT_POINTS = [{ x: 0, y: -5, 'align': 'middle' }, { x: 8, y: 5, 'align': 'start' }, { x: 0, y: 15, 'align': 'middle' }, { x: -8, y: 5, 'align': 'end' }];\n\nfunction TipsPathData(size) {\n\tif (!size) {\n\t\treturn [];\n\t}\n\treturn ['M-' + size / 2 + ',0L' + size / 2 + ',0L' + size / 2 + ',-21L-' + size / 2 + ',-21Z', 'M0,0L 3,3L3,10L' + (size + 3) + ',10L' + (size + 3) + ',-10L3,-10L3,-3Z', 'M-' + size / 2 + ',0L' + size / 2 + ',0L' + size / 2 + ',21L-' + size / 2 + ',21Z', 'M0,0L-3,-3L-3,-10L-' + (size + 3) + ',-10L-' + (size + 3) + ',10L-3,10L-3,3Z'];\n}\n\n/**\r\n * 刻度提示\r\n * @public\t \r\n * @method d3SvgAxisTips\r\n * @param {Document} context\r\n * @param {Array} data [{x: number, y: number, align: 'start|middle|end ', label: string}, ...]\r\n * @returns {void}\r\n */\nfunction d3SvgAxisTips(context, data) {\n\tvar tips = context.selectAll('g.tips-value').data(['tips-value']);\n\ttips.enter().append('g').attr('class', function (d) {\n\t\treturn d;\n\t});\n\n\ttips.exit().remove();\n\n\tvar items = tips.selectAll('path').data(data);\n\n\titems.enter().append('path');\n\n\titems.attr('d', function (d, i) {\n\t\treturn TipsPathData(d.size)[i];\n\t}).attr('transform', function (d) {\n\t\treturn 'translate(' + d.x + ',' + d.y + ')';\n\t});\n\n\titems.exit().remove();\n\n\tvar text = tips.selectAll('text').data(data);\n\n\ttext.enter().append('text').attr('x', function (d, i) {\n\t\treturn TEXT_POINTS[i].x;\n\t}).attr('y', function (d, i) {\n\t\treturn TEXT_POINTS[i].y;\n\t}).style('text-anchor', function (d, i) {\n\t\treturn TEXT_POINTS[i].align;\n\t});\n\n\ttext.text(function (d) {\n\t\treturn d.value;\n\t}).attr('transform', function (d) {\n\t\treturn 'translate(' + d.x + ',' + d.y + ')';\n\t});\n\n\ttext.exit().remove();\n}\n\n/**\r\n * Export `d3SvgAxisTips`\r\n */\nmodule.exports = d3SvgAxisTips;\n\n},{}],15:[function(require,module,exports){\n'use strict';\n\nfunction d3SvgBrush(context, left, top, x, h, extent) {\n\tvar wrap = context.selectAll('g.brush').data(['brush']);\n\n\twrap.enter().append('g').attr('class', function (d) {\n\t\treturn d;\n\t});\n\n\twrap.attr('transform', function (d) {\n\t\treturn 'translate(' + 0 + ', ' + top + ')';\n\t});\n\n\twrap.exit().remove();\n\n\tvar brush = d3.svg.brush().x(x)\n\t//.extent(extent)\n\t.on(\"brushstart\", function () {\n\t\tvar extent = brush.extent();\n\t\tvar start = Math.floor(extent[0]);\n\t\tvar stop = Math.floor(extent[1]);\n\t}).on(\"brushend\", function (d) {\n\t\tvar extent = brush.extent();\n\t\tvar start = Math.floor(extent[0]);\n\t\tvar stop = Math.floor(extent[1]);\n\n\t\tif (stop !== start) {\n\t\t\tconsole.log(stop, start);\n\t\t\t//chart.fire('brush-end', category[start], category[stop]);\n\t\t}\n\t}).on(\"brush\", function () {\n\t\tvar extent = brush.extent();\n\t\tvar start = Math.floor(extent[0]);\n\t\tvar stop = Math.floor(extent[1]);\n\t});\n\n\twrap.call(brush).selectAll('rect').attr('height', h);\n}\n\n/**\r\n * Export `d3SvgBrush`\r\n */\nmodule.exports = d3SvgBrush;\n\n},{}],16:[function(require,module,exports){\n'use strict';\n\n/**\r\n * 图形说明\r\n * @public\t \r\n * @method d3SvgDesc\r\n * @param {Document} context\r\n * @param {String} desc\r\n * @returns {void}\r\n */\n\nfunction d3SvgDesc(context, desc) {\n  var describe = context.selectAll('desc.svg-desc').data([desc]);\n\n  describe.enter().append('desc').attr('class', 'svg-desc').text(function (d) {\n    return d;\n  });\n\n  describe.exit().remove();\n}\n\n/**\r\n * Export `d3SvgDesc`\r\n */\nmodule.exports = d3SvgDesc;\n\n},{}],17:[function(require,module,exports){\n'use strict';\n\nfunction gridLineData(scaleX, scaleY) {\n\tvar rangeX = scaleX.range();\n\tvar ticksX = scaleX.ticks();\n\n\tvar rangeY = scaleY.range();\n\tvar ticksY = scaleY.ticks();\n\n\tvar result = [];\n\n\tif (Math.floor(scaleX(ticksX[0])) !== Math.floor(rangeX[0])) {\n\t\tresult.push({\n\t\t\tx: Math.floor(rangeX[0]) + 0.5,\n\t\t\ty: 0,\n\t\t\ty1: rangeY[0],\n\t\t\ty2: rangeY[1]\n\t\t});\n\t}\n\n\tticksX.forEach(function (d) {\n\t\tresult.push({\n\t\t\tx: scaleX(d) + 0.5,\n\t\t\ty: 0,\n\t\t\ty1: rangeY[0],\n\t\t\ty2: rangeY[1]\n\t\t});\n\t});\n\n\tif (Math.floor(scaleX(ticksX[ticksX.length - 1])) !== Math.floor(rangeX[1])) {\n\t\tresult.push({\n\t\t\tx: rangeX[1] + 0.5,\n\t\t\ty: 0,\n\t\t\ty1: rangeY[0],\n\t\t\ty2: rangeY[1]\n\t\t});\n\t}\n\n\tticksY.forEach(function (d, i) {\n\t\tresult.push({\n\t\t\tx: rangeX[0] - 1,\n\t\t\ty: scaleY(d) + 0.5,\n\t\t\tx1: 0,\n\t\t\tx2: rangeX[1] - rangeX[0] + 2,\n\t\t\tstyle: d === 0 ? 'graph-zero' : ''\n\t\t});\n\t});\n\n\treturn result;\n}\n\n/**\r\n * 图形网络线\r\n * @public\t \r\n * @method d3SvgGridLine\r\n * @param {Document} context\r\n * @param {Function} scaleX\r\n * @param {Function} scaleY \r\n * @returns {void}\r\n */\nfunction d3SvgGridLine(context, scaleX, scaleY, ticksX) {\n\tvar data = gridLineData(scaleX, scaleY);\n\n\tvar grid = context.selectAll('g.grid-line').data(['grid-line']);\n\n\tgrid.enter().append('g').attr('class', function (d) {\n\t\treturn d;\n\t});\n\n\tgrid.exit().remove();\n\n\tvar items = grid.selectAll('line').data(data);\n\n\titems.enter().append('line');\n\n\titems.attr('x1', function (d) {\n\t\treturn d.x1;\n\t}).attr('x2', function (d) {\n\t\treturn d.x2;\n\t}).attr('y1', function (d) {\n\t\treturn d.y1;\n\t}).attr('y2', function (d) {\n\t\treturn d.y2;\n\t}).attr('class', function (d) {\n\t\treturn d.style;\n\t}).attr('transform', function (d) {\n\t\treturn 'translate(' + d.x + ', ' + d.y + ')';\n\t});\n\n\titems.exit().remove();\n\n\treturn grid;\n}\n\n/**\r\n * Export `d3SvgGridLine`\r\n */\nmodule.exports = d3SvgGridLine;\n\n},{}],18:[function(require,module,exports){\n'use strict';\n\n/**\r\n * 鼠标Hover事件\r\n * @public\t \r\n * @method d3SvgHover\r\n * @param {Document} context\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @param {Number} width \r\n * @param {Number} height \r\n * @returns {void}\r\n */\n\nfunction d3SvgHover(context, id, x, y, width, height) {\n  var rect = context.selectAll('rect.graph-hover').data([{ name: 'graph-hover', left: x, top: y }]);\n\n  rect.enter().append('rect').attr('class', function (d) {\n    return d.name;\n  }).attr('id', id);\n\n  rect.attr('width', width).attr('height', height).attr('transform', function (d) {\n    return 'translate(' + d.left + ',' + d.top + ')';\n  });\n\n  rect.exit().remove();\n\n  return rect;\n}\n/**\r\n * Export `d3SvgHover`\r\n */\nmodule.exports = d3SvgHover;\n\n},{}],19:[function(require,module,exports){\n'use strict';\n\n/**\r\n * MarkerTips\r\n * @public\t \r\n * @method d3SvgMarkerTips\r\n * @param {Document} context\r\n * @param {Array} data [{left: number, top: number, label: string}]\r\n * @returns {void}\r\n */\n\nfunction d3SvgMarkerTips(context, data) {\n\tvar marker = context.selectAll('div.marker-tips').data(data);\n\n\tmarker.enter().append('div').attr('class', 'marker-tips');\n\n\tmarker.style('left', function (d) {\n\t\treturn d.left + 12 + 'px';\n\t}).style('top', function (d) {\n\t\treturn d.top - 10 + 'px';\n\t}).html(function (d) {\n\t\treturn d.label;\n\t});\n\n\t/*marker.attr('transform', function(d) {\r\n \treturn 'translate('+d.left+', '+ d.top+')';\r\n }).html(function(d) {\r\n \treturn d.label;\r\n });*/\n\n\tmarker.exit().remove();\n\n\tvar icon = marker.selectAll('span.marker-icon').data(['marker-icon']);\n\ticon.enter().append('span').attr('class', 'marker-icon');\n\ticon.exit().remove();\n\t/*\r\n <div class=\"marker-tips\">\r\n \t\t<p>09:30:05.878</p>\r\n \t\t<p>笔数:1500</p>\r\n \t\t<p>笔数:1500</p>\r\n \t\t<span class=\"icon\"></span>\r\n \t</div>\r\n */\n}\n\n/**\r\n * Export `d3SvgMarkerTips`\r\n */\nmodule.exports = d3SvgMarkerTips;\n\n},{}],20:[function(require,module,exports){\n'use strict';\n\n/**\r\n * 图形遮罩层\r\n * @public\t \r\n * @method d3SvgMask\r\n * @param {Document} context\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @param {Number} width \r\n * @param {Number} height \r\n * @returns {void}\r\n */\n\nfunction d3SvgMask(context, id, x, y, width, height) {\n\tvar defs = context.selectAll('defs').data(['defs']);\n\tdefs.enter().append('defs');\n\tdefs.exit().remove();\n\n\tvar mask = defs.selectAll('clipPath#' + id).data([id]);\n\tmask.enter().append('clipPath').attr('id', id);\n\tmask.exit().remove();\n\n\tvar rect = mask.selectAll('rect.' + id).data([id]);\n\trect.enter().append('rect').attr('class', id);\n\n\trect.attr('width', width).attr('height', height).attr('transform', function (d) {\n\t\treturn 'translate(' + x + ',' + y + ')';\n\t});\n\n\trect.exit().remove();\n}\n\n/**\r\n * Export `d3SvgMask`\r\n */\nmodule.exports = d3SvgMask;\n\n},{}],21:[function(require,module,exports){\n'use strict';\n\n/**\r\n * 图形说明\r\n * @public\t \r\n * @method d3SvgMessage\r\n * @param {Document} context\r\n * @param {String} desc\r\n * @returns {void}\r\n */\n\nfunction d3SvgMessage(context, desc) {\n  var message = context.selectAll('text.svg-message').data([desc]);\n\n  message.enter().append('text').attr('class', 'svg-message').attr('text-anchor', 'middle');\n\n  message.attr('x', function (d) {\n    return d.x;\n  }).attr('y', function (d) {\n    return d.y;\n  }).text(function (d) {\n    return d.label;\n  });\n\n  message.exit().remove();\n}\n\n/**\r\n * Export `d3SvgMessage`\r\n */\nmodule.exports = d3SvgMessage;\n\n},{}],22:[function(require,module,exports){\n'use strict';\n\n/**\r\n * SVG画布\r\n * @public\t \r\n * @method d3SvgPaint\r\n * @param {String} id\r\n * @param {Document} domEl\r\n * @param {Number} width\r\n * @param {Number} height\r\n * @returns {Document:SVG}\r\n */\n\nfunction d3SvgPaint(context, id, width, height) {\n  var svg = context.selectAll('svg#svg-' + id).data(['svg-' + id]);\n\n  svg.enter().append('svg').attr('id', function (d) {\n    return d;\n  }).attr('version', '1.1');\n\n  svg.attr('width', width).attr('height', height);\n\n  svg.exit().remove();\n\n  return svg;\n}\n\n/**\r\n * Export `d3SvgPaint`\r\n */\nmodule.exports = d3SvgPaint;\n\n},{}],23:[function(require,module,exports){\n'use strict';\n\nvar CLASS_LIST = ['cursor-line-vertical', 'cursor-line-horizontal'];\n\nvar CLASS_MAPS = CLASS_LIST.map(function (d) {\n\treturn 'line.' + d;\n}).join(',');\n\n/**\r\n * PointerEvents\r\n * @private\t \r\n * @method d3SvgPointerEvents\r\n * @param {Document} context\r\n * @param {Array} data \r\n * @returns {void}\r\n */\nfunction d3SvgPointerEvents(context, data) {\n\tvar pointer = context.selectAll('g.pointer-events').data(['pointer-events']);\n\tpointer.enter().append('g').attr('class', function (d) {\n\t\treturn d;\n\t});\n\tpointer.exit().remove();\n\n\tvar lines = pointer.selectAll(CLASS_MAPS).data(data);\n\tlines.enter().append('line').attr('class', function (d, i) {\n\t\treturn CLASS_LIST[i];\n\t});\n\n\tlines.attr('x1', function (d) {\n\t\treturn d.x1;\n\t}).attr('x2', function (d) {\n\t\treturn d.x2;\n\t}).attr('y1', function (d) {\n\t\treturn d.y1;\n\t}).attr('y2', function (d) {\n\t\treturn d.y2;\n\t}).attr('transform', function (d) {\n\t\treturn 'translate(' + d.x + ', ' + d.y + ')';\n\t});\n\n\tlines.exit().remove();\n}\n\n/**\r\n * Export `d3SvgPointerEvents`\r\n */\nmodule.exports = d3SvgPointerEvents;\n\n},{}],24:[function(require,module,exports){\n'use strict';\n\n/**\r\n * 鼠标选区\r\n * @public\t \r\n * @method d3SvgHover\r\n * @param {Document} context\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @param {Number} width \r\n * @param {Number} height \r\n * @returns {void}\r\n */\n\nfunction d3SvgSelection(context, x, y, width, height) {\n  var rect = context.selectAll('rect.graph-selection').data(['graph-selection']);\n\n  rect.enter().append('rect').attr('class', function (d) {\n    return d;\n  });\n\n  rect.attr('width', width).attr('height', height).attr('transform', function (d) {\n    return 'translate(' + x + ',' + y + ')';\n  });\n\n  rect.exit().remove();\n\n  return rect;\n}\n/**\r\n * Export `d3SvgSelection`\r\n */\nmodule.exports = d3SvgSelection;\n\n},{}],25:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar utils = require('./../../core/utils');\nvar colors = require('./../../core/colors');\nvar dataset = require('./../../core/dataset');\n\nvar d3WidgetMask = require('./../../widget/d3WidgetMask');\nvar d3WidgetHover = require('./../../widget/d3WidgetHover');\nvar d3WidgetSelection = require('./../../widget/d3WidgetSelection');\nvar d3WidgetPaint = require('./../../widget/d3WidgetPaint');\nvar d3WidgetMarker = require('./../../widget/d3WidgetMarker');\nvar d3WidgetLine = require('./../../widget/d3WidgetLine');\nvar d3WidgetBrush = require('./../../widget/d3WidgetBrush');\nvar d3WidgetMessage = require('./../../widget/d3WidgetMessage');\nvar d3WidgetAxisTips = require('./../../widget/d3WidgetAxisTips');\nvar d3WidgetGridLine = require('./../../widget/d3WidgetGridLine');\nvar d3WidgetAxisNodes = require('./../../widget/d3WidgetAxisNodes');\nvar d3WidgetPointerEvents = require('./../../widget/d3WidgetPointerEvents');\n\nvar Brush = function () {\n\tfunction Brush(options) {\n\t\t_classCallCheck(this, Brush);\n\n\t\tvar date = new Date();\n\t\tvar day = date.getFullYear() + '/' + (date.getMonth() + 1) + '/' + date.getDate();\n\t\tvar scope = dataset(options, [[day + ' 9:30', -2], [day + ' 15:00', 2]]);\n\t\tscope.guid = utils.guid();\n\t\tscope.uid = 's-chart-el-' + scope.guid;\n\t\tscope.progress = 0;\n\n\t\tfunction x(d, i) {\n\t\t\treturn scope.$Scale.get(2)(new Date(d[0]).getTime());\n\t\t}\n\n\t\tfunction y(d) {\n\t\t\treturn scope.$Scale.get(3)(d[1]);\n\t\t}\n\n\t\tfunction defined(d) {\n\t\t\treturn !isNaN(d[1]);\n\t\t}\n\n\t\tvar context = d3WidgetPaint(options.id, scope.width, scope.height, scope).call(d3WidgetMask(scope))\n\t\t//.call(d3WidgetPointerEvents(scope))\n\t\t.call(d3WidgetGridLine(scope), function () {\n\t\t\treturn scope.$Scale.get(2);\n\t\t}, function () {\n\t\t\treturn scope.$Scale.get(3);\n\t\t}).call(d3WidgetAxisNodes(scope))\n\t\t//.call(d3WidgetAxisTips(scope))\n\t\t.call(d3WidgetMessage(scope)).call(d3WidgetLine(scope), scope.uid, x, y, defined, true).call(d3WidgetBrush(scope), scope.$Scale.get(2), null);\n\t\t//.call(d3WidgetSelection(scope))\n\t\t//.call(d3WidgetHover(scope));\n\n\t\tthis.$WATCHER = scope;\n\t}\n\n\t_createClass(Brush, [{\n\t\tkey: 'progress',\n\t\tvalue: function progress(x) {\n\t\t\tthis.$WATCHER.progress = x;\n\t\t}\n\t}, {\n\t\tkey: 'mouse',\n\t\tvalue: function mouse(x) {\n\t\t\t//console.log(\"Brush\",this.$WATCHER.mouse);\n\t\t\t//this.$WATCHER.$EVENT_HOVER = x;\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render(data) {\n\t\t\tthis.$WATCHER.LINE_DATA = data;\n\t\t}\n\t}]);\n\n\treturn Brush;\n}();\n\n/**\r\n * Export `chart.Brush`\r\n */\n\n\nmodule.exports = Brush;\n\n},{\"./../../core/colors\":3,\"./../../core/dataset\":4,\"./../../core/utils\":12,\"./../../widget/d3WidgetAxisNodes\":34,\"./../../widget/d3WidgetAxisTips\":35,\"./../../widget/d3WidgetBrush\":36,\"./../../widget/d3WidgetGridLine\":38,\"./../../widget/d3WidgetHover\":39,\"./../../widget/d3WidgetLine\":40,\"./../../widget/d3WidgetMarker\":41,\"./../../widget/d3WidgetMask\":43,\"./../../widget/d3WidgetMessage\":44,\"./../../widget/d3WidgetPaint\":45,\"./../../widget/d3WidgetPointerEvents\":47,\"./../../widget/d3WidgetSelection\":49}],26:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar utils = require('./../../core/utils');\nvar colors = require('./../../core/colors');\nvar dataset = require('./../../core/dataset');\nvar resizable = require('./../../core/resizable');\n\nvar d3WidgetMask = require('./../../widget/d3WidgetMask');\nvar d3WidgetRect = require('./../../widget/d3WidgetRect');\nvar d3WidgetHover = require('./../../widget/d3WidgetHover');\nvar d3WidgetSelection = require('./../../widget/d3WidgetSelection');\nvar d3WidgetPaint = require('./../../widget/d3WidgetPaint');\nvar d3WidgetMarker = require('./../../widget/d3WidgetMarker');\nvar d3WidgetPath = require('./../../widget/d3WidgetPath');\nvar d3WidgetCandlestick = require('./../../widget/d3WidgetCandlestick');\nvar d3WidgetMessage = require('./../../widget/d3WidgetMessage');\nvar d3WidgetAxisTips = require('./../../widget/d3WidgetAxisTips');\nvar d3WidgetGridLine = require('./../../widget/d3WidgetGridLine');\nvar d3WidgetMarkerTips = require('./../../widget/d3WidgetMarkerTips');\nvar d3WidgetAxisNodes = require('./../../widget/d3WidgetAxisNodes');\nvar d3WidgetPointerEvents = require('./../../widget/d3WidgetPointerEvents');\n\nvar Candlestick = function () {\n\tfunction Candlestick(options) {\n\t\t_classCallCheck(this, Candlestick);\n\n\t\tvar date = new Date();\n\t\tvar day = date.getFullYear() + '/' + (date.getMonth() + 1) + '/' + date.getDate();\n\n\t\tif (options.width === '100%') {\n\t\t\tif (options.domEl) {\n\t\t\t\toptions.width = options.domEl.offsetWidth;\n\t\t\t} else {\n\t\t\t\toptions.width = document.getElementById(options.id).offsetWidth;\n\t\t\t}\n\t\t}\n\n\t\tvar scope = dataset(options, [[day + \" 9:30\", 4, 2, 1, 3], [day + \" 15:00\", 4, 2, 1, 3]]);\n\n\t\tscope.guid = utils.guid();\n\n\t\tscope.uid = 's-chart-el-' + scope.guid;\n\n\t\tscope.progress = 0;\n\n\t\tresizable.$watch('resize', function () {\n\t\t\tif (options.domEl) {\n\t\t\t\tscope.width = options.domEl.offsetWidth;\n\t\t\t\tscope.resizable = [scope.width, scope.height];\n\t\t\t} else {\n\t\t\t\tscope.width = document.getElementById(options.id).offsetWidth;\n\t\t\t\tscope.resizable = [scope.width, scope.height];\n\t\t\t}\n\t\t});\n\n\t\tfunction x(d, i) {\n\t\t\tvar size = (scope.$DATA_STORAGE || []).length;\n\n\t\t\tvar band = 0;\n\t\t\tif (size) {\n\t\t\t\tband = Math.floor((scope.width - scope.$Layout.LEFT_VALUE - scope.$Layout.RIGHT_VALUE) / size);\n\t\t\t\tband = band > 3 ? band > 20 ? 20 : band : 3;\n\t\t\t}\n\t\t\treturn scope.$Scale.get(2)(new Date(d[0]).getTime()) - Math.floor(band * 0.45) + 1;\n\t\t}\n\n\t\tfunction y(d) {\n\t\t\treturn scope.$Scale.get(3)(d);\n\t\t}\n\n\t\tfunction markerY(d) {\n\t\t\treturn scope.$Scale.get(3)(d[1]);\n\t\t}\n\n\t\tfunction lineY(d) {\n\t\t\treturn scope.$Scale.get(3)(d[1]);\n\t\t}\n\n\t\tfunction w(d) {\n\t\t\tvar size = (scope.$DATA_STORAGE || []).length;\n\n\t\t\tif (size) {\n\t\t\t\tvar band = Math.floor((scope.width - scope.$Layout.LEFT_VALUE - scope.$Layout.RIGHT_VALUE) / size);\n\t\t\t\tband = band > 20 ? 20 : band;\n\t\t\t\tband = Math.floor(band * 0.9) - Math.floor(band * 0.9) % 2 - 2;\n\t\t\t\treturn band > 3 ? band : 3;\n\t\t\t}\n\t\t\treturn 1;\n\t\t}\n\n\t\tfunction h(d) {\n\t\t\treturn 1;\n\t\t}\n\n\t\tfunction defined(d) {\n\t\t\treturn !isNaN(d[1]);\n\t\t}\n\n\t\t//this['_tooltips_'] = d3.select('#' + options.id).append('div').attr('class', 'chart-tooltips');\n\n\t\tthis[0] = d3WidgetPaint(options.id, scope.width, scope.height, scope).call(d3WidgetMask(scope)).call(d3WidgetPointerEvents(scope)).call(d3WidgetGridLine(scope), function () {\n\t\t\treturn scope.$Scale.get(2);\n\t\t}, function () {\n\t\t\treturn scope.$Scale.get(3);\n\t\t}).call(d3WidgetAxisNodes(scope)).call(d3WidgetAxisTips(scope)).call(d3WidgetMessage(scope)).call(d3WidgetCandlestick(scope), x, y, w, h).call(d3WidgetPath(scope), scope.uid, x, lineY, defined, true).call(d3WidgetSelection(scope)).call(d3WidgetHover(scope)).call(d3WidgetMarker(scope), x, markerY, function (d) {\n\t\t\treturn d[2] === 'S' ? 'minus' : 'plus';\n\t\t});\n\n\t\tvar wrapper = d3.select('#' + options.id);\n\n\t\twrapper.call(d3WidgetMarkerTips(scope));\n\n\t\tvar tips = wrapper.append('div').attr('class', 'chart-tooltips');\n\n\t\tscope.element_tips = {\n\t\t\tleft: options.left,\n\t\t\tright: options.right,\n\t\t\ttips: tips,\n\t\t\tlabel: options.tooltips\n\t\t};\n\n\t\tthis.$WATCHER = scope;\n\t}\n\n\t_createClass(Candlestick, [{\n\t\tkey: 'progress',\n\t\tvalue: function progress(x) {\n\t\t\tthis.$WATCHER.progress = x;\n\t\t}\n\t}, {\n\t\tkey: 'mouse',\n\t\tvalue: function mouse(layers) {\n\t\t\tvar layerX = layers[0];\n\t\t\tvar layerY = layers[1];\n\t\t\tvar $WATCHER = this.$WATCHER;\n\t\t\tvar $Layout = $WATCHER.$Layout;\n\t\t\tvar $Config = $WATCHER.$Config;\n\t\t\tvar LEFT_VALUE = $Layout.LEFT_VALUE;\n\n\t\t\tvar x = layerX - LEFT_VALUE;\n\n\t\t\tif ($WATCHER.guid !== layers[2]) {\n\t\t\t\tlayerY = -9999;\n\t\t\t}\n\n\t\t\tvar tips = $WATCHER.element_tips.tips.node();\n\n\t\t\tif (x > 0) {\n\t\t\t\ttry {\n\t\t\t\t\tvar index = $WATCHER.$Scale.get(2).parse(x, $WATCHER.CANDLESTICK_DATA.length);\n\t\t\t\t\tvar data = $WATCHER.CANDLESTICK_DATA[index];\n\t\t\t\t\tvar label = data[0];\n\n\t\t\t\t\t$WATCHER.$EVENT_HOVER = [$WATCHER.$Scale.get(2)(label), layerY];\n\n\t\t\t\t\t$WATCHER.$AXIS_TIPS = $WATCHER.$Extents.map(function (extent, index) {\n\t\t\t\t\t\treturn index === 2 ? label : extent;\n\t\t\t\t\t});\n\n\t\t\t\t\ttips.removeAttribute('style');\n\t\t\t\t\ttips.style.display = 'block';\n\t\t\t\t\tif (x > $WATCHER.width / 2) {\n\t\t\t\t\t\ttips.style.left = $WATCHER.element_tips.left + 'px';\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttips.style.right = $WATCHER.element_tips.right + 'px';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof $WATCHER.element_tips.label === 'function') {\n\t\t\t\t\t\ttips.innerHTML = $WATCHER.element_tips.label(data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttips.innerHTML = data.join('<br>');\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.log(e);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$WATCHER.$EVENT_TIPS = { x: -9999, y: -9999, data: [null, null, null, null] };\n\t\t\t\t$WATCHER.$EVENT_HOVER = layers;\n\t\t\t\ttips.style.display = 'none';\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'pinch',\n\t\tvalue: function pinch(params) {\n\t\t\tconsole.log(params);\n\t\t\t//var $WATCHER = this.$WATCHER;\n\t\t\t//$WATCHER.CANDLESTICK_DATA;\n\t\t\t//console.log($WATCHER.$Scale.get(3));\n\t\t}\n\t}, {\n\t\tkey: 'watch',\n\t\tvalue: function watch(name, callback) {\n\t\t\tvar $WATCHER = this.$WATCHER;\n\n\t\t\t$WATCHER.$watch('$CURRENT_' + name.toLocaleUpperCase(), function (data) {\n\t\t\t\tif (typeof callback === 'function') {\n\t\t\t\t\tcallback($WATCHER.$CURRENT_MARKER);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'on',\n\t\tvalue: function on(name, callback) {\n\t\t\tvar $WATCHER = this.$WATCHER;\n\t\t\tvar element = this[0].node().querySelector('g.graph-' + name.toLocaleLowerCase());\n\t\t\tif (element) {\n\t\t\t\telement.onclick = function (event) {\n\t\t\t\t\tvar tips = event.target.__data__;\n\t\t\t\t\tvar label = callback(tips);\n\t\t\t\t\t$WATCHER.MARKER_ACTIVE = [{\n\t\t\t\t\t\ttop: $WATCHER.$Scale.get(3)(tips[1]),\n\t\t\t\t\t\tleft: $WATCHER.$Scale.get(2)(tips[0]),\n\t\t\t\t\t\tlabel: label\n\t\t\t\t\t}];\n\t\t\t\t};\n\t\t\t};\n\n\t\t\tthis[0].select('rect.graph-hover').on('click', function () {\n\t\t\t\t$WATCHER.MARKER_ACTIVE = [{ left: -9999, top: -9999 }];\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'converge',\n\t\tvalue: function converge(callback) {\n\t\t\tthis.DATA_FILTER = callback;\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render(dataset) {\n\t\t\tvar $WATCHER = this.$WATCHER;\n\t\t\tvar $Layout = $WATCHER.$Layout;\n\t\t\tvar LEFT_VALUE = $Layout.LEFT_VALUE;\n\t\t\tvar RIGHT_VALUE = $Layout.RIGHT_VALUE;\n\n\t\t\tvar width = $WATCHER.width - LEFT_VALUE - RIGHT_VALUE;\n\n\t\t\tvar data = dataset.candlestick || dataset;\n\t\t\tvar start = data[0];\n\t\t\tvar last = data[data.length - 1];\n\n\t\t\tvar startTime = new Date(start[0]);\n\t\t\tvar lastTime = new Date(last[0]);\n\n\t\t\tvar excludeStart = new Date(last[0]);\n\t\t\texcludeStart.setHours('11');\n\t\t\texcludeStart.setMinutes('30');\n\t\t\texcludeStart.setSeconds('00');\n\n\t\t\tvar excludeStop = new Date(last[0]);\n\t\t\texcludeStop.setHours('13');\n\t\t\texcludeStop.setMinutes('00');\n\t\t\texcludeStop.setSeconds('00');\n\n\t\t\tvar filter;\n\t\t\tif (startTime.getTime() >= excludeStop.getTime() || lastTime.getTime() <= excludeStart.getTime()) {\n\t\t\t\tfilter = utils.gather(width, (lastTime.getTime() - startTime.getTime()) / 1000);\n\t\t\t} else {\n\t\t\t\tfilter = utils.gather(width, (lastTime.getTime() - startTime.getTime() - 1.5 * 60 * 60 * 1000) / 1000);\n\t\t\t}\n\n\t\t\t$WATCHER.DATA_GS = filter.gs;\n\n\t\t\t$WATCHER.CANDLESTICK_DATA = filter(data, this.DATA_FILTER || function (d) {\n\t\t\t\treturn d[d.length - 1];\n\t\t\t});\n\t\t\t/*$WATCHER.MARKER_DATA = (dataset.marker || []).map(function(d) {\r\n   \t\t\treturn [new Date(d[0]).getTime(), + d[1], d[2], d[3]];\r\n   });*/\n\t\t\t$WATCHER.MARKER_DATA = dataset.marker || [];\n\t\t\t$WATCHER.PATH_DATA = dataset.line || [];\n\t\t}\n\t}]);\n\n\treturn Candlestick;\n}();\n\n/**\r\n * Export `chart.Candlestick`\r\n */\n\n\nmodule.exports = Candlestick;\n\n},{\"./../../core/colors\":3,\"./../../core/dataset\":4,\"./../../core/resizable\":10,\"./../../core/utils\":12,\"./../../widget/d3WidgetAxisNodes\":34,\"./../../widget/d3WidgetAxisTips\":35,\"./../../widget/d3WidgetCandlestick\":37,\"./../../widget/d3WidgetGridLine\":38,\"./../../widget/d3WidgetHover\":39,\"./../../widget/d3WidgetMarker\":41,\"./../../widget/d3WidgetMarkerTips\":42,\"./../../widget/d3WidgetMask\":43,\"./../../widget/d3WidgetMessage\":44,\"./../../widget/d3WidgetPaint\":45,\"./../../widget/d3WidgetPath\":46,\"./../../widget/d3WidgetPointerEvents\":47,\"./../../widget/d3WidgetRect\":48,\"./../../widget/d3WidgetSelection\":49}],27:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar utils = require('./../../core/utils');\nvar colors = require('./../../core/colors');\nvar dataset = require('./../../core/dataset');\nvar resizable = require('./../../core/resizable');\n\nvar d3WidgetMask = require('./../../widget/d3WidgetMask');\nvar d3WidgetRect = require('./../../widget/d3WidgetRect');\nvar d3WidgetHover = require('./../../widget/d3WidgetHover');\nvar d3WidgetSelection = require('./../../widget/d3WidgetSelection');\nvar d3WidgetPaint = require('./../../widget/d3WidgetPaint');\nvar d3WidgetMarker = require('./../../widget/d3WidgetMarker');\nvar d3WidgetLine = require('./../../widget/d3WidgetLine');\nvar d3WidgetMessage = require('./../../widget/d3WidgetMessage');\nvar d3WidgetAxisTips = require('./../../widget/d3WidgetAxisTips');\nvar d3WidgetGridLine = require('./../../widget/d3WidgetGridLine');\nvar d3WidgetAxisNodes = require('./../../widget/d3WidgetAxisNodes');\nvar d3WidgetMarkerTips = require('./../../widget/d3WidgetMarkerTips');\nvar d3WidgetPointerEvents = require('./../../widget/d3WidgetPointerEvents');\n\nvar TimeSeries = function () {\n\tfunction TimeSeries(options) {\n\t\t_classCallCheck(this, TimeSeries);\n\n\t\tvar date = new Date();\n\t\tvar day = date.getFullYear() + '/' + (date.getMonth() + 1) + '/' + date.getDate();\n\n\t\tif (options.width === '100%') {\n\t\t\tif (options.domEl) {\n\t\t\t\toptions.width = options.domEl.offsetWidth;\n\t\t\t} else {\n\t\t\t\toptions.width = document.getElementById(options.id).offsetWidth;\n\t\t\t}\n\t\t}\n\n\t\tvar scope = dataset(options, [[day + ' 9:30', -2], [day + ' 15:00', 2]]);\n\t\tscope.guid = utils.guid();\n\t\tscope.uid = 's-chart-el-' + scope.guid;\n\t\tscope.progress = 0;\n\n\t\tresizable.$watch('resize', function () {\n\t\t\tif (options.domEl) {\n\t\t\t\tscope.width = options.domEl.offsetWidth;\n\t\t\t\tscope.resizable = [scope.width, scope.height];\n\t\t\t} else {\n\t\t\t\tscope.width = document.getElementById(options.id).offsetWidth;\n\t\t\t\tscope.resizable = [scope.width, scope.height];\n\t\t\t}\n\t\t});\n\n\t\tfunction x(d, i) {\n\t\t\treturn scope.$Scale.get(2)(new Date(d[0]).getTime());\n\t\t}\n\n\t\tfunction y(d) {\n\t\t\treturn scope.$Scale.get(3)(d[1]);\n\t\t}\n\n\t\tfunction markerY(d) {\n\t\t\treturn scope.$Scale.get(3)(d[1]);\n\t\t}\n\n\t\tfunction defined(d) {\n\t\t\treturn !isNaN(d[1]);\n\t\t}\n\n\t\tthis[0] = d3WidgetPaint(options.id, scope.width, scope.height, scope).call(d3WidgetMask(scope)).call(d3WidgetPointerEvents(scope)).call(d3WidgetGridLine(scope), function () {\n\t\t\treturn scope.$Scale.get(2);\n\t\t}, function () {\n\t\t\treturn scope.$Scale.get(3);\n\t\t}).call(d3WidgetAxisNodes(scope)).call(d3WidgetAxisTips(scope)).call(d3WidgetMessage(scope)).call(d3WidgetLine(scope), options.id, scope.uid, x, y, defined, true).call(d3WidgetSelection(scope)).call(d3WidgetHover(scope)).call(d3WidgetMarker(scope), x, markerY, function (d) {\n\t\t\treturn d[2] === 'S' ? 'minus' : 'plus';\n\t\t});\n\n\t\tvar wrapper = d3.select('#' + options.id);\n\n\t\twrapper.call(d3WidgetMarkerTips(scope));\n\n\t\tvar tips = wrapper.append('div').attr('class', 'chart-tooltips');\n\n\t\tscope.element_tips = {\n\t\t\tleft: options.left,\n\t\t\tright: options.right,\n\t\t\ttips: tips,\n\t\t\tlabel: options.tooltips\n\t\t};\n\n\t\tthis.$WATCHER = scope;\n\t}\n\n\t_createClass(TimeSeries, [{\n\t\tkey: 'progress',\n\t\tvalue: function progress(x) {\n\t\t\tthis.$WATCHER.progress = x;\n\t\t}\n\t}, {\n\t\tkey: 'mouse',\n\t\tvalue: function mouse(layers) {\n\t\t\tvar layerX = layers[0];\n\t\t\tvar layerY = layers[1];\n\t\t\tvar $WATCHER = this.$WATCHER;\n\t\t\tvar $Layout = $WATCHER.$Layout;\n\t\t\tvar $Config = $WATCHER.$Config;\n\t\t\tvar LEFT_VALUE = $Layout.LEFT_VALUE;\n\n\t\t\tvar x = layerX - LEFT_VALUE;\n\n\t\t\tif ($WATCHER.guid !== layers[2]) {\n\t\t\t\tlayerY = -9999;\n\t\t\t}\n\n\t\t\tvar tips = $WATCHER.element_tips.tips.node();\n\n\t\t\tif (x > 0) {\n\t\t\t\tvar index = $WATCHER.$Scale.get(2).parse(x, $WATCHER.LINE_DATA.length);\n\t\t\t\tvar data = $WATCHER.LINE_DATA[index];\n\t\t\t\tvar label = data[0];\n\n\t\t\t\t$WATCHER.$EVENT_HOVER = [$WATCHER.$Scale.get(2)(label), layerY];\n\n\t\t\t\t$WATCHER.$AXIS_TIPS = $WATCHER.$Extents.map(function (extent, index) {\n\t\t\t\t\treturn index === 2 ? label : extent;\n\t\t\t\t});\n\n\t\t\t\ttips.removeAttribute('style');\n\t\t\t\ttips.style.display = 'block';\n\t\t\t\tif (x > $WATCHER.width / 2) {\n\t\t\t\t\ttips.style.left = $WATCHER.element_tips.left + 'px';\n\t\t\t\t} else {\n\t\t\t\t\ttips.style.right = $WATCHER.element_tips.right + 'px';\n\t\t\t\t}\n\n\t\t\t\tif (typeof $WATCHER.element_tips.label === 'function') {\n\t\t\t\t\ttips.innerHTML = $WATCHER.element_tips.label(data);\n\t\t\t\t} else {\n\t\t\t\t\ttips.innerHTML = data.join('<br>');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$WATCHER.$EVENT_TIPS = { x: -9999, y: -9999, data: [null, null, null, null] };\n\t\t\t\t$WATCHER.$EVENT_HOVER = layers;\n\t\t\t\ttips.style.display = 'none';\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'watch',\n\t\tvalue: function watch(name, callback) {\n\t\t\tvar $WATCHER = this.$WATCHER;\n\n\t\t\t$WATCHER.$watch('$CURRENT_' + name.toLocaleUpperCase(), function (data) {\n\t\t\t\tif (typeof callback === 'function') {\n\t\t\t\t\tcallback($WATCHER.$CURRENT_MARKER);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'on',\n\t\tvalue: function on(name, callback) {\n\t\t\tvar $WATCHER = this.$WATCHER;\n\t\t\tvar element = this[0].node().querySelector('g.graph-' + name.toLocaleLowerCase());\n\t\t\tif (element) {\n\t\t\t\telement.onclick = function (event) {\n\t\t\t\t\tvar tips = event.target.__data__;\n\t\t\t\t\tvar label = callback(tips);\n\t\t\t\t\t$WATCHER.MARKER_ACTIVE = [{\n\t\t\t\t\t\ttop: $WATCHER.$Scale.get(3)(tips[1]),\n\t\t\t\t\t\tleft: $WATCHER.$Scale.get(2)(tips[0]),\n\t\t\t\t\t\tlabel: label\n\t\t\t\t\t}];\n\t\t\t\t};\n\t\t\t};\n\n\t\t\tthis[0].select('rect.graph-hover').on('click', function () {\n\t\t\t\t$WATCHER.MARKER_ACTIVE = [{ left: -9999, top: -9999 }];\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'converge',\n\t\tvalue: function converge(callback) {\n\t\t\tthis.DATA_FILTER = callback;\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render(dataset) {\n\n\t\t\tvar $WATCHER = this.$WATCHER;\n\t\t\tvar $Layout = $WATCHER.$Layout;\n\t\t\tvar LEFT_VALUE = $Layout.LEFT_VALUE;\n\t\t\tvar RIGHT_VALUE = $Layout.RIGHT_VALUE;\n\n\t\t\tvar width = $WATCHER.width - LEFT_VALUE - RIGHT_VALUE;\n\n\t\t\tvar data = dataset.line || dataset;\n\t\t\tvar start = data[0];\n\t\t\tvar last = data[data.length - 1];\n\n\t\t\tvar startTime = new Date(start[0]);\n\t\t\tvar lastTime = new Date(last[0]);\n\n\t\t\tvar excludeStart = new Date(last[0]);\n\t\t\texcludeStart.setHours('11');\n\t\t\texcludeStart.setMinutes('30');\n\t\t\texcludeStart.setSeconds('00');\n\n\t\t\tvar excludeStop = new Date(last[0]);\n\t\t\texcludeStop.setHours('13');\n\t\t\texcludeStop.setMinutes('00');\n\t\t\texcludeStop.setSeconds('00');\n\n\t\t\tvar filter;\n\t\t\tif (startTime.getTime() >= excludeStop.getTime() || lastTime.getTime() <= excludeStart.getTime()) {\n\t\t\t\tfilter = utils.gather(width, (lastTime.getTime() - startTime.getTime()) / 1000);\n\t\t\t} else {\n\t\t\t\tfilter = utils.gather(width, (lastTime.getTime() - startTime.getTime() - 1.5 * 60 * 60 * 1000) / 1000);\n\t\t\t}\n\n\t\t\t$WATCHER.DATA_GS = filter.gs;\n\n\t\t\t$WATCHER.LINE_DATA = filter(data, this.DATA_FILTER || function (d) {\n\t\t\t\treturn d[d.length - 1];\n\t\t\t});\n\n\t\t\t$WATCHER.MARKER_DATA = dataset.marker || [];\n\t\t}\n\t}]);\n\n\treturn TimeSeries;\n}();\n\n/**\r\n * Export `chart.TimeSeries`\r\n */\n\n\nmodule.exports = TimeSeries;\n\n},{\"./../../core/colors\":3,\"./../../core/dataset\":4,\"./../../core/resizable\":10,\"./../../core/utils\":12,\"./../../widget/d3WidgetAxisNodes\":34,\"./../../widget/d3WidgetAxisTips\":35,\"./../../widget/d3WidgetGridLine\":38,\"./../../widget/d3WidgetHover\":39,\"./../../widget/d3WidgetLine\":40,\"./../../widget/d3WidgetMarker\":41,\"./../../widget/d3WidgetMarkerTips\":42,\"./../../widget/d3WidgetMask\":43,\"./../../widget/d3WidgetMessage\":44,\"./../../widget/d3WidgetPaint\":45,\"./../../widget/d3WidgetPointerEvents\":47,\"./../../widget/d3WidgetRect\":48,\"./../../widget/d3WidgetSelection\":49}],28:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar utils = require('./../../core/utils');\nvar colors = require('./../../core/colors');\nvar dataset = require('./../../core/dataset');\nvar resizable = require('./../../core/resizable');\n\nvar d3WidgetMask = require('./../../widget/d3WidgetMask');\nvar d3WidgetRect = require('./../../widget/d3WidgetRect');\nvar d3WidgetHover = require('./../../widget/d3WidgetHover');\nvar d3WidgetSelection = require('./../../widget/d3WidgetSelection');\nvar d3WidgetPaint = require('./../../widget/d3WidgetPaint');\nvar d3WidgetMarker = require('./../../widget/d3WidgetMarker');\nvar d3WidgetMessage = require('./../../widget/d3WidgetMessage');\nvar d3WidgetAxisTips = require('./../../widget/d3WidgetAxisTips');\nvar d3WidgetGridLine = require('./../../widget/d3WidgetGridLine');\nvar d3WidgetAxisNodes = require('./../../widget/d3WidgetAxisNodes');\nvar d3WidgetPointerEvents = require('./../../widget/d3WidgetPointerEvents');\n\nvar Volume = function () {\n\tfunction Volume(options) {\n\t\t_classCallCheck(this, Volume);\n\n\t\tvar date = new Date();\n\t\tvar day = date.getFullYear() + '/' + (date.getMonth() + 1) + '/' + date.getDate();\n\n\t\tif (options.width === '100%') {\n\t\t\tif (options.domEl) {\n\t\t\t\toptions.width = options.domEl.offsetWidth;\n\t\t\t} else {\n\t\t\t\toptions.width = document.getElementById(options.id).offsetWidth;\n\t\t\t}\n\t\t}\n\n\t\tvar scope = dataset(options, [[day + ' 9:30', -2], [day + ' 15:00', 2]]);\n\t\tscope.guid = utils.guid();\n\t\tscope.uid = 's-chart-el-' + scope.guid;\n\t\tscope.progress = 0;\n\n\t\tresizable.$watch('resize', function () {\n\t\t\tif (options.domEl) {\n\t\t\t\tscope.width = options.domEl.offsetWidth;\n\t\t\t\tscope.resizable = [scope.width, scope.height];\n\t\t\t} else {\n\t\t\t\tscope.width = document.getElementById(options.id).offsetWidth;\n\t\t\t\tscope.resizable = [scope.width, scope.height];\n\t\t\t}\n\t\t});\n\n\t\tfunction x(d, i) {\n\t\t\tvar size = (scope.RECT_DATA || []).length;\n\t\t\tvar band = 1;\n\t\t\tif (size) {\n\t\t\t\tband = Math.floor((scope.width - scope.$Layout.LEFT_VALUE - scope.$Layout.RIGHT_VALUE) / size);\n\t\t\t\tband = band > 20 ? 20 : band;\n\t\t\t}\n\t\t\treturn scope.$Scale.get(2)(new Date(d[0]).getTime()) - Math.floor(band * 0.45) + 1;\n\t\t}\n\n\t\tfunction y(d) {\n\t\t\treturn scope.$Scale.get(3)(d[1]);\n\t\t}\n\n\t\tfunction w(d) {\n\t\t\tvar size = (scope.RECT_DATA || []).length;\n\t\t\tif (size) {\n\t\t\t\tvar band = Math.floor((scope.width - scope.$Layout.LEFT_VALUE - scope.$Layout.RIGHT_VALUE) / size);\n\t\t\t\tband = band > 20 ? 20 : band;\n\t\t\t\tband = Math.floor(band * 0.9) - Math.floor(band * 0.9) % 2 - 2;\n\t\t\t\treturn band > 3 ? band : 3;\n\t\t\t}\n\t\t\treturn 1;\n\t\t}\n\n\t\tfunction h(d) {\n\t\t\treturn scope.height - scope.$Layout.BOTTOM_VALUE - scope.$Scale.get(3)(d[1]);\n\t\t}\n\n\t\tfunction style(d) {\n\t\t\treturn d[2];\n\t\t}\n\n\t\tvar context = d3WidgetPaint(options.id, scope.width, scope.height, scope).call(d3WidgetMask(scope)).call(d3WidgetPointerEvents(scope)).call(d3WidgetGridLine(scope), function () {\n\t\t\treturn scope.$Scale.get(2);\n\t\t}, function () {\n\t\t\treturn scope.$Scale.get(3);\n\t\t}).call(d3WidgetAxisNodes(scope)).call(d3WidgetAxisTips(scope)).call(d3WidgetMessage(scope)).call(d3WidgetRect(scope), x, y, w, h, style).call(d3WidgetHover(scope));\n\n\t\tvar tips = d3.select('#' + options.id).append('div').attr('class', 'chart-tooltips');\n\n\t\tscope.element_tips = {\n\t\t\tleft: options.left,\n\t\t\tright: options.right,\n\t\t\ttips: tips,\n\t\t\tlabel: options.tooltips\n\t\t};\n\n\t\tthis.$WATCHER = scope;\n\t}\n\n\t_createClass(Volume, [{\n\t\tkey: 'progress',\n\t\tvalue: function progress(x) {\n\t\t\tthis.$WATCHER.progress = x;\n\t\t}\n\t}, {\n\t\tkey: 'mouse',\n\t\tvalue: function mouse(layers) {\n\t\t\tvar layerX = layers[0];\n\t\t\tvar layerY = layers[1];\n\t\t\tvar $WATCHER = this.$WATCHER;\n\t\t\tvar $Layout = $WATCHER.$Layout;\n\t\t\tvar $Config = $WATCHER.$Config;\n\t\t\tvar LEFT_VALUE = $Layout.LEFT_VALUE;\n\n\t\t\tvar x = layerX - LEFT_VALUE;\n\n\t\t\tif ($WATCHER.guid !== layers[2]) {\n\t\t\t\tlayerY = -9999;\n\t\t\t}\n\n\t\t\tvar tips = $WATCHER.element_tips.tips.node();\n\n\t\t\tif (x > 0) {\n\t\t\t\tvar index = $WATCHER.$Scale.get(2).parse(x, $WATCHER.RECT_DATA.length);\n\t\t\t\tvar data = $WATCHER.RECT_DATA[index];\n\t\t\t\tvar label = $WATCHER.RECT_DATA[index][0];\n\n\t\t\t\t$WATCHER.$EVENT_HOVER = [$WATCHER.$Scale.get(2)(label), layerY];\n\n\t\t\t\t$WATCHER.$AXIS_TIPS = $WATCHER.$Extents.map(function (extent, index) {\n\t\t\t\t\treturn index === 2 ? label : extent;\n\t\t\t\t});\n\n\t\t\t\ttips.removeAttribute('style');\n\t\t\t\ttips.style.display = 'block';\n\t\t\t\tif (x > $WATCHER.width / 2) {\n\t\t\t\t\ttips.style.left = $WATCHER.element_tips.left + 'px';\n\t\t\t\t} else {\n\t\t\t\t\ttips.style.right = $WATCHER.element_tips.right + 'px';\n\t\t\t\t}\n\n\t\t\t\tif (typeof $WATCHER.element_tips.label === 'function') {\n\t\t\t\t\ttips.innerHTML = $WATCHER.element_tips.label(data);\n\t\t\t\t} else {\n\t\t\t\t\ttips.innerHTML = data.join('<br>');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$WATCHER.$EVENT_TIPS = { x: -9999, y: -9999, data: [null, null, null, null] };\n\t\t\t\t$WATCHER.$EVENT_HOVER = layers;\n\t\t\t\ttips.style.display = 'none';\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render(dataset) {\n\n\t\t\tvar $WATCHER = this.$WATCHER;\n\t\t\tvar $Layout = $WATCHER.$Layout;\n\t\t\tvar LEFT_VALUE = $Layout.LEFT_VALUE;\n\t\t\tvar RIGHT_VALUE = $Layout.RIGHT_VALUE;\n\n\t\t\tvar width = $WATCHER.width - LEFT_VALUE - RIGHT_VALUE;\n\n\t\t\t/*var dataset = data.map(function(d) {\r\n   \treturn [new Date(d[0]).getTime(), +d[1], d[2]]\r\n   });*/\n\t\t\tvar start = dataset[0];\n\t\t\tvar last = dataset[dataset.length - 1];\n\n\t\t\tvar startTime = new Date(start[0]);\n\t\t\tvar lastTime = new Date(last[0]);\n\n\t\t\tvar excludeStart = new Date(last[0]);\n\t\t\texcludeStart.setHours('11');\n\t\t\texcludeStart.setMinutes('30');\n\t\t\texcludeStart.setSeconds('00');\n\n\t\t\tvar excludeStop = new Date(last[0]);\n\t\t\texcludeStop.setHours('13');\n\t\t\texcludeStop.setMinutes('00');\n\t\t\texcludeStop.setSeconds('00');\n\n\t\t\tvar filter;\n\t\t\tif (startTime.getTime() >= excludeStop.getTime() || lastTime.getTime() <= excludeStart.getTime()) {\n\t\t\t\tfilter = utils.gather(width, (lastTime.getTime() - startTime.getTime()) / 1000);\n\t\t\t} else {\n\t\t\t\tfilter = utils.gather(width, (lastTime.getTime() - startTime.getTime() - 1.5 * 60 * 60 * 1000) / 1000);\n\t\t\t}\n\n\t\t\t$WATCHER.DATA_GS = filter.gs;\n\n\t\t\t$WATCHER.RECT_DATA = filter(dataset, this.DATA_FILTER || function (d) {\n\t\t\t\treturn d[d.length - 1];\n\t\t\t});\n\t\t}\n\t}]);\n\n\treturn Volume;\n}();\n\n/**\r\n * Export `chart.Volume`\r\n */\n\n\nmodule.exports = Volume;\n\n},{\"./../../core/colors\":3,\"./../../core/dataset\":4,\"./../../core/resizable\":10,\"./../../core/utils\":12,\"./../../widget/d3WidgetAxisNodes\":34,\"./../../widget/d3WidgetAxisTips\":35,\"./../../widget/d3WidgetGridLine\":38,\"./../../widget/d3WidgetHover\":39,\"./../../widget/d3WidgetMarker\":41,\"./../../widget/d3WidgetMask\":43,\"./../../widget/d3WidgetMessage\":44,\"./../../widget/d3WidgetPaint\":45,\"./../../widget/d3WidgetPointerEvents\":47,\"./../../widget/d3WidgetRect\":48,\"./../../widget/d3WidgetSelection\":49}],29:[function(require,module,exports){\n'use strict';\n/**\r\n * K线\r\n * @public\t \r\n * @method d3SvgCandlestick\r\n * @param {Document} context\r\n * @param {Array} data\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @param {Number} w\r\n * @param {Number} h \r\n * @param {Boolean} smooth \r\n * @returns {Void}\r\n */\n\nfunction d3SvgCandlestick(context, data, x, y, w, h) {\n\n\t//console.log(data)\n\n\tvar wrap = context.selectAll('g.graph-content').data(['graph-content']);\n\twrap.enter().append('g').attr('class', function (d) {\n\t\treturn d;\n\t});\n\n\twrap.exit().remove();\n\n\tvar item = wrap.selectAll('path.item').data(data);\n\n\t//初始化Candlestick属性, class, attr;\n\titem.enter().append('path').attr('data-series', function (item, i) {\n\t\treturn item.series || '';\n\t}).attr('data-category', function (item, i) {\n\t\treturn item[0];\n\t});\n\n\t//动画过渡, attr;\n\titem.attr('class', function (item) {\n\t\treturn 'item ' + (item[2] < item[4] ? 'plus' : 'minus');\n\t}).attr('d', function (item, i) {\n\t\treturn drawCandlesShape(item, i, x, y, w);\n\t});\n\n\titem.exit().remove();\n}\n\nfunction getValues(item, y) {\n\treturn {\n\t\thigh: y(item[1]),\n\t\topen: y(item[2]),\n\t\tlow: y(item[3]),\n\t\tclose: y(item[4])\n\t};\n}\n\n//绘制 `蜡烛` 路径\nfunction drawCandlesShape(item, i, x, y, w) {\n\n\tvar data = getValues(item, y);\n\tvar high = data.high;\n\tvar open = data.open;\n\tvar close = data.close;\n\tvar low = data.low;\n\n\tvar left = x(item);\n\tvar width = w(item) || 3; // doto\n\twidth = width % 2 === 0 ? width : width > 1 ? width - 1 : 1;\n\n\tvar mid = width * 0.5;\n\tif (high !== low) {\n\t\treturn ['M' + Math.floor(left + mid), high, 'L' + Math.floor(left + mid), close, Math.floor(left), close, Math.floor(left), open, Math.floor(left + mid), open, Math.floor(left + mid), low, Math.floor(left + mid), open, Math.floor(left + width), open, Math.floor(left + width), close, Math.floor(left + mid), close, Math.floor(left + mid), high + 'Z'].join(' ');\n\t}\n\n\treturn ['M' + Math.floor(left + mid), high, 'L' + left, high, left + width, high\n\t/*Math.floor(left), close,\r\n Math.floor(left), open,\r\n Math.floor(left + mid), open,\r\n Math.floor(left + mid), low,\r\n Math.floor(left + mid), open,\r\n Math.floor(left + width), open,\r\n Math.floor(left + width), close,\r\n Math.floor(left + mid), close,\r\n Math.floor(left + mid), high + 'Z'*/\n\n\t].join(' ');\n}\n\n/**\r\n * Export `d3SvgCandlestick`\r\n */\nmodule.exports = d3SvgCandlestick;\n\n},{}],30:[function(require,module,exports){\n'use strict';\n\nvar colors = require('./../core/colors');\nvar themes = require('./../core/themes');\nfunction d3SvgPath(x, y, defined, smooth) {\n\tvar line = d3.svg.line();\n\treturn line.x(x).y(y).defined(defined).interpolate(smooth ? 'monotone' : false);\n}\n\n/**\r\n * 折线\r\n * @public\t \r\n * @method d3SvgLine\r\n * @param {Document} context\r\n * @param {String} id\r\n * @param {Array} data\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @param {Function} defined \r\n * @param {Boolean} smooth \r\n * @returns {Void}\r\n */\nfunction d3SvgLine(context, eid, uid, data, x, y, defined, smooth) {\n\tvar line = d3SvgPath(x, y, defined, smooth);\n\n\tvar wrap = context.selectAll('g.graph-line').data(['graph-line']);\n\twrap.enter().append('g').style('clip-path', 'url(#' + uid + ')').attr('class', function (d) {\n\t\treturn d;\n\t});\n\n\twrap.exit().remove();\n\n\tvar items = wrap.selectAll('path.graph-line').data(data);\n\n\titems.enter().append('path').attr('class', 'graph-line');\n\t//console.log(eid);\n\titems.attr('d', function (d) {\n\t\treturn line(d);\n\t}).attr(\"stroke\", function (d, i) {\n\t\ttry {\n\t\t\treturn themes.skin[eid][i];\n\t\t} catch (e) {\n\t\t\treturn colors.Accent[i + 4][i];\n\t\t}\n\t}).attr('fill', function () {\n\t\treturn 'none';\n\t});\n\n\tthemes.$watch('skin', function (skin) {\n\t\titems.attr(\"stroke\", function (d, i) {\n\t\t\ttry {\n\t\t\t\treturn themes.skin[eid][i];\n\t\t\t} catch (e) {\n\t\t\t\treturn colors.Accent[i + 4][i];\n\t\t\t}\n\t\t});\n\t});\n\n\titems.exit().remove();\n}\n\n/**\r\n * Export `d3SvgLine`\r\n */\nmodule.exports = d3SvgLine;\n\n},{\"./../core/colors\":3,\"./../core/themes\":11}],31:[function(require,module,exports){\n'use strict';\n\n/**\r\n * 圆点\r\n * @public\t \r\n * @method d3SvgMarker\r\n * @param {Document} context\r\n * @param {String} id\r\n * @param {Array} data\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @param {Function} defined \r\n * @param {Boolean} smooth \r\n * @returns {Void}\r\n */\n\nfunction d3SvgMarker(context, array, x, y, style) {\n\n\tvar markerC = [];\n\tvar markerX = [];\n\n\tarray.forEach(function (d) {\n\t\tif (d[2] === 'C') {\n\t\t\tmarkerX.push(d);\n\t\t} else {\n\t\t\tmarkerC.push(d);\n\t\t}\n\t});\n\n\tvar marker = context.selectAll('g.graph-marker').data(['graph-marker']);\n\n\tmarker.enter().append('g').attr('class', function (d) {\n\t\treturn d;\n\t});\n\tmarker.exit().remove();\n\n\tvar point = marker.selectAll('circle').data(markerC);\n\tpoint.enter().append('circle').attr('r', 5).attr('class', function (d) {\n\t\treturn style(d);\n\t});\n\n\tpoint.attr('cx', function (d) {\n\t\treturn x(d) + 0.5;\n\t}).attr('cy', function (d) {\n\t\treturn y(d);\n\t});\n\n\tpoint.exit().remove();\n\n\tvar path = marker.selectAll('path.marker-x').data(markerX);\n\tpath.enter().append('path').attr('d', function () {\n\t\treturn 'M-2,-2L2, 2M2,-2L-2,2';\n\t}).attr('class', 'marker-x');\n\n\tpath.attr('transform', function (d) {\n\t\treturn 'translate(' + x(d) + ',' + y(d) + ')';\n\t});\n\n\t//path.attr('cx', (d) => x(d) + 0.5).attr('cy',  (d) => y(d));\n\n\tpath.exit().remove();\n}\n\n/**\r\n * Export `d3SvgMarker`\r\n */\nmodule.exports = d3SvgMarker;\n\n},{}],32:[function(require,module,exports){\n'use strict';\n\n/**\r\n * 圆点\r\n * @public\t \r\n * @method d3SvgPoint\r\n * @param {Document} context\r\n * @param {String} id\r\n * @param {Array} data\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @param {Function} defined \r\n * @param {Boolean} smooth \r\n * @returns {Void}\r\n */\n\nfunction d3SvgPoint(context, array) {\n  var points = context.selectAll('g.point-hover').data(['point-hover']);\n  points.enter().append('g').attr('class', function (d) {\n    return d;\n  });\n  points.exit().remove();\n\n  var items = points.selectAll('circle').data(array);\n  items.enter().append('circle').attr('r', 2);\n\n  items.attr('cx', function (d) {\n    return d.x + 0.5;\n  }).attr('cy', function (d) {\n    return d.y;\n  });\n\n  items.exit().remove();\n}\n\n/**\r\n * Export `d3SvgPoint`\r\n */\nmodule.exports = d3SvgPoint;\n\n},{}],33:[function(require,module,exports){\n'use strict';\n\n/**\r\n * 矩形\r\n * @public\t \r\n * @method d3SvgRect\r\n * @param {Document} context\r\n * @param {String} id\r\n * @param {Array} data\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @param {Function} defined \r\n * @param {Boolean} smooth \r\n * @returns {Void}\r\n */\n\nfunction d3SvgRect(context, array, x, y, w, h, style) {\n  var rect = context.selectAll('g.graph-rect').data(['graph-rect']);\n\n  rect.enter().append('g').attr('class', function (d) {\n    return d;\n  });\n  rect.exit().remove();\n\n  var items = rect.selectAll('rect').data(array);\n  items.enter().append('rect').attr('class', function (d) {\n    return style(d);\n  });\n\n  items.attr('width', function (d, i) {\n    return w(d, i);\n  }).attr('height', function (d, i) {\n    return h(d, i);\n  }).attr('x', function (d, i) {\n    return x(d, i) + 0.5;\n  }).attr('y', function (d, i) {\n    return y(d, i);\n  });\n\n  items.exit().remove();\n}\n\n/**\r\n * Export `d3SvgRect`\r\n */\nmodule.exports = d3SvgRect;\n\n},{}],34:[function(require,module,exports){\n'use strict';\n\nvar element = require('./../elements/d3SvgAxisNodes');\n\n/**\r\n * d3WidgetAxisNodes\r\n * @public\t \r\n * @method d3WidgetAxisNodes\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\nfunction d3WidgetAxisNodes($scope) {\n\n\tvar ticks = getScaleTicks($scope);\n\tvar array = ['top', 'right', 'bottom', 'left'];\n\n\treturn function (context) {\n\t\tarray.forEach(function (orient, i) {\n\t\t\tcontext.call(element, ticks[i] || [], orient);\n\t\t});\n\n\t\t//窗体变化时,设置刻度;\n\t\t$scope.$watch('resizable', function () {\n\t\t\tticks = getScaleTicks($scope);\n\t\t\tarray.forEach(function (orient, i) {\n\t\t\t\tcontext.call(element, ticks[i] || [], orient);\n\t\t\t});\n\t\t});\n\n\t\t//数据变化时,设置刻度;\n\t\t$scope.$watch('$DATA_LOAD', function () {\n\t\t\tticks = getScaleTicks($scope);\n\t\t\tarray.forEach(function (orient, i) {\n\t\t\t\tcontext.call(element, ticks[i] || [], orient);\n\t\t\t});\n\t\t});\n\t};\n}\n\nfunction getScaleTicks($scope) {\n\tvar ANCHORS = ['middle', 'start', 'middle', 'end'];\n\n\tvar POINTS = [[0, -5], [8, 3], [0, 18], [-8, 3]];\n\n\tvar DEGRESS = [$scope.$Layout.TOP_DEGRESS, $scope.$Layout.RIGHT_DEGRESS, $scope.$Layout.BOTTOM_DEGRESS, $scope.$Layout.LEFT_DEGRESS];\n\n\tvar transform = function transform(d, i) {\n\t\tvar array = [[d, $scope.$Layout.TOP_VALUE], [$scope.width - $scope.$Layout.RIGHT_VALUE, d], [d, $scope.height - $scope.$Layout.BOTTOM_VALUE], [$scope.$Layout.LEFT_VALUE, d]];\n\t\treturn array[i];\n\t};\n\n\tvar ticks = $scope.$Scale.get().map(function (scale, index) {\n\t\tif (!scale) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn scale.ticks().map(function (d, i) {\n\t\t\tvar data = {\n\t\t\t\ttranslate: transform(scale(d), index),\n\t\t\t\tx: POINTS[index][0],\n\t\t\t\ty: POINTS[index][1],\n\t\t\t\trotate: DEGRESS[index],\n\t\t\t\tanchor: DEGRESS[index] ? 'end' : ANCHORS[index]\n\t\t\t};\n\n\t\t\tif ($scope.$Config[index].data) {\n\t\t\t\tif ($scope.$Config[index].data.label) {\n\t\t\t\t\tdata.tick = $scope.$Config[index].data.label(d);\n\t\t\t\t} else {\n\t\t\t\t\tdata.tick = d;\n\t\t\t\t}\n\n\t\t\t\tif ($scope.$Config[index].data.value) {\n\t\t\t\t\tdata.value = $scope.$Config[index].data.value(d);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t});\n\t});\n\n\treturn ticks;\n}\n\n/**\r\n * Export `d3WidgetAxisNodes`\r\n */\nmodule.exports = d3WidgetAxisNodes;\n\n},{\"./../elements/d3SvgAxisNodes\":13}],35:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../core/utils');\nvar element = require('./../elements/d3SvgAxisTips');\n/**\r\n * d3WidgetPointerEvents\r\n * @public\t \r\n * @method d3WidgetPointerEvents\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\nfunction d3WidgetPointerEvents($scope) {\n\tvar data = [{\n\t\tx: -9999,\n\t\ty: $scope.$Layout.TOP_VALUE,\n\t\tsize: 0,\n\t\tvalue: 0\n\t}, {\n\t\tx: $scope.width - $scope.$Layout.RIGHT_VALUE,\n\t\ty: -9999,\n\t\tsize: 0,\n\t\tvalue: 0\n\t}, {\n\t\tx: -9999,\n\t\ty: $scope.height - $scope.$Layout.BOTTOM_VALUE,\n\t\tsize: 0,\n\t\tvalue: '9:30'\n\t}, {\n\t\tx: $scope.$Layout.LEFT_VALUE,\n\t\ty: -9999,\n\t\tsize: 0,\n\t\tvalue: 0\n\t}];\n\n\t//console.log($scope.height,$scope.$Layout.BOTTOM_VALUE)\n\n\treturn function (context) {\n\t\tvar TIPS_PIXEL = [{ index: 0, size: $scope.width - $scope.$Layout.LEFT_VALUE - $scope.$Layout.RIGHT_VALUE, fixed: $scope.$Layout.LEFT_VALUE, value: 0 }, { index: 1, size: $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE, fixed: $scope.$Layout.TOP_VALUE, value: 1 }, { index: 0, size: $scope.width - $scope.$Layout.LEFT_VALUE - $scope.$Layout.RIGHT_VALUE, fixed: $scope.$Layout.LEFT_VALUE, value: 0 }, { index: 1, size: $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE, fixed: $scope.$Layout.TOP_VALUE, value: 1 }];\n\n\t\tcontext.call(element, data);\n\n\t\t//窗体变化时,设置AxisTips;\n\t\t$scope.$watch('resizable', function () {\n\n\t\t\t[$scope.$Layout.TOP_VALUE, $scope.width - $scope.$Layout.RIGHT_VALUE, $scope.height - $scope.$Layout.BOTTOM_VALUE + 1, $scope.$Layout.LEFT_VALUE].forEach(function (v, i) {\n\t\t\t\tdata[i][i % 2 ? 'x' : 'y'] = v;\n\t\t\t\tdata[i][i % 2 ? 'y' : 'x'] = -9999;\n\t\t\t});\n\n\t\t\tTIPS_PIXEL = [{ index: 0, size: $scope.width - $scope.$Layout.LEFT_VALUE - $scope.$Layout.RIGHT_VALUE, fixed: $scope.$Layout.LEFT_VALUE, value: 0 }, { index: 1, size: $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE, fixed: $scope.$Layout.TOP_VALUE, value: 1 }, { index: 0, size: $scope.width - $scope.$Layout.LEFT_VALUE - $scope.$Layout.RIGHT_VALUE, fixed: $scope.$Layout.LEFT_VALUE, value: 0 }, { index: 1, size: $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE, fixed: $scope.$Layout.TOP_VALUE, value: 1 }];\n\n\t\t\tcontext.call(element, data);\n\t\t});\n\n\t\t//数据变化时,设置AxisTips;\n\t\t$scope.$watch('$EVENT_TIPS', function (tips) {\n\t\t\tvar result = tips.data || [];\n\n\t\t\tresult.forEach(function (v, i) {\n\t\t\t\tvar mod = i % 2 ? 'y' : 'x';\n\t\t\t\tdata[i][mod] = tips[mod];\n\t\t\t\tdata[i].value = v;\n\t\t\t\tdata[i].size = v ? utils.measure(v).width + 10 : 0;\n\t\t\t});\n\t\t\tcontext.call(element, data);\n\t\t});\n\n\t\t//鼠标移动时,设置AxisTips;\n\t\t$scope.$watch('$AXIS_TIPS', function (extents) {\n\t\t\tvar mouse = $scope.$EVENT_HOVER;\n\n\t\t\tvar data = extents.map(function (extent, index) {\n\t\t\t\tif (!extent) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif (index === 2) {\n\t\t\t\t\treturn $scope.$Config[index].data.label(extent);\n\t\t\t\t}\n\t\t\t\tvar num = Math.abs(TIPS_PIXEL[index].value - (mouse[TIPS_PIXEL[index].index] - TIPS_PIXEL[index].fixed) / TIPS_PIXEL[index].size) * (extent[1] - extent[0]);\n\t\t\t\treturn $scope.$Config[index].data.label(Math.floor((num + extent[0]) * 10) / 10);\n\t\t\t});\n\n\t\t\t$scope.$EVENT_TIPS = {\n\t\t\t\tx: mouse[0],\n\t\t\t\ty: mouse[1],\n\t\t\t\tdata: data\n\t\t\t};\n\t\t});\n\t};\n}\n\n/**\r\n * Export `d3WidgetPointerEvents`\r\n */\nmodule.exports = d3WidgetPointerEvents;\n\n},{\"./../core/utils\":12,\"./../elements/d3SvgAxisTips\":14}],36:[function(require,module,exports){\n'use strict';\n\nvar element = require('./../elements/d3SvgBrush');\n\nfunction d3WidgetBrush($scope) {\n\tvar $Layout = $scope.$Layout;\n\tvar TOP_VALUE = $Layout.TOP_VALUE;\n\tvar height = $scope.height - $Layout.TOP_VALUE - $Layout.BOTTOM_VALUE;\n\treturn function (context, x, extent) {\n\t\tcontext.call(element, 0, TOP_VALUE, x, height, extent);\n\t};\n}\n/**\r\n * Export `d3WidgetBrush`\r\n */\nmodule.exports = d3WidgetBrush;\n\n},{\"./../elements/d3SvgBrush\":15}],37:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../core/utils');\nvar element = require('./../shapes/d3SvgCandlestick');\n\n/**\r\n * d3WidgetCandlestick\r\n * @public\t \r\n * @method d3WidgetCandlestick\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\nfunction d3WidgetCandlestick($scope) {\n\treturn function (context, x, y, w, h, style) {\n\t\t//初始化marker数据;\n\t\t$scope.$CANDLESTICK_STORAGE = [];\n\n\t\t//创建无数据的元素;\n\t\tcontext.call(element, [], x, y, w, h, style);\n\n\t\t//监听数据变化时,更新 CANDLESTICK_STORAGE;\n\t\t$scope.$watch('CANDLESTICK_DATA', function (data) {\n\t\t\t$scope.$CANDLESTICK_STORAGE = [data, data];\n\t\t});\n\n\t\t$scope.$watch('resizable', function () {\n\t\t\tcontext.call(element, $scope.progress === 1 ? $scope.$DATA_STORAGE : $scope.CANDLESTICK_CHANGE, x, y, w, h, style);\n\t\t});\n\n\t\t//数据变化时,更新元素个数;\n\t\t$scope.$watch('$CANDLESTICK_STORAGE', function (data) {\n\t\t\t$scope.$DATA_STORAGE = data[0];\n\t\t\t$scope.progress = 1.0;\n\t\t\t$scope.$DATA_LOAD = utils.guid();\n\t\t});\n\n\t\t$scope.$watch('$DATA_LOAD', function (data) {\n\n\t\t\tcontext.call(element, $scope.$DATA_STORAGE || [], x, y, w, h, style);\n\t\t});\n\n\t\t$scope.$watch('progress', function (progress) {\n\t\t\tvar start = $scope.$Extents[2][0];\n\t\t\tvar stop = $scope.$Extents[2][1];\n\n\t\t\tvar excludeStart = new Date(start);\n\t\t\texcludeStart.setHours('11');\n\t\t\texcludeStart.setMinutes('30');\n\t\t\texcludeStart.setSeconds('00');\n\n\t\t\tvar excludeStop = new Date(stop);\n\t\t\texcludeStop.setHours('13');\n\t\t\texcludeStop.setMinutes('00');\n\t\t\texcludeStop.setSeconds('00');\n\n\t\t\tvar current = 0;\n\t\t\tif (start > excludeStop.getTime() || stop < excludeStart.getTime()) {\n\t\t\t\tcurrent = Math.floor((stop - start) * progress + start);\n\t\t\t} else {\n\t\t\t\tcurrent = Math.floor((stop - start - 1.5 * 60 * 60 * 1000) * progress + start);\n\t\t\t}\n\n\t\t\tif (current > excludeStart.getTime()) {\n\t\t\t\tcurrent += 1.5 * 60 * 60 * 1000;\n\t\t\t}\n\n\t\t\t$scope.$CANDLESTICK_SIZE = binary($scope.$CANDLESTICK_STORAGE[1] || [], current);\n\t\t});\n\n\t\t$scope.$watch('$CANDLESTICK_SIZE', function (size) {\n\n\t\t\t$scope.CANDLESTICK_CHANGE = ($scope.$CANDLESTICK_STORAGE[1] || []).slice(0, size + 1);\n\t\t\t//console.log($scope.CANDLESTICK_CHANGE.length);\n\t\t\tcontext.call(element, $scope.CANDLESTICK_CHANGE || [], x, y, w, h, style);\n\t\t});\n\t};\n}\n\nfunction binary(data, dest) {\n\tvar h = data.length - 1;\n\tvar l = 0;\n\twhile (l <= h) {\n\t\tvar m = l + (h - l >> 1);\n\t\tvar t = new Date(data[m][0]).getTime();\n\t\tif (t === dest) {\n\t\t\treturn m;\n\t\t} else if (dest > t) {\n\t\t\t/*if((data[m + 1] && dest < new Date( data[m + 1][0]).getTime()) || data[m + 1] === undefined) {\r\n   \treturn m;\r\n   }*/\n\n\t\t\t/*if(data[m + 1] === undefined) {\r\n   \treturn m;\r\n   }*/\n\n\t\t\tif (data[m + 1] && dest < new Date(data[m + 1][0]).getTime()) {\n\t\t\t\treturn m;\n\t\t\t}\n\n\t\t\tl = m + 1;\n\t\t} else {\n\t\t\th = m - 1;\n\t\t}\n\t}\n\treturn -1;\n}\n\n/**\r\n * Export `d3WidgetMarker`\r\n */\nmodule.exports = d3WidgetCandlestick;\n\n},{\"./../core/utils\":12,\"./../shapes/d3SvgCandlestick\":29}],38:[function(require,module,exports){\n'use strict';\n\nvar element = require('./../elements/d3SvgGridLine');\n\n/**\r\n * d3WidgetGridLine\r\n * @public\t \r\n * @method d3WidgetGridLine\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\nfunction d3WidgetGridLine($scope) {\n\n\treturn function (context, scaleX, scaleY) {\n\t\tcontext.call(element, scaleX(), scaleY());\n\n\t\t//窗体变化时,设置网格线;\n\t\t$scope.$watch('resizable', function () {\n\t\t\tcontext.call(element, scaleX(), scaleY());\n\t\t});\n\n\t\t//监听数据变化时,设置网格线;\n\t\t$scope.$watch('$DATA_LOAD', function () {\n\t\t\tcontext.call(element, scaleX(), scaleY());\n\t\t});\n\t};\n}\n\n/**\r\n * Export `d3WidgetGridLine`\r\n */\nmodule.exports = d3WidgetGridLine;\n\n},{\"./../elements/d3SvgGridLine\":17}],39:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../core/utils');\nvar handler = require('./../core/handler');\nvar element = require('./../elements/d3SvgHover');\n\n/**\r\n * d3SvgMask\r\n * @public\t \r\n * @method d3WidgetMask\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\nfunction d3WidgetHover($scope) {\n\tvar x = $scope.$Layout.LEFT_VALUE + 1;\n\tvar y = $scope.$Layout.TOP_VALUE;\n\tvar width = $scope.width - $scope.$Layout.LEFT_VALUE - $scope.$Layout.RIGHT_VALUE;\n\tvar height = $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE;\n\n\treturn function (context) {\n\t\tvar guid;\n\t\tcontext.call(element, $scope.guid, x, y, width * (utils.isNumber($scope.progress) ? $scope.progress : 1), height).select('rect.graph-hover')\n\t\t/*.on('mousedown', function() {\r\n  \tvar mouse = d3.mouse(this);\r\n  \t$scope.$EventIsSelection = true;\r\n  \t$scope.$EventSelectionStart = [mouse[0] + $scope.$Layout.LEFT_VALUE, mouse[1] + $scope.$Layout.TOP_VALUE];\r\n  })*/\n\t\t.on('mousemove', function () {\n\t\t\tvar mouse = d3.mouse(this);\n\t\t\t$scope.mouse = [mouse[0] + $scope.$Layout.LEFT_VALUE, mouse[1] + $scope.$Layout.TOP_VALUE];\n\t\t\tthis.__mouse__ = $scope.mouse;\n\t\t}).on('mousedown', function () {\n\t\t\tvar mouse = d3.mouse(this);\n\t\t\t$scope.mouse = [mouse[0] + $scope.$Layout.LEFT_VALUE, mouse[1] + $scope.$Layout.TOP_VALUE];\n\t\t}).on('mouseout', function () {\n\t\t\t$scope.mouse = [-9999, -9999];\n\t\t}).on('touchmove', function () {\n\t\t\tvar mouse = d3.mouse(this);\n\t\t\tif (mouse[0] >= 0 && mouse[0] <= width * $scope.progress && mouse[1] >= 0 && mouse[1] <= height) {\n\t\t\t\t$scope.mouse = [mouse[0] + $scope.$Layout.LEFT_VALUE, mouse[1] + $scope.$Layout.TOP_VALUE];\n\t\t\t\tthis.__mouse__ = $scope.mouse;\n\t\t\t}\n\t\t}).on('touchend', function () {\n\t\t\tif (guid) {\n\t\t\t\tclearTimeout(guid);\n\t\t\t\tguid = null;\n\t\t\t}\n\t\t\tguid = setTimeout(function () {\n\t\t\t\t$scope.mouse = [-9999, -9999];\n\t\t\t}, 3000);\n\t\t});\n\n\t\t//监听数据变化时,设置hover区间;\n\t\t$scope.$watch('$DATA_LOAD', function () {\n\t\t\tx = $scope.$Layout.LEFT_VALUE + 1;\n\t\t\ty = $scope.$Layout.TOP_VALUE;\n\t\t\twidth = $scope.width - $scope.$Layout.LEFT_VALUE - $scope.$Layout.RIGHT_VALUE;\n\t\t\theight = $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE;\n\n\t\t\tcontext.call(element, $scope.guid, x, y, width * (utils.isNumber($scope.progress) ? $scope.progress : 1), height);\n\t\t});\n\n\t\t//监听窗口变化时, 设置hover区间;\t\n\t\t$scope.$watch('resizable', function () {\n\t\t\tx = $scope.$Layout.LEFT_VALUE + 1;\n\t\t\ty = $scope.$Layout.TOP_VALUE;\n\t\t\twidth = $scope.width - $scope.$Layout.LEFT_VALUE - $scope.$Layout.RIGHT_VALUE;\n\t\t\theight = $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE;\n\n\t\t\tcontext.call(element, $scope.guid, x, y, width * (utils.isNumber($scope.progress) ? $scope.progress : 1), height);\n\t\t});\n\n\t\t//动画：Progress变化时, 设置hover区间;\t\n\t\t$scope.$watch('progress', function (progress) {\n\t\t\tcontext.call(element, $scope.guid, x, y, width * (utils.isNumber(progress) ? progress : 1), height);\n\t\t});\n\n\t\t/*d3.select(window).on('mouseup', function() {\r\n  \tvar mouse = d3.mouse(this);\r\n  \t$scope.$EventIsSelection = false;\r\n  \t//console.log(111)\r\n  });*/\n\t};\n}\n\n/**\r\n * Export `d3WidgetHover`\r\n */\nmodule.exports = d3WidgetHover;\n\n},{\"./../core/handler\":6,\"./../core/utils\":12,\"./../elements/d3SvgHover\":18}],40:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../core/utils');\nvar element = require('./../shapes/d3SvgLine');\n\n/**\r\n * d3SvgMask\r\n * @public\t \r\n * @method d3WidgetMask\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\nfunction d3WidgetLine($scope) {\n\n\treturn function (context, eid, id, x, y, defined, smooth) {\n\t\t//console.log(eid);\n\t\tcontext.call(element, eid, id, [], x, y, defined, smooth);\n\n\t\t//窗口大小变化时，折线自适应;\n\t\t$scope.$watch('resizable', function () {\n\t\t\tcontext.call(element, eid, id, [$scope.$DATA_STORAGE || []], x, y, defined, smooth);\n\t\t});\n\n\t\t$scope.$watch('LINE_DATA', function (data) {\n\t\t\t$scope.$DATA_STORAGE = data;\n\t\t});\n\n\t\t$scope.$watch('$DATA_STORAGE', function (data) {\n\t\t\t$scope.progress = 1.0;\n\t\t\t$scope.$DATA_LOAD = utils.guid();\n\t\t\tvar array = utils.range(1, $scope.$DATA_STORAGE[0].length).map(function (i) {\n\t\t\t\treturn $scope.$DATA_STORAGE.map(function (d) {\n\t\t\t\t\treturn [d[0], d[i]];\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tcontext.call(element, eid, id, array, x, y, defined, smooth);\n\t\t});\n\t};\n}\n\n/**\r\n * Export `d3WidgetLine`\r\n */\nmodule.exports = d3WidgetLine;\n\n},{\"./../core/utils\":12,\"./../shapes/d3SvgLine\":30}],41:[function(require,module,exports){\n'use strict';\n\nvar element = require('./../shapes/d3SvgMarker');\n//var markertips = require('./../widget/d3WidgetMarkerTips');\n/**\r\n * d3SvgMask\r\n * @public\t \r\n * @method d3WidgetMask\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\nfunction d3WidgetMarker($scope) {\n\treturn function (context, x, y, style) {\n\t\t//初始化marker数据;\n\t\t$scope.$MARKER_STORAGE = [];\n\n\t\t//创建无数据的元素;\n\t\tcontext.call(element, [], x, y, style) /*.select('g.graph-marker')*/;\n\n\t\t//监听窗口变化时, 更新元素坐标;\n\t\t$scope.$watch('resizable', function () {\n\t\t\tcontext.call(element, $scope.$MARKER_STORAGE[0] || [], x, y, style);\n\t\t});\n\n\t\t//监听数据变化时,更新 MARKER_STORAGE;\n\t\t$scope.$watch('MARKER_DATA', function (data) {\n\t\t\t$scope.$MARKER_STORAGE = [data, data];\n\t\t});\n\n\t\t//数据变化时,更新元素个数;\n\t\t$scope.$watch('$MARKER_STORAGE', function (data) {\n\t\t\tcontext.call(element, data[0], x, y, style);\n\t\t});\n\n\t\t//动画: 运行时间内，计算元素个数;\n\t\t$scope.$watch('progress', function (progress) {\n\t\t\tvar start = $scope.$Extents[2][0];\n\t\t\tvar stop = $scope.$Extents[2][1];\n\n\t\t\tvar current = Math.floor((stop - start) * progress + start);\n\n\t\t\t$scope.$MARKER_SIZE = binary($scope.$MARKER_STORAGE[1] || [], current);\n\n\t\t\tif ($scope.$MARKER_SIZE === -1) {\n\t\t\t\t$scope.$MARKER_STORAGE = [[], $scope.$MARKER_STORAGE[1] || []];\n\t\t\t}\n\t\t});\n\n\t\t//动画: 更新元素个数;\n\t\t$scope.$watch('$MARKER_SIZE', function (size) {\n\t\t\t$scope.$MARKER_STORAGE = [($scope.$MARKER_STORAGE[1] || []).slice(0, size + 1), $scope.$MARKER_STORAGE[1] || []];\n\t\t\t$scope.$CURRENT_MARKER = ($scope.$MARKER_STORAGE[1] || [])[size];\n\t\t});\n\t};\n}\n\nfunction binary(data, dest) {\n\tvar h = data.length - 1;\n\tvar l = 0;\n\twhile (l <= h) {\n\t\tvar m = l + (h - l >> 1);\n\t\tvar t = new Date(data[m][0]).getTime();\n\t\tif (t === dest) {\n\t\t\treturn m;\n\t\t} else if (dest > t) {\n\t\t\t/*if((data[m + 1] && dest < new Date( data[m + 1][0]).getTime()) || data[m + 1] === undefined) {\r\n   \treturn m;\r\n   }*/\n\n\t\t\tif (data[m + 1] === undefined) {\n\t\t\t\treturn m;\n\t\t\t}\n\n\t\t\tif (data[m + 1] && dest < new Date(data[m + 1][0]).getTime()) {\n\t\t\t\treturn m;\n\t\t\t}\n\n\t\t\tl = m + 1;\n\t\t} else {\n\t\t\th = m - 1;\n\t\t}\n\t}\n\treturn -1;\n}\n\n/**\r\n * Export `d3WidgetMarker`\r\n */\nmodule.exports = d3WidgetMarker;\n\n},{\"./../shapes/d3SvgMarker\":31}],42:[function(require,module,exports){\n'use strict';\n\nvar element = require('./../elements/d3SvgMarkerTips');\n\n//d3WidgetMarkerTips\nfunction d3WidgetMarkerTips($scope) {\n\n\treturn function (context) {\n\t\tcontext.call(element, [{ left: -9999, top: -9999 }]);\n\n\t\t//监听数据变化时,更新 RECT_STORAGE;\n\t\t$scope.$watch('MARKER_ACTIVE', function (data) {\n\t\t\tcontext.call(element, data);\n\t\t});\n\n\t\t$scope.$watch('resizable', function () {\n\t\t\tcontext.call(element, [{ left: -9999, top: -9999 }]);\n\t\t});\n\t};\n}\n\n/**\r\n * Export `d3WidgetMarkerTips`\r\n */\nmodule.exports = d3WidgetMarkerTips;\n\n},{\"./../elements/d3SvgMarkerTips\":19}],43:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../core/utils');\nvar element = require('./../elements/d3SvgMask');\n\n/**\r\n * d3SvgMask\r\n * @public\t \r\n * @method d3WidgetMask\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\nfunction d3WidgetMask($scope) {\n\tvar x = $scope.$Layout.LEFT_VALUE + 1;\n\tvar y = $scope.$Layout.TOP_VALUE;\n\tvar width = $scope.width - $scope.$Layout.LEFT_VALUE - $scope.$Layout.RIGHT_VALUE;\n\tvar height = $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE;\n\n\treturn function (context) {\n\t\tcontext.call(element, $scope.uid, x, y, width * (utils.isNumber($scope.progress) ? $scope.progress : 1), height);\n\n\t\t//数据加载完成时,蒙板大小100%;\n\t\t$scope.$watch('$DATA_LOAD', function () {\n\t\t\tx = $scope.$Layout.LEFT_VALUE + 1;\n\t\t\ty = $scope.$Layout.TOP_VALUE;\n\t\t\twidth = $scope.width - $scope.$Layout.LEFT_VALUE - $scope.$Layout.RIGHT_VALUE;\n\t\t\theight = $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE;\n\n\t\t\tcontext.call(element, $scope.uid, x, y, width * (utils.isNumber($scope.progress) ? $scope.progress : 1), height);\n\t\t});\n\n\t\t//窗口大小变化时，蒙板大小自适应;\n\t\t$scope.$watch('resizable', function () {\n\t\t\tx = $scope.$Layout.LEFT_VALUE + 1;\n\t\t\ty = $scope.$Layout.TOP_VALUE;\n\t\t\twidth = $scope.width - $scope.$Layout.LEFT_VALUE - $scope.$Layout.RIGHT_VALUE;\n\t\t\theight = $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE;\n\n\t\t\tcontext.call(element, $scope.uid, x, y, width * (utils.isNumber($scope.progress) ? $scope.progress : 1), height);\n\t\t});\n\n\t\t//动画: 蒙板尺寸缩放;\n\t\t$scope.$watch('progress', function (progress) {\n\t\t\tcontext.call(element, $scope.uid, x, y, width * (utils.isNumber(progress) ? progress : 1), height);\n\t\t});\n\t};\n}\n\n/**\r\n * Export `d3WidgetMask`\r\n */\nmodule.exports = d3WidgetMask;\n\n},{\"./../core/utils\":12,\"./../elements/d3SvgMask\":20}],44:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../core/utils');\nvar element = require('./../elements/d3SvgMessage');\n\n/**\r\n * d3WidgetMessage\r\n * @public\t \r\n * @method d3WidgetMessage\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\nfunction d3WidgetMessage($scope) {\n\tvar x = $scope.$Layout.LEFT_VALUE + 1;\n\tvar y = $scope.$Layout.TOP_VALUE;\n\tvar width = $scope.width - $scope.$Layout.LEFT_VALUE - $scope.$Layout.RIGHT_VALUE;\n\tvar height = $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE;\n\n\t$scope.$LOAD_MESSAGE = {\n\t\tx: width / 2 + x,\n\t\ty: height / 2 + y,\n\t\tlabel: '暂无数据！'\n\t};\n\n\treturn function (context) {\n\t\tcontext.call(element, $scope.$LOAD_MESSAGE);\n\n\t\t//数据加载完成时,清空Massage;\n\t\t$scope.$watch('$DATA_LOAD', function () {\n\t\t\t$scope.$LOAD_MESSAGE.label = '';\n\n\t\t\tcontext.call(element, $scope.$LOAD_MESSAGE);\n\t\t});\n\n\t\t//窗口大小变化时，提示信息自适应;\n\t\t$scope.$watch('resizable', function () {\n\t\t\tx = $scope.$Layout.LEFT_VALUE + 1;\n\t\t\ty = $scope.$Layout.TOP_VALUE;\n\t\t\twidth = $scope.width - $scope.$Layout.LEFT_VALUE - $scope.$Layout.RIGHT_VALUE;\n\t\t\theight = $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE;\n\t\t\t$scope.$LOAD_MESSAGE.x = width / 2 + x;\n\t\t\t$scope.$LOAD_MESSAGE.y = height / 2 + y;\n\n\t\t\tcontext.call(element, $scope.$LOAD_MESSAGE);\n\t\t});\n\t};\n}\n\n/**\r\n * Export `d3WidgetMessage`\r\n */\nmodule.exports = d3WidgetMessage;\n\n},{\"./../core/utils\":12,\"./../elements/d3SvgMessage\":21}],45:[function(require,module,exports){\n'use strict';\n\nvar Observer = require('./../core/observer');\nvar element = require('./../elements/d3SvgPaint');\n\n/**\r\n * d3SvgMask\r\n * @public\t \r\n * @method d3WidgetMask\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\nfunction d3WidgetPaint(id, width, height, $scope) {\n  var wrapper = d3.select('#' + id).style('position', 'relative');\n\n  var context = element(wrapper, id, width, height);\n\n  //窗口变化，更新svg属性\n  $scope.$watch('resizable', function () {\n    context.attr('width', $scope.width).attr('height', $scope.height);\n  });\n  return context;\n}\n\n/**\r\n * Export `d3WidgetPaint`\r\n */\nmodule.exports = d3WidgetPaint;\n\n},{\"./../core/observer\":9,\"./../elements/d3SvgPaint\":22}],46:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../core/utils');\nvar element = require('./../shapes/d3SvgLine');\n\n/**\r\n * d3WidgetPath\r\n * @public\t \r\n * @method d3WidgetPath\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\nfunction d3WidgetPath($scope) {\n\n\treturn function (context, id, x, y, defined, smooth) {\n\t\tcontext.call(element, id, [], x, y, defined, smooth);\n\n\t\t//窗口大小变化时，折线自适应;\n\t\t$scope.$watch('resizable', function () {\n\t\t\tcontext.call(element, id, $scope.$PATH_STORAGE, x, y, defined, smooth);\n\t\t});\n\n\t\t$scope.$watch('PATH_DATA', function (data) {\n\t\t\t$scope.$PATH_STORAGE = data;\n\t\t});\n\n\t\t$scope.$watch('$PATH_STORAGE', function (data) {\n\t\t\tcontext.call(element, id, $scope.$PATH_STORAGE, x, y, defined, smooth);\n\t\t});\n\t};\n}\n\n/**\r\n * Export `d3WidgetPath`\r\n */\nmodule.exports = d3WidgetPath;\n\n},{\"./../core/utils\":12,\"./../shapes/d3SvgLine\":30}],47:[function(require,module,exports){\n'use strict';\n\nvar element = require('./../elements/d3SvgPointerEvents');\n/**\r\n * d3WidgetPointerEvents\r\n * @public\t \r\n * @method d3WidgetPointerEvents\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\nfunction d3WidgetPointerEvents($scope) {\n\tvar data = [{\n\t\tstyle: \"cursor-line-vertical\",\n\t\ty1: $scope.$Layout.TOP_VALUE,\n\t\ty2: $scope.height - $scope.$Layout.BOTTOM_VALUE,\n\t\tx: -9999,\n\t\ty: -9999\n\t}, {\n\t\tstyle: \"cursor-line-horizontal\",\n\t\tx1: $scope.$Layout.LEFT_VALUE,\n\t\tx2: $scope.width - $scope.$Layout.RIGHT_VALUE,\n\t\tx: -9999,\n\t\ty: -9999\n\t}];\n\n\treturn function (context) {\n\t\tcontext.call(element, data);\n\n\t\t//窗口大小变化时，重置PointEvents坐标;\n\t\t$scope.$watch('resizable', function () {\n\t\t\tdata[0].y1 = $scope.$Layout.TOP_VALUE;\n\t\t\tdata[0].y2 = $scope.height - $scope.$Layout.BOTTOM_VALUE;\n\t\t\tdata[0].x = -9999;\n\t\t\tdata[0].y = -9999;\n\n\t\t\tdata[1].x1 = $scope.$Layout.LEFT_VALUE, data[1].x2 = $scope.width - $scope.$Layout.RIGHT_VALUE;\n\t\t\tdata[1].x = -9999;\n\t\t\tdata[1].y = -9999;\n\t\t\tcontext.call(element, data);\n\t\t});\n\n\t\t//数据加载完成时,重置PointEvents坐标;\n\t\t$scope.$watch('$DATA_LOAD', function () {\n\t\t\tdata[0].y1 = $scope.$Layout.TOP_VALUE;\n\t\t\tdata[0].y2 = $scope.height - $scope.$Layout.BOTTOM_VALUE;\n\t\t\tdata[0].x = -9999;\n\t\t\tdata[0].y = -9999;\n\n\t\t\tdata[1].x1 = $scope.$Layout.LEFT_VALUE, data[1].x2 = $scope.width - $scope.$Layout.RIGHT_VALUE;\n\t\t\tdata[1].x = -9999;\n\t\t\tdata[1].y = -9999;\n\t\t\tcontext.call(element, data);\n\t\t});\n\n\t\t//鼠标移动时,设置PointEvents坐标;\n\t\t$scope.$watch('$EVENT_HOVER', function (mouse) {\n\t\t\tdata[0].x = mouse[0];\n\t\t\tdata[0].y = 0;\n\t\t\tdata[1].x = 0;\n\t\t\tdata[1].y = mouse[1];\n\t\t\tcontext.call(element, data);\n\t\t});\n\t};\n}\n\n/**\r\n * Export `d3WidgetPointerEvents`\r\n */\nmodule.exports = d3WidgetPointerEvents;\n\n},{\"./../elements/d3SvgPointerEvents\":23}],48:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../core/utils');\nvar element = require('./../shapes/d3SvgRect');\n\n/**\r\n * d3SvgMask\r\n * @public\t \r\n * @method d3WidgetMask\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\nfunction d3WidgetRect($scope) {\n\treturn function (context, x, y, w, h, style) {\n\t\t//初始化marker数据;\n\t\t$scope.$RECT_STORAGE = [];\n\n\t\t//创建无数据的元素;\n\t\tcontext.call(element, [], x, y, w, h, style);\n\n\t\t//监听数据变化时,更新 RECT_STORAGE;\n\t\t$scope.$watch('RECT_DATA', function (data) {\n\t\t\t$scope.$RECT_STORAGE = [data, data];\n\t\t});\n\n\t\t$scope.$watch('resizable', function () {\n\t\t\tcontext.call(element, $scope.progress === 1 ? $scope.$DATA_STORAGE : $scope.$VOLUME_CHANGE, x, y, w, h, style);\n\t\t});\n\n\t\t//数据变化时,更新元素个数;\n\t\t$scope.$watch('$RECT_STORAGE', function (data) {\n\t\t\t$scope.progress = 1.0;\n\t\t\t$scope.$DATA_STORAGE = data[0];\n\t\t\t$scope.$DATA_LOAD = utils.guid();\n\t\t});\n\n\t\t$scope.$watch('$DATA_LOAD', function (data) {\n\t\t\tcontext.call(element, $scope.$DATA_STORAGE || [], x, y, w, h, style);\n\t\t});\n\n\t\t$scope.$watch('progress', function (progress) {\n\t\t\tvar start = $scope.$Extents[2][0];\n\t\t\tvar stop = $scope.$Extents[2][1];\n\n\t\t\tvar excludeStart = new Date(start);\n\t\t\texcludeStart.setHours('11');\n\t\t\texcludeStart.setMinutes('30');\n\t\t\texcludeStart.setSeconds('00');\n\n\t\t\tvar excludeStop = new Date(stop);\n\t\t\texcludeStop.setHours('13');\n\t\t\texcludeStop.setMinutes('00');\n\t\t\texcludeStop.setSeconds('00');\n\n\t\t\tvar current = 0;\n\t\t\tif (start > excludeStop.getTime() || stop < excludeStart.getTime()) {\n\t\t\t\tcurrent = Math.floor((stop - start) * progress + start);\n\t\t\t} else {\n\t\t\t\tcurrent = Math.floor((stop - start - 1.5 * 60 * 60 * 1000) * progress + start);\n\t\t\t}\n\n\t\t\tif (current > excludeStart.getTime()) {\n\t\t\t\tcurrent += 1.5 * 60 * 60 * 1000;\n\t\t\t}\n\n\t\t\t$scope.$RECT_SIZE = binary($scope.$RECT_STORAGE[1] || [], current);\n\t\t});\n\n\t\t$scope.$watch('$RECT_SIZE', function (size) {\n\t\t\t$scope.$VOLUME_CHANGE = ($scope.$RECT_STORAGE[1] || []).slice(0, size + 1);\n\t\t\tcontext.call(element, $scope.$VOLUME_CHANGE || [], x, y, w, h, style);\n\t\t});\n\t};\n}\n\nfunction binary(data, dest) {\n\tvar h = data.length - 1;\n\tvar l = 0;\n\twhile (l <= h) {\n\t\tvar m = l + (h - l >> 1);\n\t\tvar t = new Date(data[m][0]).getTime();\n\t\tif (t === dest) {\n\t\t\treturn m;\n\t\t} else if (dest > t) {\n\t\t\t/*if((data[m + 1] && dest < new Date( data[m + 1][0]).getTime()) || data[m + 1] === undefined) {\r\n   \treturn m;\r\n   }*/\n\n\t\t\t/*if(data[m + 1] === undefined) {\r\n   \treturn m;\r\n   }*/\n\n\t\t\tif (data[m + 1] && dest < new Date(data[m + 1][0]).getTime()) {\n\t\t\t\treturn m;\n\t\t\t}\n\n\t\t\tl = m + 1;\n\t\t} else {\n\t\t\th = m - 1;\n\t\t}\n\t}\n\treturn -1;\n}\n\n/**\r\n * Export `d3WidgetMarker`\r\n */\nmodule.exports = d3WidgetRect;\n\n},{\"./../core/utils\":12,\"./../shapes/d3SvgRect\":33}],49:[function(require,module,exports){\n'use strict';\n\nvar draggable = require('./../core/draggable');\nvar element = require('./../elements/d3SvgSelection');\n\n/**\r\n * d3WidgetSelection\r\n * @public\t \r\n * @method d3WidgetSelection\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\nfunction d3WidgetSelection($scope) {\n\tvar offsetLeft = 0;\n\tvar offsetTop = 0;\n\n\tvar startX = 0;\n\tvar startY = 0;\n\n\tvar stopX = 0;\n\tvar stopY = 0;\n\n\tdraggable.$watch('start' + $scope.guid, function (domain) {\n\t\t$scope.$EVENT_START = domain;\n\t});\n\n\tdraggable.$watch('drag' + $scope.guid, function (domain) {\n\t\t$scope.$EVENT_DRAG = domain;\n\t});\n\n\tdraggable.$watch('stop' + $scope.guid, function (domain) {\n\t\tif (draggable.$EventIsSelection) {\n\t\t\t$scope.$EVENT_STOP = domain;\n\t\t}\n\t});\n\n\treturn function (context) {\n\t\tcontext.call(element, 0, 0, 0, $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE);\n\t\t$scope.mouse = [-9999, -9999];\n\n\t\t//区间变化;\n\t\t$scope.$watch('$EVENT_SELECTION', function (events) {\n\t\t\tvar TOP_VALUE = $scope.$Layout.TOP_VALUE;\n\t\t\tvar BOTTOM_VALUE = $scope.$Layout.BOTTOM_VALUE;\n\n\t\t\tcontext.call(element, events[0], TOP_VALUE, events[1], $scope.height - TOP_VALUE - BOTTOM_VALUE);\n\t\t});\n\n\t\t//监听窗口变化时, 更新元素坐标;\n\t\t$scope.$watch('resizable', function (events) {\n\t\t\tvar TOP_VALUE = $scope.$Layout.TOP_VALUE;\n\t\t\tvar BOTTOM_VALUE = $scope.$Layout.BOTTOM_VALUE;\n\t\t\tcontext.call(element, events[0], TOP_VALUE, 0, $scope.height - TOP_VALUE - BOTTOM_VALUE);\n\t\t});\n\n\t\t//播放过程中, 区间 Width：0px;\n\t\t$scope.$watch('progress', function (progress) {\n\t\t\tvar TOP_VALUE = $scope.$Layout.TOP_VALUE;\n\t\t\tvar BOTTOM_VALUE = $scope.$Layout.BOTTOM_VALUE;\n\n\t\t\tcontext.call(element, 0, 0, 0, $scope.height - TOP_VALUE - BOTTOM_VALUE);\n\t\t});\n\n\t\t//鼠标拖拽开始;\n\t\t$scope.$watch('$EVENT_START', function (domain) {\n\t\t\tstartX = $scope.mouse[0];\n\t\t\tstartY = $scope.mouse[1];\n\n\t\t\toffsetLeft = domain[0] - startX;\n\t\t\toffsetTop = domain[1] - startY;\n\t\t});\n\n\t\t//鼠标拖拽中;\n\t\t$scope.$watch('$EVENT_DRAG', function (domain) {\n\t\t\tvar LEFT_VALUE = $scope.$Layout.LEFT_VALUE;\n\t\t\tvar RIGHT_VALUE = $scope.$Layout.RIGHT_VALUE;\n\n\t\t\tvar number = Math.min(Math.max(domain[0] - offsetLeft, LEFT_VALUE), $scope.width - RIGHT_VALUE);\n\t\t\tvar size = Math.floor(($scope.width - LEFT_VALUE - RIGHT_VALUE) * $scope.progress) + LEFT_VALUE;\n\n\t\t\tif (startX > 0) {\n\t\t\t\t$scope.$EVENT_SELECTION = [Math.min(startX, number), Math.abs(startX - Math.min(number, size))];\n\t\t\t}\n\t\t});\n\n\t\t//鼠标拖拽停止;\n\t\t$scope.$watch('$EVENT_STOP', function (domain) {\n\t\t\tvar LEFT_VALUE = $scope.$Layout.LEFT_VALUE;\n\t\t\tvar RIGHT_VALUE = $scope.$Layout.RIGHT_VALUE;\n\t\t\tvar size = $scope.width - RIGHT_VALUE - LEFT_VALUE;\n\t\t\tvar extent = $scope.$Extents[2];\n\n\t\t\tif (domain[0] === startX) {\n\t\t\t\t$scope.$EVENT_SELECTION = [startX, 0];\n\t\t\t} else if ($scope.$EVENT_SELECTION) {\n\t\t\t\tvar a = $scope.$EVENT_SELECTION[0];\n\t\t\t\tvar b = $scope.$EVENT_SELECTION[1];\n\n\t\t\t\tif (extent[1] - extent[0] !== 0) {\n\t\t\t\t\tvar start = (a - LEFT_VALUE) / size * (extent[1] - extent[0]);\n\t\t\t\t\tvar stop = (a + b - LEFT_VALUE) / size * (extent[1] - extent[0]);\n\t\t\t\t\tif ($scope.progress === 1) {\n\t\t\t\t\t\tconsole.log('TIME:', new Date(Math.floor((start + extent[0]) * 10) / 10), new Date(Math.floor((stop + extent[0]) * 10) / 10));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n}\n\n/** \r\n * Export `d3WidgetSelection`\r\n */\nmodule.exports = d3WidgetSelection;\n\n},{\"./../core/draggable\":5,\"./../elements/d3SvgSelection\":24}]},{},[1])(1)\n});\n\n","/**\r\n *\r\n *\r\n */\r\n\r\nvar utils = require('./src/cn/szse/chart/core/utils');\r\nvar matrix = require('./src/cn/szse/chart/core/matrix');\r\nvar themes = require('./src/cn/szse/chart/core/themes');\r\nvar observer = require('./src/cn/szse/chart/core/observer');\r\nvar animate = require('./src/cn/szse/chart/core/animate');\r\nvar handler = require('./src/cn/szse/chart/core/handler');\r\nvar colors = require('./src/cn/szse/chart/core/colors');\r\nvar dataset = require('./src/cn/szse/chart/core/dataset');\r\nvar mouse = require('./src/cn/szse/chart/core/mouse');\r\nvar draggable = require('./src/cn/szse/chart/core/draggable');\r\n\r\nvar d3SvgDesc = require('./src/cn/szse/chart/elements/d3SvgDesc');\r\nvar d3SvgMask = require('./src/cn/szse/chart/elements/d3SvgMask');\r\nvar d3SvgPaint = require('./src/cn/szse/chart/elements/d3SvgPaint');\r\nvar d3SvgHover = require('./src/cn/szse/chart/elements/d3SvgHover');\r\nvar d3SvgSelection = require('./src/cn/szse/chart/elements/d3SvgSelection');\r\nvar d3SvgGridLine = require('./src/cn/szse/chart/elements/d3SvgGridLine');\r\nvar d3SvgAxisTips = require('./src/cn/szse/chart/elements/d3SvgAxisTips');\r\nvar d3SvgMessage = require('./src/cn/szse/chart/elements/d3SvgMessage');\r\nvar d3SvgAxisNodes = require('./src/cn/szse/chart/elements/d3SvgAxisNodes');\r\nvar d3SvgPointerEvents = require('./src/cn/szse/chart/elements/d3SvgPointerEvents');\r\n\r\nvar d3SvgLine = require('./src/cn/szse/chart/shapes/d3SvgLine');\r\nvar d3SvgRect = require('./src/cn/szse/chart/shapes/d3SvgRect');\r\nvar d3SvgPoint = require('./src/cn/szse/chart/shapes/d3SvgPoint');\r\nvar d3SvgMarker = require('./src/cn/szse/chart/shapes/d3SvgMarker');\r\nvar d3SvgCandlestick = require('./src/cn/szse/chart/shapes/d3SvgCandlestick');\r\n\r\nvar d3WidgetMask = require('./src/cn/szse/chart/widget/d3WidgetMask');\r\nvar d3WidgetRect = require('./src/cn/szse/chart/widget/d3WidgetRect');\r\nvar d3WidgetHover = require('./src/cn/szse/chart/widget/d3WidgetHover');\r\nvar d3WidgetSelection = require('./src/cn/szse/chart/widget/d3WidgetSelection');\r\nvar d3WidgetPaint = require('./src/cn/szse/chart/widget/d3WidgetPaint');\r\nvar d3WidgetMarker = require('./src/cn/szse/chart/widget/d3WidgetMarker');\r\nvar d3WidgetLine = require('./src/cn/szse/chart/widget/d3WidgetLine');\r\nvar d3WidgetMessage = require('./src/cn/szse/chart/widget/d3WidgetMessage');\r\nvar d3WidgetAxisTips = require('./src/cn/szse/chart/widget/d3WidgetAxisTips');\r\nvar d3WidgetGridLine = require('./src/cn/szse/chart/widget/d3WidgetGridLine');\r\nvar d3WidgetAxisNodes = require('./src/cn/szse/chart/widget/d3WidgetAxisNodes');\r\nvar d3WidgetCandlestick = require('./src/cn/szse/chart/widget/d3WidgetCandlestick');\r\nvar d3WidgetPointerEvents = require('./src/cn/szse/chart/widget/d3WidgetPointerEvents');\r\n\r\n\r\nvar Volume = require('./src/cn/szse/chart/members/volume/Volume');\r\nvar Brush = require('./src/cn/szse/chart/members/brush/Brush');\r\nvar TimeSeries = require('./src/cn/szse/chart/members/timeseries/TimeSeries');\r\nvar Candlestick = require('./src/cn/szse/chart/members/candlestick/Candlestick');\r\n\r\nmodule.exports = {\r\n\tcore: {\r\n\t\tutils: utils,\r\n\t\tobserver: observer,\r\n\t\tanimate: animate,\r\n\t\tmatrix: matrix,\r\n\t\thandler: handler,\r\n\t\tcolors: colors,\r\n\t\tdataset: dataset,\r\n\t\tdraggable: draggable,\r\n\t\tthemes: themes\r\n\t},\r\n\r\n\telements: {\r\n\t\tdesc: d3SvgDesc,\r\n\t\tmask: d3SvgMask,\r\n\t\tpaint: d3SvgPaint,\r\n\t\thover: d3SvgHover,\r\n\t\ttips: d3SvgAxisTips,\r\n\t\taxis: d3SvgAxisNodes,\r\n\t\tselection: d3SvgSelection,\r\n\t\tgridline: d3SvgGridLine,\r\n\t\tmessage: d3SvgMessage,\r\n\t\tpointerEvents: d3SvgPointerEvents,\r\n\t},\r\n\r\n\tshapes: {\r\n\t\tline: d3SvgLine,\r\n\t\tpoint: d3SvgPoint,\r\n\t\trect: d3SvgRect,\r\n\t\tmarker: d3SvgMarker,\r\n\t\tcandlestick: d3SvgCandlestick,\r\n\t},\r\n\r\n\twidget: {\r\n\t\tmask: d3WidgetMask,\r\n\t\thover: d3WidgetHover,\r\n\t\tpaint: d3WidgetPaint,\r\n\t\trect: d3WidgetRect,\r\n\t\tmarker: d3WidgetMarker,\r\n\t\tline: d3WidgetLine,\r\n\t\tgridline: d3WidgetGridLine,\r\n\t\tticks: d3WidgetAxisNodes,\r\n\t\ttips: d3WidgetAxisTips,\r\n\t\tmessage: d3WidgetMessage,\r\n\t\tselection: d3WidgetSelection,\r\n\t\tcandlestick: d3WidgetCandlestick,\r\n\t\tpointerEvents: d3WidgetPointerEvents,\r\n\t},\r\n\tmouse: mouse,\r\n\r\n\tBrush: Brush,\t\r\n\tVolume: Volume,\r\n\tTimeSeries: TimeSeries,\r\n\tCandlestick: Candlestick,\r\n\r\n};","'use strict';\r\n\r\nvar linear = function (t) {\r\n\treturn t;\r\n};\r\n\r\n/**\r\n * 图形动画\r\n * @public\t \r\n * @method animate\r\n * @returns {Object} controls\r\n */\r\nvar animate = function () {\r\n\tvar percent = 0;\r\n\tvar step = 0.01;\r\n\tvar state = false;\r\n\tvar watch;\r\n\r\n\t/**\r\n\t * 动画执行 `animate`\r\n\t */\r\n\tvar animate = function () {\r\n\t\tpercent += step;\r\n\t\tif (percent <= 1 && state) {\r\n\t\t\twatch(+linear(percent));\r\n\t\t\trequestAnimationFrame(animate);\r\n\t\t} else {\r\n\t\t\twatch(1.0);\r\n\t\t\tstate = false;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * 动画播放 `play`\r\n\t */\r\n\tvar play = function () {\r\n\t\tif (state === true) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tstate = true;\r\n\t\tanimate();\r\n\t};\r\n\r\n\t/**\r\n\t * 动画暂停 `pause`\r\n\t */\r\n\tvar pause = function () {\r\n\t\tstate = false;\r\n\t};\r\n\r\n\t/**\r\n\t * 动画跳转并播放 `gotoAndPlay`\r\n\t */\r\n\tvar gotoAndPlay = function (x) {\r\n\t\tpercent = x;\r\n\t\tplay();\r\n\t};\r\n\r\n\t/**\r\n\t * 动画跳转并停止 `gotoAndStop`\r\n\t */\r\n\tvar gotoAndStop = function (x) {\r\n\t\tpercent = x;\r\n\t\tpause();\r\n\t};\r\n\r\n\t/**\r\n\t * 动画控制 `controls`\r\n\t */\r\n\tvar controls = function () {\r\n\t\treturn {\r\n\t\t\tplay : play,\r\n\t\t\tpause : pause,\r\n\t\t\tgotoAndPlay : gotoAndPlay,\r\n\t\t\tgotoAndStop : gotoAndStop\r\n\t\t};\r\n\t};\r\n\r\n\t/**\r\n\t * 动画时长 `duration`\r\n\t */\r\n\tcontrols.duration = function (x) {\r\n\t\tvar count = (x || 500) * 60 / 1000;\r\n\t\tstep = 1 / count;\r\n\t\treturn controls;\r\n\t};\r\n\r\n\t/**\r\n\t * 动画监听 `watch`\r\n\t */\r\n\tcontrols.watch = function (x) {\r\n\t\twatch = x;\r\n\t\treturn controls;\r\n\t};\r\n\r\n\treturn controls;\r\n};\r\n\r\n/**\r\n * Export `animate`\r\n */\r\nmodule.exports = animate;","'use strict';\r\n\r\nvar colors = {\r\n\td3 : {\r\n\t\t\"10\" : [\"#1f77b4\", \"#ff7f0e\", \"#2ca02c\", \"#d62728\", \"#9467bd\", \"#8c564b\", \"#e377c2\", \"#7f7f7f\", \"#bcbd22\", \"#17becf\"],\r\n\t\t\"20\" : [\"#1f77b4\", \"#aec7e8\", \"#ff7f0e\", \"#ffbb78\", \"#2ca02c\", \"#98df8a\", \"#d62728\", \"#ff9896\", \"#9467bd\", \"#c5b0d5\",\r\n\t\t\t\"#8c564b\", \"#c49c94\", \"#e377c2\", \"#f7b6d2\", \"#7f7f7f\", \"#c7c7c7\", \"#bcbd22\", \"#dbdb8d\", \"#17becf\", \"#9edae5\"],\r\n\t\t\"20b\" : [\"#393b79\", \"#5254a3\", \"#6b6ecf\", \"#9c9ede\", \"#637939\", \"#8ca252\", \"#b5cf6b\", \"#cedb9c\", \"#8c6d31\", \"#bd9e39\",\r\n\t\t\t\"#e7ba52\", \"#e7cb94\", \"#843c39\", \"#ad494a\", \"#d6616b\", \"#e7969c\", \"#7b4173\", \"#a55194\", \"#ce6dbd\", \"#de9ed6\"],\r\n\t\t\"20c\" : [\"#3182bd\", \"#6baed6\", \"#9ecae1\", \"#c6dbef\", \"#e6550d\", \"#fd8d3c\", \"#fdae6b\", \"#fdd0a2\", \"#31a354\", \"#74c476\",\r\n\t\t\t\"#a1d99b\", \"#c7e9c0\", \"#756bb1\", \"#9e9ac8\", \"#bcbddc\", \"#dadaeb\", \"#636363\", \"#969696\", \"#bdbdbd\", \"#d9d9d9\"],\r\n\t},\r\n\t// This product includes color specifications and designs developed by Cynthia Brewer (http://colorbrewer.org/).\r\n\tYlGn : {\r\n\t\t3 : [\"#f7fcb9\", \"#addd8e\", \"#31a354\"],\r\n\t\t4 : [\"#ffffcc\", \"#c2e699\", \"#78c679\", \"#238443\"],\r\n\t\t5 : [\"#ffffcc\", \"#c2e699\", \"#78c679\", \"#31a354\", \"#006837\"],\r\n\t\t6 : [\"#ffffcc\", \"#d9f0a3\", \"#addd8e\", \"#78c679\", \"#31a354\", \"#006837\"],\r\n\t\t7 : [\"#ffffcc\", \"#d9f0a3\", \"#addd8e\", \"#78c679\", \"#41ab5d\", \"#238443\", \"#005a32\"],\r\n\t\t8 : [\"#ffffe5\", \"#f7fcb9\", \"#d9f0a3\", \"#addd8e\", \"#78c679\", \"#41ab5d\", \"#238443\", \"#005a32\"],\r\n\t\t9 : [\"#ffffe5\", \"#f7fcb9\", \"#d9f0a3\", \"#addd8e\", \"#78c679\", \"#41ab5d\", \"#238443\", \"#006837\", \"#004529\"]\r\n\t},\r\n\tYlGnBu : {\r\n\t\t3 : [\"#edf8b1\", \"#7fcdbb\", \"#2c7fb8\"],\r\n\t\t4 : [\"#ffffcc\", \"#a1dab4\", \"#41b6c4\", \"#225ea8\"],\r\n\t\t5 : [\"#ffffcc\", \"#a1dab4\", \"#41b6c4\", \"#2c7fb8\", \"#253494\"],\r\n\t\t6 : [\"#ffffcc\", \"#c7e9b4\", \"#7fcdbb\", \"#41b6c4\", \"#2c7fb8\", \"#253494\"],\r\n\t\t7 : [\"#ffffcc\", \"#c7e9b4\", \"#7fcdbb\", \"#41b6c4\", \"#1d91c0\", \"#225ea8\", \"#0c2c84\"],\r\n\t\t8 : [\"#ffffd9\", \"#edf8b1\", \"#c7e9b4\", \"#7fcdbb\", \"#41b6c4\", \"#1d91c0\", \"#225ea8\", \"#0c2c84\"],\r\n\t\t9 : [\"#ffffd9\", \"#edf8b1\", \"#c7e9b4\", \"#7fcdbb\", \"#41b6c4\", \"#1d91c0\", \"#225ea8\", \"#253494\", \"#081d58\"]\r\n\t},\r\n\tGnBu : {\r\n\t\t3 : [\"#e0f3db\", \"#a8ddb5\", \"#43a2ca\"],\r\n\t\t4 : [\"#f0f9e8\", \"#bae4bc\", \"#7bccc4\", \"#2b8cbe\"],\r\n\t\t5 : [\"#f0f9e8\", \"#bae4bc\", \"#7bccc4\", \"#43a2ca\", \"#0868ac\"],\r\n\t\t6 : [\"#f0f9e8\", \"#ccebc5\", \"#a8ddb5\", \"#7bccc4\", \"#43a2ca\", \"#0868ac\"],\r\n\t\t7 : [\"#f0f9e8\", \"#ccebc5\", \"#a8ddb5\", \"#7bccc4\", \"#4eb3d3\", \"#2b8cbe\", \"#08589e\"],\r\n\t\t8 : [\"#f7fcf0\", \"#e0f3db\", \"#ccebc5\", \"#a8ddb5\", \"#7bccc4\", \"#4eb3d3\", \"#2b8cbe\", \"#08589e\"],\r\n\t\t9 : [\"#f7fcf0\", \"#e0f3db\", \"#ccebc5\", \"#a8ddb5\", \"#7bccc4\", \"#4eb3d3\", \"#2b8cbe\", \"#0868ac\", \"#084081\"]\r\n\t},\r\n\tBuGn : {\r\n\t\t3 : [\"#e5f5f9\", \"#99d8c9\", \"#2ca25f\"],\r\n\t\t4 : [\"#edf8fb\", \"#b2e2e2\", \"#66c2a4\", \"#238b45\"],\r\n\t\t5 : [\"#edf8fb\", \"#b2e2e2\", \"#66c2a4\", \"#2ca25f\", \"#006d2c\"],\r\n\t\t6 : [\"#edf8fb\", \"#ccece6\", \"#99d8c9\", \"#66c2a4\", \"#2ca25f\", \"#006d2c\"],\r\n\t\t7 : [\"#edf8fb\", \"#ccece6\", \"#99d8c9\", \"#66c2a4\", \"#41ae76\", \"#238b45\", \"#005824\"],\r\n\t\t8 : [\"#f7fcfd\", \"#e5f5f9\", \"#ccece6\", \"#99d8c9\", \"#66c2a4\", \"#41ae76\", \"#238b45\", \"#005824\"],\r\n\t\t9 : [\"#f7fcfd\", \"#e5f5f9\", \"#ccece6\", \"#99d8c9\", \"#66c2a4\", \"#41ae76\", \"#238b45\", \"#006d2c\", \"#00441b\"]\r\n\t},\r\n\tPuBuGn : {\r\n\t\t3 : [\"#ece2f0\", \"#a6bddb\", \"#1c9099\"],\r\n\t\t4 : [\"#f6eff7\", \"#bdc9e1\", \"#67a9cf\", \"#02818a\"],\r\n\t\t5 : [\"#f6eff7\", \"#bdc9e1\", \"#67a9cf\", \"#1c9099\", \"#016c59\"],\r\n\t\t6 : [\"#f6eff7\", \"#d0d1e6\", \"#a6bddb\", \"#67a9cf\", \"#1c9099\", \"#016c59\"],\r\n\t\t7 : [\"#f6eff7\", \"#d0d1e6\", \"#a6bddb\", \"#67a9cf\", \"#3690c0\", \"#02818a\", \"#016450\"],\r\n\t\t8 : [\"#fff7fb\", \"#ece2f0\", \"#d0d1e6\", \"#a6bddb\", \"#67a9cf\", \"#3690c0\", \"#02818a\", \"#016450\"],\r\n\t\t9 : [\"#fff7fb\", \"#ece2f0\", \"#d0d1e6\", \"#a6bddb\", \"#67a9cf\", \"#3690c0\", \"#02818a\", \"#016c59\", \"#014636\"]\r\n\t},\r\n\tPuBu : {\r\n\t\t3 : [\"#ece7f2\", \"#a6bddb\", \"#2b8cbe\"],\r\n\t\t4 : [\"#f1eef6\", \"#bdc9e1\", \"#74a9cf\", \"#0570b0\"],\r\n\t\t5 : [\"#f1eef6\", \"#bdc9e1\", \"#74a9cf\", \"#2b8cbe\", \"#045a8d\"],\r\n\t\t6 : [\"#f1eef6\", \"#d0d1e6\", \"#a6bddb\", \"#74a9cf\", \"#2b8cbe\", \"#045a8d\"],\r\n\t\t7 : [\"#f1eef6\", \"#d0d1e6\", \"#a6bddb\", \"#74a9cf\", \"#3690c0\", \"#0570b0\", \"#034e7b\"],\r\n\t\t8 : [\"#fff7fb\", \"#ece7f2\", \"#d0d1e6\", \"#a6bddb\", \"#74a9cf\", \"#3690c0\", \"#0570b0\", \"#034e7b\"],\r\n\t\t9 : [\"#fff7fb\", \"#ece7f2\", \"#d0d1e6\", \"#a6bddb\", \"#74a9cf\", \"#3690c0\", \"#0570b0\", \"#045a8d\", \"#023858\"]\r\n\t},\r\n\tBuPu : {\r\n\t\t3 : [\"#e0ecf4\", \"#9ebcda\", \"#8856a7\"],\r\n\t\t4 : [\"#edf8fb\", \"#b3cde3\", \"#8c96c6\", \"#88419d\"],\r\n\t\t5 : [\"#edf8fb\", \"#b3cde3\", \"#8c96c6\", \"#8856a7\", \"#810f7c\"],\r\n\t\t6 : [\"#edf8fb\", \"#bfd3e6\", \"#9ebcda\", \"#8c96c6\", \"#8856a7\", \"#810f7c\"],\r\n\t\t7 : [\"#edf8fb\", \"#bfd3e6\", \"#9ebcda\", \"#8c96c6\", \"#8c6bb1\", \"#88419d\", \"#6e016b\"],\r\n\t\t8 : [\"#f7fcfd\", \"#e0ecf4\", \"#bfd3e6\", \"#9ebcda\", \"#8c96c6\", \"#8c6bb1\", \"#88419d\", \"#6e016b\"],\r\n\t\t9 : [\"#f7fcfd\", \"#e0ecf4\", \"#bfd3e6\", \"#9ebcda\", \"#8c96c6\", \"#8c6bb1\", \"#88419d\", \"#810f7c\", \"#4d004b\"]\r\n\t},\r\n\tRdPu : {\r\n\t\t3 : [\"#fde0dd\", \"#fa9fb5\", \"#c51b8a\"],\r\n\t\t4 : [\"#feebe2\", \"#fbb4b9\", \"#f768a1\", \"#ae017e\"],\r\n\t\t5 : [\"#feebe2\", \"#fbb4b9\", \"#f768a1\", \"#c51b8a\", \"#7a0177\"],\r\n\t\t6 : [\"#feebe2\", \"#fcc5c0\", \"#fa9fb5\", \"#f768a1\", \"#c51b8a\", \"#7a0177\"],\r\n\t\t7 : [\"#feebe2\", \"#fcc5c0\", \"#fa9fb5\", \"#f768a1\", \"#dd3497\", \"#ae017e\", \"#7a0177\"],\r\n\t\t8 : [\"#fff7f3\", \"#fde0dd\", \"#fcc5c0\", \"#fa9fb5\", \"#f768a1\", \"#dd3497\", \"#ae017e\", \"#7a0177\"],\r\n\t\t9 : [\"#fff7f3\", \"#fde0dd\", \"#fcc5c0\", \"#fa9fb5\", \"#f768a1\", \"#dd3497\", \"#ae017e\", \"#7a0177\", \"#49006a\"]\r\n\t},\r\n\tPuRd : {\r\n\t\t3 : [\"#e7e1ef\", \"#c994c7\", \"#dd1c77\"],\r\n\t\t4 : [\"#f1eef6\", \"#d7b5d8\", \"#df65b0\", \"#ce1256\"],\r\n\t\t5 : [\"#f1eef6\", \"#d7b5d8\", \"#df65b0\", \"#dd1c77\", \"#980043\"],\r\n\t\t6 : [\"#f1eef6\", \"#d4b9da\", \"#c994c7\", \"#df65b0\", \"#dd1c77\", \"#980043\"],\r\n\t\t7 : [\"#f1eef6\", \"#d4b9da\", \"#c994c7\", \"#df65b0\", \"#e7298a\", \"#ce1256\", \"#91003f\"],\r\n\t\t8 : [\"#f7f4f9\", \"#e7e1ef\", \"#d4b9da\", \"#c994c7\", \"#df65b0\", \"#e7298a\", \"#ce1256\", \"#91003f\"],\r\n\t\t9 : [\"#f7f4f9\", \"#e7e1ef\", \"#d4b9da\", \"#c994c7\", \"#df65b0\", \"#e7298a\", \"#ce1256\", \"#980043\", \"#67001f\"]\r\n\t},\r\n\tOrRd : {\r\n\t\t3 : [\"#fee8c8\", \"#fdbb84\", \"#e34a33\"],\r\n\t\t4 : [\"#fef0d9\", \"#fdcc8a\", \"#fc8d59\", \"#d7301f\"],\r\n\t\t5 : [\"#fef0d9\", \"#fdcc8a\", \"#fc8d59\", \"#e34a33\", \"#b30000\"],\r\n\t\t6 : [\"#fef0d9\", \"#fdd49e\", \"#fdbb84\", \"#fc8d59\", \"#e34a33\", \"#b30000\"],\r\n\t\t7 : [\"#fef0d9\", \"#fdd49e\", \"#fdbb84\", \"#fc8d59\", \"#ef6548\", \"#d7301f\", \"#990000\"],\r\n\t\t8 : [\"#fff7ec\", \"#fee8c8\", \"#fdd49e\", \"#fdbb84\", \"#fc8d59\", \"#ef6548\", \"#d7301f\", \"#990000\"],\r\n\t\t9 : [\"#fff7ec\", \"#fee8c8\", \"#fdd49e\", \"#fdbb84\", \"#fc8d59\", \"#ef6548\", \"#d7301f\", \"#b30000\", \"#7f0000\"]\r\n\t},\r\n\tYlOrRd : {\r\n\t\t3 : [\"#ffeda0\", \"#feb24c\", \"#f03b20\"],\r\n\t\t4 : [\"#ffffb2\", \"#fecc5c\", \"#fd8d3c\", \"#e31a1c\"],\r\n\t\t5 : [\"#ffffb2\", \"#fecc5c\", \"#fd8d3c\", \"#f03b20\", \"#bd0026\"],\r\n\t\t6 : [\"#ffffb2\", \"#fed976\", \"#feb24c\", \"#fd8d3c\", \"#f03b20\", \"#bd0026\"],\r\n\t\t7 : [\"#ffffb2\", \"#fed976\", \"#feb24c\", \"#fd8d3c\", \"#fc4e2a\", \"#e31a1c\", \"#b10026\"],\r\n\t\t8 : [\"#ffffcc\", \"#ffeda0\", \"#fed976\", \"#feb24c\", \"#fd8d3c\", \"#fc4e2a\", \"#e31a1c\", \"#b10026\"],\r\n\t\t9 : [\"#ffffcc\", \"#ffeda0\", \"#fed976\", \"#feb24c\", \"#fd8d3c\", \"#fc4e2a\", \"#e31a1c\", \"#bd0026\", \"#800026\"]\r\n\t},\r\n\tYlOrBr : {\r\n\t\t3 : [\"#fff7bc\", \"#fec44f\", \"#d95f0e\"],\r\n\t\t4 : [\"#ffffd4\", \"#fed98e\", \"#fe9929\", \"#cc4c02\"],\r\n\t\t5 : [\"#ffffd4\", \"#fed98e\", \"#fe9929\", \"#d95f0e\", \"#993404\"],\r\n\t\t6 : [\"#ffffd4\", \"#fee391\", \"#fec44f\", \"#fe9929\", \"#d95f0e\", \"#993404\"],\r\n\t\t7 : [\"#ffffd4\", \"#fee391\", \"#fec44f\", \"#fe9929\", \"#ec7014\", \"#cc4c02\", \"#8c2d04\"],\r\n\t\t8 : [\"#ffffe5\", \"#fff7bc\", \"#fee391\", \"#fec44f\", \"#fe9929\", \"#ec7014\", \"#cc4c02\", \"#8c2d04\"],\r\n\t\t9 : [\"#ffffe5\", \"#fff7bc\", \"#fee391\", \"#fec44f\", \"#fe9929\", \"#ec7014\", \"#cc4c02\", \"#993404\", \"#662506\"]\r\n\t},\r\n\tPurples : {\r\n\t\t3 : [\"#efedf5\", \"#bcbddc\", \"#756bb1\"],\r\n\t\t4 : [\"#f2f0f7\", \"#cbc9e2\", \"#9e9ac8\", \"#6a51a3\"],\r\n\t\t5 : [\"#f2f0f7\", \"#cbc9e2\", \"#9e9ac8\", \"#756bb1\", \"#54278f\"],\r\n\t\t6 : [\"#f2f0f7\", \"#dadaeb\", \"#bcbddc\", \"#9e9ac8\", \"#756bb1\", \"#54278f\"],\r\n\t\t7 : [\"#f2f0f7\", \"#dadaeb\", \"#bcbddc\", \"#9e9ac8\", \"#807dba\", \"#6a51a3\", \"#4a1486\"],\r\n\t\t8 : [\"#fcfbfd\", \"#efedf5\", \"#dadaeb\", \"#bcbddc\", \"#9e9ac8\", \"#807dba\", \"#6a51a3\", \"#4a1486\"],\r\n\t\t9 : [\"#fcfbfd\", \"#efedf5\", \"#dadaeb\", \"#bcbddc\", \"#9e9ac8\", \"#807dba\", \"#6a51a3\", \"#54278f\", \"#3f007d\"]\r\n\t},\r\n\tBlues : {\r\n\t\t3 : [\"#deebf7\", \"#9ecae1\", \"#3182bd\"],\r\n\t\t4 : [\"#eff3ff\", \"#bdd7e7\", \"#6baed6\", \"#2171b5\"],\r\n\t\t5 : [\"#eff3ff\", \"#bdd7e7\", \"#6baed6\", \"#3182bd\", \"#08519c\"],\r\n\t\t6 : [\"#eff3ff\", \"#c6dbef\", \"#9ecae1\", \"#6baed6\", \"#3182bd\", \"#08519c\"],\r\n\t\t7 : [\"#eff3ff\", \"#c6dbef\", \"#9ecae1\", \"#6baed6\", \"#4292c6\", \"#2171b5\", \"#084594\"],\r\n\t\t8 : [\"#f7fbff\", \"#deebf7\", \"#c6dbef\", \"#9ecae1\", \"#6baed6\", \"#4292c6\", \"#2171b5\", \"#084594\"],\r\n\t\t9 : [\"#f7fbff\", \"#deebf7\", \"#c6dbef\", \"#9ecae1\", \"#6baed6\", \"#4292c6\", \"#2171b5\", \"#08519c\", \"#08306b\"]\r\n\t},\r\n\tGreens : {\r\n\t\t3 : [\"#e5f5e0\", \"#a1d99b\", \"#31a354\"],\r\n\t\t4 : [\"#edf8e9\", \"#bae4b3\", \"#74c476\", \"#238b45\"],\r\n\t\t5 : [\"#edf8e9\", \"#bae4b3\", \"#74c476\", \"#31a354\", \"#006d2c\"],\r\n\t\t6 : [\"#edf8e9\", \"#c7e9c0\", \"#a1d99b\", \"#74c476\", \"#31a354\", \"#006d2c\"],\r\n\t\t7 : [\"#edf8e9\", \"#c7e9c0\", \"#a1d99b\", \"#74c476\", \"#41ab5d\", \"#238b45\", \"#005a32\"],\r\n\t\t8 : [\"#f7fcf5\", \"#e5f5e0\", \"#c7e9c0\", \"#a1d99b\", \"#74c476\", \"#41ab5d\", \"#238b45\", \"#005a32\"],\r\n\t\t9 : [\"#f7fcf5\", \"#e5f5e0\", \"#c7e9c0\", \"#a1d99b\", \"#74c476\", \"#41ab5d\", \"#238b45\", \"#006d2c\", \"#00441b\"]\r\n\t},\r\n\tOranges : {\r\n\t\t3 : [\"#fee6ce\", \"#fdae6b\", \"#e6550d\"],\r\n\t\t4 : [\"#feedde\", \"#fdbe85\", \"#fd8d3c\", \"#d94701\"],\r\n\t\t5 : [\"#feedde\", \"#fdbe85\", \"#fd8d3c\", \"#e6550d\", \"#a63603\"],\r\n\t\t6 : [\"#feedde\", \"#fdd0a2\", \"#fdae6b\", \"#fd8d3c\", \"#e6550d\", \"#a63603\"],\r\n\t\t7 : [\"#feedde\", \"#fdd0a2\", \"#fdae6b\", \"#fd8d3c\", \"#f16913\", \"#d94801\", \"#8c2d04\"],\r\n\t\t8 : [\"#fff5eb\", \"#fee6ce\", \"#fdd0a2\", \"#fdae6b\", \"#fd8d3c\", \"#f16913\", \"#d94801\", \"#8c2d04\"],\r\n\t\t9 : [\"#fff5eb\", \"#fee6ce\", \"#fdd0a2\", \"#fdae6b\", \"#fd8d3c\", \"#f16913\", \"#d94801\", \"#a63603\", \"#7f2704\"]\r\n\t},\r\n\tReds : {\r\n\t\t3 : [\"#fee0d2\", \"#fc9272\", \"#de2d26\"],\r\n\t\t4 : [\"#fee5d9\", \"#fcae91\", \"#fb6a4a\", \"#cb181d\"],\r\n\t\t5 : [\"#fee5d9\", \"#fcae91\", \"#fb6a4a\", \"#de2d26\", \"#a50f15\"],\r\n\t\t6 : [\"#fee5d9\", \"#fcbba1\", \"#fc9272\", \"#fb6a4a\", \"#de2d26\", \"#a50f15\"],\r\n\t\t7 : [\"#fee5d9\", \"#fcbba1\", \"#fc9272\", \"#fb6a4a\", \"#ef3b2c\", \"#cb181d\", \"#99000d\"],\r\n\t\t8 : [\"#fff5f0\", \"#fee0d2\", \"#fcbba1\", \"#fc9272\", \"#fb6a4a\", \"#ef3b2c\", \"#cb181d\", \"#99000d\"],\r\n\t\t9 : [\"#fff5f0\", \"#fee0d2\", \"#fcbba1\", \"#fc9272\", \"#fb6a4a\", \"#ef3b2c\", \"#cb181d\", \"#a50f15\", \"#67000d\"]\r\n\t},\r\n\tGreys : {\r\n\t\t3 : [\"#f0f0f0\", \"#bdbdbd\", \"#636363\"],\r\n\t\t4 : [\"#f7f7f7\", \"#cccccc\", \"#969696\", \"#525252\"],\r\n\t\t5 : [\"#f7f7f7\", \"#cccccc\", \"#969696\", \"#636363\", \"#252525\"],\r\n\t\t6 : [\"#f7f7f7\", \"#d9d9d9\", \"#bdbdbd\", \"#969696\", \"#636363\", \"#252525\"],\r\n\t\t7 : [\"#f7f7f7\", \"#d9d9d9\", \"#bdbdbd\", \"#969696\", \"#737373\", \"#525252\", \"#252525\"],\r\n\t\t8 : [\"#ffffff\", \"#f0f0f0\", \"#d9d9d9\", \"#bdbdbd\", \"#969696\", \"#737373\", \"#525252\", \"#252525\"],\r\n\t\t9 : [\"#ffffff\", \"#f0f0f0\", \"#d9d9d9\", \"#bdbdbd\", \"#969696\", \"#737373\", \"#525252\", \"#252525\", \"#000000\"]\r\n\t},\r\n\tPuOr : {\r\n\t\t3 : [\"#f1a340\", \"#f7f7f7\", \"#998ec3\"],\r\n\t\t4 : [\"#e66101\", \"#fdb863\", \"#b2abd2\", \"#5e3c99\"],\r\n\t\t5 : [\"#e66101\", \"#fdb863\", \"#f7f7f7\", \"#b2abd2\", \"#5e3c99\"],\r\n\t\t6 : [\"#b35806\", \"#f1a340\", \"#fee0b6\", \"#d8daeb\", \"#998ec3\", \"#542788\"],\r\n\t\t7 : [\"#b35806\", \"#f1a340\", \"#fee0b6\", \"#f7f7f7\", \"#d8daeb\", \"#998ec3\", \"#542788\"],\r\n\t\t8 : [\"#b35806\", \"#e08214\", \"#fdb863\", \"#fee0b6\", \"#d8daeb\", \"#b2abd2\", \"#8073ac\", \"#542788\"],\r\n\t\t9 : [\"#b35806\", \"#e08214\", \"#fdb863\", \"#fee0b6\", \"#f7f7f7\", \"#d8daeb\", \"#b2abd2\", \"#8073ac\", \"#542788\"],\r\n\t\t10 : [\"#7f3b08\", \"#b35806\", \"#e08214\", \"#fdb863\", \"#fee0b6\", \"#d8daeb\", \"#b2abd2\", \"#8073ac\", \"#542788\", \"#2d004b\"],\r\n\t\t11 : [\"#7f3b08\", \"#b35806\", \"#e08214\", \"#fdb863\", \"#fee0b6\", \"#f7f7f7\", \"#d8daeb\", \"#b2abd2\", \"#8073ac\", \"#542788\", \"#2d004b\"]\r\n\t},\r\n\tBrBG : {\r\n\t\t3 : [\"#d8b365\", \"#f5f5f5\", \"#5ab4ac\"],\r\n\t\t4 : [\"#a6611a\", \"#dfc27d\", \"#80cdc1\", \"#018571\"],\r\n\t\t5 : [\"#a6611a\", \"#dfc27d\", \"#f5f5f5\", \"#80cdc1\", \"#018571\"],\r\n\t\t6 : [\"#8c510a\", \"#d8b365\", \"#f6e8c3\", \"#c7eae5\", \"#5ab4ac\", \"#01665e\"],\r\n\t\t7 : [\"#8c510a\", \"#d8b365\", \"#f6e8c3\", \"#f5f5f5\", \"#c7eae5\", \"#5ab4ac\", \"#01665e\"],\r\n\t\t8 : [\"#8c510a\", \"#bf812d\", \"#dfc27d\", \"#f6e8c3\", \"#c7eae5\", \"#80cdc1\", \"#35978f\", \"#01665e\"],\r\n\t\t9 : [\"#8c510a\", \"#bf812d\", \"#dfc27d\", \"#f6e8c3\", \"#f5f5f5\", \"#c7eae5\", \"#80cdc1\", \"#35978f\", \"#01665e\"],\r\n\t\t10 : [\"#543005\", \"#8c510a\", \"#bf812d\", \"#dfc27d\", \"#f6e8c3\", \"#c7eae5\", \"#80cdc1\", \"#35978f\", \"#01665e\", \"#003c30\"],\r\n\t\t11 : [\"#543005\", \"#8c510a\", \"#bf812d\", \"#dfc27d\", \"#f6e8c3\", \"#f5f5f5\", \"#c7eae5\", \"#80cdc1\", \"#35978f\", \"#01665e\", \"#003c30\"]\r\n\t},\r\n\tPRGn : {\r\n\t\t3 : [\"#af8dc3\", \"#f7f7f7\", \"#7fbf7b\"],\r\n\t\t4 : [\"#7b3294\", \"#c2a5cf\", \"#a6dba0\", \"#008837\"],\r\n\t\t5 : [\"#7b3294\", \"#c2a5cf\", \"#f7f7f7\", \"#a6dba0\", \"#008837\"],\r\n\t\t6 : [\"#762a83\", \"#af8dc3\", \"#e7d4e8\", \"#d9f0d3\", \"#7fbf7b\", \"#1b7837\"],\r\n\t\t7 : [\"#762a83\", \"#af8dc3\", \"#e7d4e8\", \"#f7f7f7\", \"#d9f0d3\", \"#7fbf7b\", \"#1b7837\"],\r\n\t\t8 : [\"#762a83\", \"#9970ab\", \"#c2a5cf\", \"#e7d4e8\", \"#d9f0d3\", \"#a6dba0\", \"#5aae61\", \"#1b7837\"],\r\n\t\t9 : [\"#762a83\", \"#9970ab\", \"#c2a5cf\", \"#e7d4e8\", \"#f7f7f7\", \"#d9f0d3\", \"#a6dba0\", \"#5aae61\", \"#1b7837\"],\r\n\t\t10 : [\"#40004b\", \"#762a83\", \"#9970ab\", \"#c2a5cf\", \"#e7d4e8\", \"#d9f0d3\", \"#a6dba0\", \"#5aae61\", \"#1b7837\", \"#00441b\"],\r\n\t\t11 : [\"#40004b\", \"#762a83\", \"#9970ab\", \"#c2a5cf\", \"#e7d4e8\", \"#f7f7f7\", \"#d9f0d3\", \"#a6dba0\", \"#5aae61\", \"#1b7837\", \"#00441b\"]\r\n\t},\r\n\tPiYG : {\r\n\t\t3 : [\"#e9a3c9\", \"#f7f7f7\", \"#a1d76a\"],\r\n\t\t4 : [\"#d01c8b\", \"#f1b6da\", \"#b8e186\", \"#4dac26\"],\r\n\t\t5 : [\"#d01c8b\", \"#f1b6da\", \"#f7f7f7\", \"#b8e186\", \"#4dac26\"],\r\n\t\t6 : [\"#c51b7d\", \"#e9a3c9\", \"#fde0ef\", \"#e6f5d0\", \"#a1d76a\", \"#4d9221\"],\r\n\t\t7 : [\"#c51b7d\", \"#e9a3c9\", \"#fde0ef\", \"#f7f7f7\", \"#e6f5d0\", \"#a1d76a\", \"#4d9221\"],\r\n\t\t8 : [\"#c51b7d\", \"#de77ae\", \"#f1b6da\", \"#fde0ef\", \"#e6f5d0\", \"#b8e186\", \"#7fbc41\", \"#4d9221\"],\r\n\t\t9 : [\"#c51b7d\", \"#de77ae\", \"#f1b6da\", \"#fde0ef\", \"#f7f7f7\", \"#e6f5d0\", \"#b8e186\", \"#7fbc41\", \"#4d9221\"],\r\n\t\t10 : [\"#8e0152\", \"#c51b7d\", \"#de77ae\", \"#f1b6da\", \"#fde0ef\", \"#e6f5d0\", \"#b8e186\", \"#7fbc41\", \"#4d9221\", \"#276419\"],\r\n\t\t11 : [\"#8e0152\", \"#c51b7d\", \"#de77ae\", \"#f1b6da\", \"#fde0ef\", \"#f7f7f7\", \"#e6f5d0\", \"#b8e186\", \"#7fbc41\", \"#4d9221\", \"#276419\"]\r\n\t},\r\n\tRdBu : {\r\n\t\t3 : [\"#ef8a62\", \"#f7f7f7\", \"#67a9cf\"],\r\n\t\t4 : [\"#ca0020\", \"#f4a582\", \"#92c5de\", \"#0571b0\"],\r\n\t\t5 : [\"#ca0020\", \"#f4a582\", \"#f7f7f7\", \"#92c5de\", \"#0571b0\"],\r\n\t\t6 : [\"#b2182b\", \"#ef8a62\", \"#fddbc7\", \"#d1e5f0\", \"#67a9cf\", \"#2166ac\"],\r\n\t\t7 : [\"#b2182b\", \"#ef8a62\", \"#fddbc7\", \"#f7f7f7\", \"#d1e5f0\", \"#67a9cf\", \"#2166ac\"],\r\n\t\t8 : [\"#b2182b\", \"#d6604d\", \"#f4a582\", \"#fddbc7\", \"#d1e5f0\", \"#92c5de\", \"#4393c3\", \"#2166ac\"],\r\n\t\t9 : [\"#b2182b\", \"#d6604d\", \"#f4a582\", \"#fddbc7\", \"#f7f7f7\", \"#d1e5f0\", \"#92c5de\", \"#4393c3\", \"#2166ac\"],\r\n\t\t10 : [\"#67001f\", \"#b2182b\", \"#d6604d\", \"#f4a582\", \"#fddbc7\", \"#d1e5f0\", \"#92c5de\", \"#4393c3\", \"#2166ac\", \"#053061\"],\r\n\t\t11 : [\"#67001f\", \"#b2182b\", \"#d6604d\", \"#f4a582\", \"#fddbc7\", \"#f7f7f7\", \"#d1e5f0\", \"#92c5de\", \"#4393c3\", \"#2166ac\", \"#053061\"]\r\n\t},\r\n\tRdGy : {\r\n\t\t3 : [\"#ef8a62\", \"#ffffff\", \"#999999\"],\r\n\t\t4 : [\"#ca0020\", \"#f4a582\", \"#bababa\", \"#404040\"],\r\n\t\t5 : [\"#ca0020\", \"#f4a582\", \"#ffffff\", \"#bababa\", \"#404040\"],\r\n\t\t6 : [\"#b2182b\", \"#ef8a62\", \"#fddbc7\", \"#e0e0e0\", \"#999999\", \"#4d4d4d\"],\r\n\t\t7 : [\"#b2182b\", \"#ef8a62\", \"#fddbc7\", \"#ffffff\", \"#e0e0e0\", \"#999999\", \"#4d4d4d\"],\r\n\t\t8 : [\"#b2182b\", \"#d6604d\", \"#f4a582\", \"#fddbc7\", \"#e0e0e0\", \"#bababa\", \"#878787\", \"#4d4d4d\"],\r\n\t\t9 : [\"#b2182b\", \"#d6604d\", \"#f4a582\", \"#fddbc7\", \"#ffffff\", \"#e0e0e0\", \"#bababa\", \"#878787\", \"#4d4d4d\"],\r\n\t\t10 : [\"#67001f\", \"#b2182b\", \"#d6604d\", \"#f4a582\", \"#fddbc7\", \"#e0e0e0\", \"#bababa\", \"#878787\", \"#4d4d4d\", \"#1a1a1a\"],\r\n\t\t11 : [\"#67001f\", \"#b2182b\", \"#d6604d\", \"#f4a582\", \"#fddbc7\", \"#ffffff\", \"#e0e0e0\", \"#bababa\", \"#878787\", \"#4d4d4d\", \"#1a1a1a\"]\r\n\t},\r\n\tRdYlBu : {\r\n\t\t3 : [\"#fc8d59\", \"#ffffbf\", \"#91bfdb\"],\r\n\t\t4 : [\"#d7191c\", \"#fdae61\", \"#abd9e9\", \"#2c7bb6\"],\r\n\t\t5 : [\"#d7191c\", \"#fdae61\", \"#ffffbf\", \"#abd9e9\", \"#2c7bb6\"],\r\n\t\t6 : [\"#d73027\", \"#fc8d59\", \"#fee090\", \"#e0f3f8\", \"#91bfdb\", \"#4575b4\"],\r\n\t\t7 : [\"#d73027\", \"#fc8d59\", \"#fee090\", \"#ffffbf\", \"#e0f3f8\", \"#91bfdb\", \"#4575b4\"],\r\n\t\t8 : [\"#d73027\", \"#f46d43\", \"#fdae61\", \"#fee090\", \"#e0f3f8\", \"#abd9e9\", \"#74add1\", \"#4575b4\"],\r\n\t\t9 : [\"#d73027\", \"#f46d43\", \"#fdae61\", \"#fee090\", \"#ffffbf\", \"#e0f3f8\", \"#abd9e9\", \"#74add1\", \"#4575b4\"],\r\n\t\t10 : [\"#a50026\", \"#d73027\", \"#f46d43\", \"#fdae61\", \"#fee090\", \"#e0f3f8\", \"#abd9e9\", \"#74add1\", \"#4575b4\", \"#313695\"],\r\n\t\t11 : [\"#a50026\", \"#d73027\", \"#f46d43\", \"#fdae61\", \"#fee090\", \"#ffffbf\", \"#e0f3f8\", \"#abd9e9\", \"#74add1\", \"#4575b4\", \"#313695\"]\r\n\t},\r\n\tSpectral : {\r\n\t\t3 : [\"#fc8d59\", \"#ffffbf\", \"#99d594\"],\r\n\t\t4 : [\"#d7191c\", \"#fdae61\", \"#abdda4\", \"#2b83ba\"],\r\n\t\t5 : [\"#d7191c\", \"#fdae61\", \"#ffffbf\", \"#abdda4\", \"#2b83ba\"],\r\n\t\t6 : [\"#d53e4f\", \"#fc8d59\", \"#fee08b\", \"#e6f598\", \"#99d594\", \"#3288bd\"],\r\n\t\t7 : [\"#d53e4f\", \"#fc8d59\", \"#fee08b\", \"#ffffbf\", \"#e6f598\", \"#99d594\", \"#3288bd\"],\r\n\t\t8 : [\"#d53e4f\", \"#f46d43\", \"#fdae61\", \"#fee08b\", \"#e6f598\", \"#abdda4\", \"#66c2a5\", \"#3288bd\"],\r\n\t\t9 : [\"#d53e4f\", \"#f46d43\", \"#fdae61\", \"#fee08b\", \"#ffffbf\", \"#e6f598\", \"#abdda4\", \"#66c2a5\", \"#3288bd\"],\r\n\t\t10 : [\"#9e0142\", \"#d53e4f\", \"#f46d43\", \"#fdae61\", \"#fee08b\", \"#e6f598\", \"#abdda4\", \"#66c2a5\", \"#3288bd\", \"#5e4fa2\"],\r\n\t\t11 : [\"#9e0142\", \"#d53e4f\", \"#f46d43\", \"#fdae61\", \"#fee08b\", \"#ffffbf\", \"#e6f598\", \"#abdda4\", \"#66c2a5\", \"#3288bd\", \"#5e4fa2\"]\r\n\t},\r\n\tRdYlGn : {\r\n\t\t3 : [\"#fc8d59\", \"#ffffbf\", \"#91cf60\"],\r\n\t\t4 : [\"#d7191c\", \"#fdae61\", \"#a6d96a\", \"#1a9641\"],\r\n\t\t5 : [\"#d7191c\", \"#fdae61\", \"#ffffbf\", \"#a6d96a\", \"#1a9641\"],\r\n\t\t6 : [\"#d73027\", \"#fc8d59\", \"#fee08b\", \"#d9ef8b\", \"#91cf60\", \"#1a9850\"],\r\n\t\t7 : [\"#d73027\", \"#fc8d59\", \"#fee08b\", \"#ffffbf\", \"#d9ef8b\", \"#91cf60\", \"#1a9850\"],\r\n\t\t8 : [\"#d73027\", \"#f46d43\", \"#fdae61\", \"#fee08b\", \"#d9ef8b\", \"#a6d96a\", \"#66bd63\", \"#1a9850\"],\r\n\t\t9 : [\"#d73027\", \"#f46d43\", \"#fdae61\", \"#fee08b\", \"#ffffbf\", \"#d9ef8b\", \"#a6d96a\", \"#66bd63\", \"#1a9850\"],\r\n\t\t10 : [\"#a50026\", \"#d73027\", \"#f46d43\", \"#fdae61\", \"#fee08b\", \"#d9ef8b\", \"#a6d96a\", \"#66bd63\", \"#1a9850\", \"#006837\"],\r\n\t\t11 : [\"#a50026\", \"#d73027\", \"#f46d43\", \"#fdae61\", \"#fee08b\", \"#ffffbf\", \"#d9ef8b\", \"#a6d96a\", \"#66bd63\", \"#1a9850\", \"#006837\"]\r\n\t},\r\n\tAccent : {\r\n\t\t3 : [\"#7fc97f\", \"#beaed4\", \"#fdc086\"],\r\n\t\t4 : [\"#7fc97f\", \"#beaed4\", \"#fdc086\", \"#ffff99\"],\r\n\t\t5 : [\"#7fc97f\", \"#beaed4\", \"#fdc086\", \"#ffff99\", \"#386cb0\"],\r\n\t\t6 : [\"#7fc97f\", \"#beaed4\", \"#fdc086\", \"#ffff99\", \"#386cb0\", \"#f0027f\"],\r\n\t\t7 : [\"#7fc97f\", \"#beaed4\", \"#fdc086\", \"#ffff99\", \"#386cb0\", \"#f0027f\", \"#bf5b17\"],\r\n\t\t8 : [\"#7fc97f\", \"#beaed4\", \"#fdc086\", \"#ffff99\", \"#386cb0\", \"#f0027f\", \"#bf5b17\", \"#666666\"]\r\n\t},\r\n\tDark2 : {\r\n\t\t3 : [\"#1b9e77\", \"#d95f02\", \"#7570b3\"],\r\n\t\t4 : [\"#1b9e77\", \"#d95f02\", \"#7570b3\", \"#e7298a\"],\r\n\t\t5 : [\"#1b9e77\", \"#d95f02\", \"#7570b3\", \"#e7298a\", \"#66a61e\"],\r\n\t\t6 : [\"#1b9e77\", \"#d95f02\", \"#7570b3\", \"#e7298a\", \"#66a61e\", \"#e6ab02\"],\r\n\t\t7 : [\"#1b9e77\", \"#d95f02\", \"#7570b3\", \"#e7298a\", \"#66a61e\", \"#e6ab02\", \"#a6761d\"],\r\n\t\t8 : [\"#1b9e77\", \"#d95f02\", \"#7570b3\", \"#e7298a\", \"#66a61e\", \"#e6ab02\", \"#a6761d\", \"#666666\"]\r\n\t},\r\n\tPaired : {\r\n\t\t3 : [\"#a6cee3\", \"#1f78b4\", \"#b2df8a\"],\r\n\t\t4 : [\"#a6cee3\", \"#1f78b4\", \"#b2df8a\", \"#33a02c\"],\r\n\t\t5 : [\"#a6cee3\", \"#1f78b4\", \"#b2df8a\", \"#33a02c\", \"#fb9a99\"],\r\n\t\t6 : [\"#a6cee3\", \"#1f78b4\", \"#b2df8a\", \"#33a02c\", \"#fb9a99\", \"#e31a1c\"],\r\n\t\t7 : [\"#a6cee3\", \"#1f78b4\", \"#b2df8a\", \"#33a02c\", \"#fb9a99\", \"#e31a1c\", \"#fdbf6f\"],\r\n\t\t8 : [\"#a6cee3\", \"#1f78b4\", \"#b2df8a\", \"#33a02c\", \"#fb9a99\", \"#e31a1c\", \"#fdbf6f\", \"#ff7f00\"],\r\n\t\t9 : [\"#a6cee3\", \"#1f78b4\", \"#b2df8a\", \"#33a02c\", \"#fb9a99\", \"#e31a1c\", \"#fdbf6f\", \"#ff7f00\", \"#cab2d6\"],\r\n\t\t10 : [\"#a6cee3\", \"#1f78b4\", \"#b2df8a\", \"#33a02c\", \"#fb9a99\", \"#e31a1c\", \"#fdbf6f\", \"#ff7f00\", \"#cab2d6\", \"#6a3d9a\"],\r\n\t\t11 : [\"#a6cee3\", \"#1f78b4\", \"#b2df8a\", \"#33a02c\", \"#fb9a99\", \"#e31a1c\", \"#fdbf6f\", \"#ff7f00\", \"#cab2d6\", \"#6a3d9a\", \"#ffff99\"],\r\n\t\t12 : [\"#a6cee3\", \"#1f78b4\", \"#b2df8a\", \"#33a02c\", \"#fb9a99\", \"#e31a1c\", \"#fdbf6f\", \"#ff7f00\", \"#cab2d6\", \"#6a3d9a\", \"#ffff99\", \"#b15928\"]\r\n\t},\r\n\tPastel1 : {\r\n\t\t3 : [\"#fbb4ae\", \"#b3cde3\", \"#ccebc5\"],\r\n\t\t4 : [\"#fbb4ae\", \"#b3cde3\", \"#ccebc5\", \"#decbe4\"],\r\n\t\t5 : [\"#fbb4ae\", \"#b3cde3\", \"#ccebc5\", \"#decbe4\", \"#fed9a6\"],\r\n\t\t6 : [\"#fbb4ae\", \"#b3cde3\", \"#ccebc5\", \"#decbe4\", \"#fed9a6\", \"#ffffcc\"],\r\n\t\t7 : [\"#fbb4ae\", \"#b3cde3\", \"#ccebc5\", \"#decbe4\", \"#fed9a6\", \"#ffffcc\", \"#e5d8bd\"],\r\n\t\t8 : [\"#fbb4ae\", \"#b3cde3\", \"#ccebc5\", \"#decbe4\", \"#fed9a6\", \"#ffffcc\", \"#e5d8bd\", \"#fddaec\"],\r\n\t\t9 : [\"#fbb4ae\", \"#b3cde3\", \"#ccebc5\", \"#decbe4\", \"#fed9a6\", \"#ffffcc\", \"#e5d8bd\", \"#fddaec\", \"#f2f2f2\"]\r\n\t},\r\n\tPastel2 : {\r\n\t\t3 : [\"#b3e2cd\", \"#fdcdac\", \"#cbd5e8\"],\r\n\t\t4 : [\"#b3e2cd\", \"#fdcdac\", \"#cbd5e8\", \"#f4cae4\"],\r\n\t\t5 : [\"#b3e2cd\", \"#fdcdac\", \"#cbd5e8\", \"#f4cae4\", \"#e6f5c9\"],\r\n\t\t6 : [\"#b3e2cd\", \"#fdcdac\", \"#cbd5e8\", \"#f4cae4\", \"#e6f5c9\", \"#fff2ae\"],\r\n\t\t7 : [\"#b3e2cd\", \"#fdcdac\", \"#cbd5e8\", \"#f4cae4\", \"#e6f5c9\", \"#fff2ae\", \"#f1e2cc\"],\r\n\t\t8 : [\"#b3e2cd\", \"#fdcdac\", \"#cbd5e8\", \"#f4cae4\", \"#e6f5c9\", \"#fff2ae\", \"#f1e2cc\", \"#cccccc\"]\r\n\t},\r\n\tSet1 : {\r\n\t\t3 : [\"#e41a1c\", \"#377eb8\", \"#4daf4a\"],\r\n\t\t4 : [\"#e41a1c\", \"#377eb8\", \"#4daf4a\", \"#984ea3\"],\r\n\t\t5 : [\"#e41a1c\", \"#377eb8\", \"#4daf4a\", \"#984ea3\", \"#ff7f00\"],\r\n\t\t6 : [\"#e41a1c\", \"#377eb8\", \"#4daf4a\", \"#984ea3\", \"#ff7f00\", \"#ffff33\"],\r\n\t\t7 : [\"#e41a1c\", \"#377eb8\", \"#4daf4a\", \"#984ea3\", \"#ff7f00\", \"#ffff33\", \"#a65628\"],\r\n\t\t8 : [\"#e41a1c\", \"#377eb8\", \"#4daf4a\", \"#984ea3\", \"#ff7f00\", \"#ffff33\", \"#a65628\", \"#f781bf\"],\r\n\t\t9 : [\"#e41a1c\", \"#377eb8\", \"#4daf4a\", \"#984ea3\", \"#ff7f00\", \"#ffff33\", \"#a65628\", \"#f781bf\", \"#999999\"]\r\n\t},\r\n\tSet2 : {\r\n\t\t3 : [\"#66c2a5\", \"#fc8d62\", \"#8da0cb\"],\r\n\t\t4 : [\"#66c2a5\", \"#fc8d62\", \"#8da0cb\", \"#e78ac3\"],\r\n\t\t5 : [\"#66c2a5\", \"#fc8d62\", \"#8da0cb\", \"#e78ac3\", \"#a6d854\"],\r\n\t\t6 : [\"#66c2a5\", \"#fc8d62\", \"#8da0cb\", \"#e78ac3\", \"#a6d854\", \"#ffd92f\"],\r\n\t\t7 : [\"#66c2a5\", \"#fc8d62\", \"#8da0cb\", \"#e78ac3\", \"#a6d854\", \"#ffd92f\", \"#e5c494\"],\r\n\t\t8 : [\"#66c2a5\", \"#fc8d62\", \"#8da0cb\", \"#e78ac3\", \"#a6d854\", \"#ffd92f\", \"#e5c494\", \"#b3b3b3\"]\r\n\t},\r\n\tSet3 : {\r\n\t\t3 : [\"#8dd3c7\", \"#ffffb3\", \"#bebada\"],\r\n\t\t4 : [\"#8dd3c7\", \"#ffffb3\", \"#bebada\", \"#fb8072\"],\r\n\t\t5 : [\"#8dd3c7\", \"#ffffb3\", \"#bebada\", \"#fb8072\", \"#80b1d3\"],\r\n\t\t6 : [\"#8dd3c7\", \"#ffffb3\", \"#bebada\", \"#fb8072\", \"#80b1d3\", \"#fdb462\"],\r\n\t\t7 : [\"#8dd3c7\", \"#ffffb3\", \"#bebada\", \"#fb8072\", \"#80b1d3\", \"#fdb462\", \"#b3de69\"],\r\n\t\t8 : [\"#8dd3c7\", \"#ffffb3\", \"#bebada\", \"#fb8072\", \"#80b1d3\", \"#fdb462\", \"#b3de69\", \"#fccde5\"],\r\n\t\t9 : [\"#8dd3c7\", \"#ffffb3\", \"#bebada\", \"#fb8072\", \"#80b1d3\", \"#fdb462\", \"#b3de69\", \"#fccde5\", \"#d9d9d9\"],\r\n\t\t10 : [\"#8dd3c7\", \"#ffffb3\", \"#bebada\", \"#fb8072\", \"#80b1d3\", \"#fdb462\", \"#b3de69\", \"#fccde5\", \"#d9d9d9\", \"#bc80bd\"],\r\n\t\t11 : [\"#8dd3c7\", \"#ffffb3\", \"#bebada\", \"#fb8072\", \"#80b1d3\", \"#fdb462\", \"#b3de69\", \"#fccde5\", \"#d9d9d9\", \"#bc80bd\", \"#ccebc5\"],\r\n\t\t12 : [\"#8dd3c7\", \"#ffffb3\", \"#bebada\", \"#fb8072\", \"#80b1d3\", \"#fdb462\", \"#b3de69\", \"#fccde5\", \"#d9d9d9\", \"#bc80bd\", \"#ccebc5\", \"#ffed6f\"]\r\n\t}\r\n};\r\n\r\n/**\r\n * Export `colors`\r\n */\r\nmodule.exports = colors;","'use strict';\r\n\r\nvar utils    = require('./../core/utils');\r\nvar matrix   = require('./../core/matrix');\r\nvar observer = require('./../core/observer');\r\n\r\nfunction Scope(options, data) {\r\n\tvar scope = new observer();\r\n\r\n\tscope.width = options.width;\r\n\tscope.height = options.height;\r\n\r\n\tvar scales, domain, ranges;\r\n\r\n\tscales = options.scale.map(function(opts, i) {\r\n\r\n\t\tif(opts === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tif(!opts.extent) {\r\n\t\t\treturn utils[opts.type](utils.extent(data, function(d) {\r\n\t\t\t\treturn opts.type === 'time' ? (new Date(d[opts.index])).getTime() : d[opts.index];\r\n\t\t\t}));\r\n\t\t}\r\n\r\n\t\tif(typeof opts.extent === 'function') {\r\n\t\t\treturn utils[opts.type](opts.extent(utils.extent(data, function(d) {\r\n\t\t\t\treturn opts.type === 'time' ? (new Date(d[opts.index])).getTime() : d[opts.index];\r\n\t\t\t}), data));\r\n\t\t}\r\n\r\n\t\treturn utils[opts.type](opts.extent);\r\n\t});\r\n\r\n\tdomain = scales.map(function(scale, i) {\r\n\t\treturn scale ? scale.ticks().map(function(d) {\r\n\t\t\treturn options.scale[i].data.label(d);\r\n\t\t}) : null;\r\n\t});\r\n\r\n\tscope.$Layout = matrix(scope.width, scope.height, domain, {labels: [], orient:\"bottom\"});\r\n\r\n\tif(options.left) {\r\n\t\tscope.$Layout.LEFT_VALUE = options.left;\r\n\t}\r\n\r\n\tif(options.right) {\r\n\t\tscope.$Layout.RIGHT_VALUE = options.right;\r\n\t}\r\n\r\n\tscope.$Extents = scales.map(function(scale) {\r\n\t\tif(!scale) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn utils.extent(scale.ticks());\r\n\t});\r\n\r\n\t//set scale\r\n\tranges = [\r\n\t\t[scope.$Layout.LEFT_VALUE, scope.width - scope.$Layout.RIGHT_VALUE], \r\n\t\t[scope.height - scope.$Layout.BOTTOM_VALUE, scope.$Layout.TOP_VALUE], \r\n\t\t[scope.$Layout.LEFT_VALUE, scope.width - scope.$Layout.RIGHT_VALUE], \r\n\t\t[scope.height - scope.$Layout.BOTTOM_VALUE, scope.$Layout.TOP_VALUE]\r\n\t];\r\n\r\n\tscales.forEach(function(scale, i) {\r\n\t\treturn scale ? scale.range(ranges[i]) : null;\r\n\t});\r\n\r\n\tscope.$Scale = {\r\n\t\tget: function(index) {\r\n\t\t\treturn index !== undefined ? scales[index] : scales;\r\n\t\t}\r\n\t};\r\n\r\n\tscope.$Config = options.scale;\r\n\r\n\tscope.$watch('$DATA_LOAD', function() {\r\n\t\tvar data = scope.$DATA_STORAGE;\t\t\r\n\t\tscales = options.scale.map(function(opts, i) {\r\n\t\t\tif(opts === null) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\tif(!opts.extent) {\r\n\t\t\t\treturn utils[opts.type](utils.extent(data, function(d) {\r\n\t\t\t\t\treturn opts.type === 'time' ? (new Date(d[opts.index])).getTime() : d[opts.index];\r\n\t\t\t\t}), scope.DATA_GS);\r\n\t\t\t}\r\n\r\n\t\t\tif(typeof opts.extent === 'function') {\r\n\t\t\t\t\r\n\t\t\t\treturn utils[opts.type](opts.extent(utils.extent(data, function(d) {\r\n\t\t\t\t\treturn opts.type === 'time' ? (new Date(d[opts.index])).getTime() : d[opts.index];\r\n\t\t\t\t}), data), scope.DATA_GS);\r\n\r\n\t\t\t\t/*var extent = utils.extent(data, function(d) {\r\n\t\t\t\t\treturn opts.type === 'time' ? (new Date(d[opts.index])).getTime() : d[opts.index];\r\n\t\t\t\t});\r\n\r\n\t\t\t\tutils[opts.type](opts.extent(data))*/\r\n\t\t\t}\r\n\r\n\t\t\treturn utils[opts.type](opts.extent, scope.DATA_GS);\r\n\t\t});\r\n\r\n\t\tdomain = scales.map(function(scale, i) {\r\n\t\t\treturn scale ? scale.ticks().map(function(d) {\r\n\t\t\t\treturn options.scale[i].data.label(d);\r\n\t\t\t}) : null;\r\n\t\t});\r\n\r\n\t\tscope.$Layout = matrix(scope.width, scope.height, domain, {labels: [], orient:\"bottom\"});\r\n\t\tif(options.left) {\r\n\t\t\tscope.$Layout.LEFT_VALUE = options.left;\r\n\t\t}\r\n\r\n\t\tif(options.right) {\r\n\t\t\tscope.$Layout.RIGHT_VALUE = options.right;\r\n\t\t}\r\n\t\tscope.$Extents = scales.map(function(scale) {\r\n\t\t\tif(!scale) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn utils.extent(scale.ticks());\r\n\t\t});\r\n\r\n\t\t//set scale\r\n\t\tranges = [\r\n\t\t\t[scope.$Layout.LEFT_VALUE, scope.width - scope.$Layout.RIGHT_VALUE], \r\n\t\t\t[scope.height - scope.$Layout.BOTTOM_VALUE, scope.$Layout.TOP_VALUE], \r\n\t\t\t[scope.$Layout.LEFT_VALUE, scope.width - scope.$Layout.RIGHT_VALUE], \r\n\t\t\t[scope.height - scope.$Layout.BOTTOM_VALUE, scope.$Layout.TOP_VALUE]\r\n\t\t];\r\n\r\n\t\tscales.forEach(function(scale, i) {\r\n\t\t\treturn scale ? scale.range(ranges[i]) : null;\r\n\t\t});\r\n\r\n\t\tscope.$Scale = {\r\n\t\t\tget: function(index) {\r\n\t\t\t\treturn index !== undefined ? scales[index] : scales;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tscope.$Config = options.scale;\r\n\t});\r\n\r\n\tscope.$watch('resizable', function() {\r\n\t\tscope.$Layout = matrix(scope.width, scope.height, domain, {labels: [], orient:\"bottom\"});\r\n\t\tif(options.left) {\r\n\t\t\tscope.$Layout.LEFT_VALUE = options.left;\r\n\t\t}\r\n\r\n\t\tif(options.right) {\r\n\t\t\tscope.$Layout.RIGHT_VALUE = options.right;\r\n\t\t}\r\n\t\tscope.$Extents = scales.map(function(scale) {\r\n\t\t\tif(!scale) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn utils.extent(scale.ticks());\r\n\t\t});\r\n\t\t\r\n\t\t//set scale\r\n\t\tranges = [\r\n\t\t\t[scope.$Layout.LEFT_VALUE, scope.width - scope.$Layout.RIGHT_VALUE], \r\n\t\t\t[scope.height - scope.$Layout.BOTTOM_VALUE, scope.$Layout.TOP_VALUE], \r\n\t\t\t[scope.$Layout.LEFT_VALUE, scope.width - scope.$Layout.RIGHT_VALUE], \r\n\t\t\t[scope.height - scope.$Layout.BOTTOM_VALUE, scope.$Layout.TOP_VALUE]\r\n\t\t];\r\n\r\n\t\tscales.forEach(function(scale, i) {\r\n\t\t\treturn scale ? scale.range(ranges[i]) : null;\r\n\t\t});\r\n\r\n\t\tscope.$Scale = {\r\n\t\t\tget: function(index) {\r\n\t\t\t\treturn index !== undefined ? scales[index] : scales;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tscope.$Config = options.scale;\r\n\t});\r\n\r\n\treturn scope;\r\n}\r\n\r\n/**\r\n * Export `Scope`\r\n */\r\nmodule.exports = Scope;","'use strict';\r\n\r\nvar handler    = require('./handler');\r\nvar observer = require('./observer');\r\n\r\nvar draggable = new observer();\r\n\r\nhandler(document, 'mousedown', function(event) {\r\n\tif(event.target && event.target.tagName.toLocaleLowerCase() === 'rect') {\r\n\t\tdraggable.uid = event.target.id;\r\n\t\tdraggable['start'+ draggable.uid] = [event.pageX, event.pageY];\r\n\t\tdraggable.$EventIsSelection = true;\r\n\t}\t\t\t\r\n});\r\n\r\nhandler(document, 'mousemove', function(event) {\r\n\tif(draggable.$EventIsSelection) {\r\n\t\tdraggable['drag'+ draggable.uid] = [event.pageX, event.pageY];\r\n\t}\r\n});\r\n\r\nhandler(document, 'mouseup', function(event) {\t\t\t\r\n\tdraggable['stop'+ draggable.uid] = [event.pageX, event.pageY];\r\n\tdraggable.$EventIsSelection = false;\r\n});\r\n\r\nmodule.exports = draggable;\r\n\r\n","'use strict';\r\n\r\nvar utils = require('./utils');\r\n\r\nvar callEvent = function(callback) {\r\n\treturn function(event) {\r\n\t\tevent = event || window.event;\r\n\t\tcallback.call(this, event);\r\n\t};\r\n};\r\n\r\nvar handler = function(elements, type, callback) {\r\n\tif(!elements.length) {\r\n\t\telements = [elements];\r\n\t}\r\n\r\n\tutils.each(elements, function(element) {\r\n\t\tif (element.addEventListener) {\r\n\t\t\telement.addEventListener(type, callEvent(callback), false);\r\n\t\t} else if (element.attachEvent) {\r\n\t\t\tif (type === 'input') {\r\n\t\t\t\ttype = \"propertychange\";\r\n\t\t\t}\r\n\t\t\telement.attachEvent('on' + type, callEvent(callback));\r\n\t\t}\r\n\t});\r\n};\r\n\r\n/**\r\n * Export `handler`\r\n */\r\nmodule.exports = handler;","'use strict';\r\n\r\nvar utils = require('./utils');\r\n\r\nfunction rowsOfCount() {\r\n\treturn Math.floor(labelsTotalWidth / paintWidth) + 1;\r\n}\r\n\r\nfunction labelsTotalHeight(rowsOfCount, lineHeight) {\r\n\treturn rowsOfCount * lineHeight;\r\n}\r\n\r\nfunction labelsWidthList(labels, measure, span) {\r\n\treturn labels.map(function(d) {\r\n\t\treturn measure(d).width + (span || 0);\r\n\t});\r\n}\r\n\r\nfunction isOverlap(result, meanValue) {\r\n\tvar size = result.length;\r\n\tvar flag = false;\r\n\tfor(var i = 1; i < size; i++) {\r\n\t\tvar prev = result[i - 1];\r\n\t\tvar current = result[i];\r\n\t\tif((prev + current) * 0.5 >= meanValue) {\r\n\t\t\tflag = true;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\treturn flag;\r\n}\r\n\r\nfunction isOverFlow(pixel, value, start) {\r\n\treturn (Math.sqrt(pixel * pixel / 2) - value) >= start;\r\n}\r\n\r\nfunction hasOverFlow(result, meanValue, start) {\r\n\tvar flag = false;\r\n\tutils.each(result, function(pixel, i) {\r\n\t\tif(isOverFlow(pixel, meanValue * i, start)) {\r\n\t\t\treturn flag = true, false;\r\n\t\t}\r\n\t});\r\n\treturn flag;\r\n}\r\n\r\nfunction getXLabelPixel(result, meanValue, start) {\r\n\tif(result.length === 0) {\r\n\t\treturn {\r\n\t\t\tdeg: 0,\r\n\t\t\tvalue: 15\r\n\t\t};\r\n\t}\r\n\r\n\tif(isOverlap(result, meanValue) === false) {\r\n\t\treturn {\r\n\t\t\tdeg: 0,\r\n\t\t\tvalue: 30\r\n\t\t};\r\n\t}\r\n\r\n\tif(hasOverFlow(result, meanValue, start)) {\r\n\t\treturn {\r\n\t\t\tdeg: -45,\r\n\t\t\tvalue: utils.max(result)\r\n\t\t};\r\n\t}\r\n\r\n\treturn {\r\n\t\tdeg: -45,\r\n\t\tvalue: utils.max(result, function(value) {\r\n\t\t\treturn Math.sqrt(value * value / 2);\r\n\t\t})\r\n\t};\r\n}\r\n\r\nfunction getYLabelPixel(result) {\r\n\treturn utils.max(getLabelsPixel(result));\r\n}\r\n\r\nfunction getLabelsPixel(result, pixel) {\r\n\treturn result.map(function(label) {\r\n\t\treturn utils.measure(label).width + (pixel || 15);\r\n\t});\r\n}\r\n\r\nfunction legendLineHeight(pixel, width) {\r\n\treturn (Math.floor(pixel / width) + 1) * 25;\r\n}\r\n\r\nfunction legendPixelSize(result, orient) {\r\n\tif(orient === 'left' || orient === 'right') {\r\n\t\treturn utils.max(result) || 0;\r\n\t}\r\n\treturn utils.sum(result);\r\n}\r\n\r\n\r\nfunction matrixLeft(width, height, tickPixelList, lgdPixelList) {\r\n\tvar topTicks = tickPixelList[0];\r\n\tvar rhtTicks = tickPixelList[1];\r\n\tvar btmTicks = tickPixelList[2];\r\n\tvar lftTicks = tickPixelList[3];\r\n\r\n\tvar topTicksFirst = topTicks[0] || 0;\r\n\tvar topTicksLast = topTicks[topTicks.length - 1] || 0;\r\n\r\n\tvar btmTicksFirst = btmTicks[0] || 0;\r\n\tvar btmTicksLast = btmTicks[btmTicks.length - 1] || 0;\r\n\r\n\tvar lftTicksMax = utils.max(lftTicks) || 15;\r\n\tvar rhtTicksMax = utils.max(rhtTicks) || 15;\r\n\r\n\tvar lps = utils.max(lgdPixelList);\r\n\r\n\tvar LEFT_DEGRESS  = 0;\r\n\tvar LEFT_VALUE  = utils.max([lftTicksMax + lps, topTicksFirst * 0.5, btmTicksFirst * 0.5]);\r\n\tvar RIGHT_DEGRESS  = 0;\r\n\tvar RIGHT_VALUE = utils.max([rhtTicksMax, topTicksLast * 0.5, btmTicksLast * 0.5]);\r\n\r\n\tvar topMeanValue = topTicks.length ? (width - LEFT_VALUE - RIGHT_VALUE) / topTicks.length : 5;\r\n\tvar btmMeanValue = btmTicks.length ? (width - LEFT_VALUE - RIGHT_VALUE) / btmTicks.length : 5;\r\n\r\n\tvar layoutTop = getXLabelPixel(topTicks, topMeanValue, LEFT_VALUE);\r\n\tvar layoutBtm = getXLabelPixel(btmTicks, btmMeanValue, LEFT_VALUE);\r\n\r\n\tvar TOP_DEGRESS  = layoutTop.deg;\r\n\tvar TOP_VALUE  = layoutTop.value;\r\n\tvar BOTTOM_DEGRESS  = layoutBtm.deg;\r\n\tvar BOTTOM_VALUE = layoutBtm.value;\r\n\r\n\treturn {\r\n\t\tLEFT_DEGRESS: LEFT_DEGRESS,\r\n\t\tLEFT_VALUE: LEFT_VALUE + 5,\r\n\t\tRIGHT_DEGRESS: RIGHT_DEGRESS,\r\n\t\tRIGHT_VALUE: RIGHT_VALUE,\r\n\t\tTOP_DEGRESS: TOP_DEGRESS,\r\n\t\tTOP_VALUE: TOP_VALUE,\r\n\t\tBOTTOM_DEGRESS: BOTTOM_DEGRESS,\r\n\t\tBOTTOM_VALUE: BOTTOM_VALUE + 15\r\n\t};\r\n}\r\n\r\nfunction matrixRight(width, height, tickPixelList, lgdPixelList) {\r\n\tvar topTicks = tickPixelList[0];\r\n\tvar rhtTicks = tickPixelList[1];\r\n\tvar btmTicks = tickPixelList[2];\r\n\tvar lftTicks = tickPixelList[3];\r\n\r\n\tvar topTicksFirst = topTicks[0] || 0;\r\n\tvar topTicksLast = topTicks[topTicks.length - 1] || 0;\r\n\r\n\tvar btmTicksFirst = btmTicks[0] || 0;\r\n\tvar btmTicksLast = btmTicks[btmTicks.length - 1] || 0;\r\n\r\n\tvar lftTicksMax = utils.max(lftTicks) || 15;\r\n\tvar rhtTicksMax = utils.max(rhtTicks) || 15;\r\n\r\n\tvar lps = utils.max(lgdPixelList);\r\n\r\n\tvar LEFT_DEGRESS  = 0;\t\t\r\n\tvar LEFT_VALUE  = utils.max([lftTicksMax, topTicksFirst * 0.5, btmTicksFirst * 0.5]);\r\n\tvar RIGHT_DEGRESS  = 0;\r\n\tvar RIGHT_VALUE = utils.max([rhtTicksMax + lps, topTicksLast * 0.5, btmTicksLast * 0.5]);\r\n\r\n\tvar topMeanValue = topTicks.length ? (width - LEFT_VALUE - RIGHT_VALUE) / topTicks.length : 5;\r\n\tvar btmMeanValue = btmTicks.length ? (width - LEFT_VALUE - RIGHT_VALUE) / btmTicks.length : 5;\r\n\r\n\tvar layoutTop = getXLabelPixel(topTicks, topMeanValue, LEFT_VALUE);\r\n\tvar layoutBtm = getXLabelPixel(btmTicks, btmMeanValue, LEFT_VALUE);\r\n\r\n\tvar TOP_DEGRESS  = layoutTop.deg;\r\n\tvar TOP_VALUE  = layoutTop.value;\r\n\tvar BOTTOM_DEGRESS  = layoutBtm.deg;\r\n\tvar BOTTOM_VALUE = layoutBtm.value;\r\n\treturn {\r\n\t\tLEFT_DEGRESS: LEFT_DEGRESS,\r\n\t\tLEFT_VALUE: LEFT_VALUE + 5,\r\n\t\tRIGHT_DEGRESS: RIGHT_DEGRESS,\r\n\t\tRIGHT_VALUE: RIGHT_VALUE,\r\n\t\tTOP_DEGRESS: TOP_DEGRESS,\r\n\t\tTOP_VALUE: TOP_VALUE,\r\n\t\tBOTTOM_DEGRESS: BOTTOM_DEGRESS,\r\n\t\tBOTTOM_VALUE: BOTTOM_VALUE + 15\r\n\t};\r\n}\r\n\r\nfunction matrixTop(width, height, tickPixelList, lgdPixelList) {\r\n\tvar topTicks = tickPixelList[0];\r\n\tvar rhtTicks = tickPixelList[1];\r\n\tvar btmTicks = tickPixelList[2];\r\n\tvar lftTicks = tickPixelList[3];\r\n\r\n\tvar topTicksFirst = topTicks[0] || 0;\r\n\tvar topTicksLast = topTicks[topTicks.length - 1] || 0;\r\n\r\n\tvar btmTicksFirst = btmTicks[0] || 0;\r\n\tvar btmTicksLast = btmTicks[btmTicks.length - 1] || 0;\r\n\r\n\tvar lftTicksMax = utils.max(lftTicks) || 15;\r\n\tvar rhtTicksMax = utils.max(rhtTicks) || 15;\r\n\r\n\tvar lps = utils.sum(lgdPixelList);\r\n\r\n\tvar LEFT_DEGRESS  = 0;\t\t\r\n\tvar LEFT_VALUE  = utils.max([lftTicksMax, topTicksFirst * 0.5, btmTicksFirst * 0.5]);\r\n\tvar RIGHT_DEGRESS  = 0;\r\n\tvar RIGHT_VALUE = utils.max([rhtTicksMax, topTicksLast * 0.5, btmTicksLast * 0.5]);\r\n\r\n\tvar tlh = legendLineHeight(lps, width - LEFT_VALUE - RIGHT_VALUE);\r\n\r\n\tvar topMeanValue = topTicks.length ? (width - LEFT_VALUE - RIGHT_VALUE) / topTicks.length : 5;\r\n\tvar btmMeanValue = btmTicks.length ? (width - LEFT_VALUE - RIGHT_VALUE) / btmTicks.length : 5;\r\n\r\n\tvar layoutTop = getXLabelPixel(topTicks, topMeanValue, LEFT_VALUE);\r\n\tvar layoutBtm = getXLabelPixel(btmTicks, btmMeanValue, LEFT_VALUE);\r\n\r\n\tvar TOP_DEGRESS  = layoutTop.deg;\r\n\tvar TOP_VALUE  = layoutTop.value;\r\n\tvar BOTTOM_DEGRESS  = layoutBtm.deg;\r\n\tvar BOTTOM_VALUE = layoutBtm.value;\r\n\treturn {\r\n\t\tLEFT_DEGRESS: LEFT_DEGRESS,\r\n\t\tLEFT_VALUE: LEFT_VALUE  + 5,\r\n\t\tRIGHT_DEGRESS: RIGHT_DEGRESS,\r\n\t\tRIGHT_VALUE: RIGHT_VALUE,\r\n\t\tTOP_DEGRESS: TOP_DEGRESS,\r\n\t\tTOP_VALUE: TOP_VALUE,\r\n\t\tBOTTOM_DEGRESS: BOTTOM_DEGRESS,\r\n\t\tBOTTOM_VALUE: BOTTOM_VALUE + 15\r\n\t};\r\n}\r\n\r\nfunction matrixBtm(width, height, tickPixelList, lgdPixelList) {\r\n\tvar topTicks = tickPixelList[0];\r\n\tvar rhtTicks = tickPixelList[1];\r\n\tvar btmTicks = tickPixelList[2];\r\n\tvar lftTicks = tickPixelList[3];\r\n\r\n\tvar topTicksFirst = topTicks[0] || 0;\r\n\tvar topTicksLast = topTicks[topTicks.length - 1] || 0;\r\n\r\n\tvar btmTicksFirst = btmTicks[0] || 0;\r\n\tvar btmTicksLast = btmTicks[btmTicks.length - 1] || 0;\r\n\r\n\tvar lftTicksMax = utils.max(lftTicks) || 15;\r\n\tvar rhtTicksMax = utils.max(rhtTicks) || 15;\r\n\r\n\tvar lps = utils.sum(lgdPixelList);\r\n\r\n\tvar LEFT_DEGRESS  = 0;\r\n\tvar LEFT_VALUE  = utils.max([lftTicksMax, topTicksFirst * 0.5, btmTicksFirst * 0.5]);\r\n\tvar RIGHT_DEGRESS  = 0;\r\n\tvar RIGHT_VALUE = utils.max([rhtTicksMax, topTicksLast * 0.5, btmTicksLast * 0.5]);\r\n\r\n\tvar tlh = legendLineHeight(lps, width - LEFT_VALUE - RIGHT_VALUE);\r\n\r\n\tvar topMeanValue = topTicks.length ? (width - LEFT_VALUE - RIGHT_VALUE) / topTicks.length : 5;\r\n\tvar btmMeanValue = btmTicks.length ? (width - LEFT_VALUE - RIGHT_VALUE) / btmTicks.length : 5;\r\n\r\n\tvar layoutTop = getXLabelPixel(topTicks, topMeanValue, LEFT_VALUE);\r\n\tvar layoutBtm = getXLabelPixel(btmTicks, btmMeanValue, LEFT_VALUE);\r\n\r\n\tvar TOP_DEGRESS  = layoutTop.deg;\r\n\tvar TOP_VALUE  = layoutTop.value;\r\n\tvar BOTTOM_DEGRESS  = layoutBtm.deg;\r\n\tvar BOTTOM_VALUE = layoutBtm.value;\r\n\r\n\treturn {\r\n\t\tLEFT_DEGRESS: LEFT_DEGRESS,\r\n\t\tLEFT_VALUE: LEFT_VALUE + 5,\r\n\t\tRIGHT_DEGRESS: RIGHT_DEGRESS,\r\n\t\tRIGHT_VALUE: /*layoutBtm.deg === -45 ? 15 : */RIGHT_VALUE,\r\n\t\tTOP_DEGRESS: TOP_DEGRESS,\r\n\t\tTOP_VALUE: TOP_VALUE,\r\n\t\tBOTTOM_DEGRESS: BOTTOM_DEGRESS,\r\n\t\tBOTTOM_VALUE: BOTTOM_VALUE + (layoutBtm.deg === -45 ? 15 : 0)\r\n\t};\r\n}\r\nfunction matrix(width, height, domain, legend) {\r\n\tvar lgdPixelList  = getLabelsPixel(legend.labels || []);\r\n\tvar tickPixelList = domain.map(function(result) {\r\n\t\treturn getLabelsPixel(result || []);\r\n\t});\r\n\r\n\r\n\t\r\n\tif(legend.orient === 'left') {\r\n\t\treturn matrixLeft(width, height, tickPixelList, lgdPixelList);\r\n\t} else if(legend.orient === 'right') {\r\n\t\treturn matrixRight(width, height, tickPixelList, lgdPixelList);\r\n\t} else if(legend.orient === 'top') {\r\n\t\treturn matrixTop(width, height, tickPixelList, lgdPixelList);\r\n\t}\r\n\treturn matrixBtm(width, height, tickPixelList, lgdPixelList);\r\n}\r\n\r\n/**\r\n * Export `matrix`\r\n */\r\nmodule.exports = matrix;","'use strict';\r\n\r\nvar handler  = require('./handler');\r\nvar observer = require('./observer');\r\n\r\nvar mouse = new observer();\r\nmouse.isPinch = false;\r\nmouse.startPoint = [];\r\n\r\n// 获取距离\r\nfunction getDis(point1, point2) {\r\n\tvar x = point2.x - point1.x;\r\n\tvar y = point2.y - point1.y;\r\n\treturn Math.sqrt(x * x + y * y);\r\n}\r\n\r\nhandler(document, 'mousemove', function(event) {\r\n\ttry {\r\n\t\tif(event.target && event.target.tagName.toLocaleLowerCase() === 'rect') {\r\n\t\t\tvar offset = event.target.__mouse__;\r\n\t\t\tmouse['move'] = [event.pageX - (event.pageX - offset[0]), event.pageY - (event.pageY - offset[1]), event.target.id];\r\n\t\t} else {\r\n\t\t\tif(mouse['move'][0] !== -9999) {\r\n\t\t\t\tmouse['move'] = [-9999, -9999];\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t} catch(e) {\r\n\r\n\t}\r\n});\r\n\r\n\r\nhandler(document, 'touchstart', function(event) {\r\n\ttry{\r\n\t\tif(event.target && event.target.tagName.toLocaleLowerCase() === 'rect') {\r\n\t\t\tvar offset = event.target.__mouse__;\r\n\t\t\tvar touches = event.touches;\r\n\t\t\tvar pageX = touches[0].pageX;\r\n\t\t\tvar pageY = touches[0].pageY;\r\n\r\n\t\t\tif (touches.length >= 2) {\r\n\t\t\t\tmouse.isPinch = true;\r\n\t\t\t\tmouse.startPoint[0] = {\r\n\t\t\t\t\tx: touches[0].pageX,\r\n\t\t\t\t\ty: touches[0].pageY\r\n\t\t\t\t};\r\n\t\t\t\tmouse.startPoint[1] = {\r\n\t\t\t\t\tx: touches[1].pageX,\r\n\t\t\t\t\ty: touches[1].pageY\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\t// mouse['move'] = [pageX - (pageX - offset[0]), pageY - (pageY - offset[1])];\r\n\t\t} else {\r\n\t\t\t// mouse['move'] = [-9999, -9999];\r\n\t\t}\r\n\t} catch(e){\r\n\t\t\r\n\t}\r\n});\r\n\r\nhandler(document, 'touchmove', function(event) {\r\n\ttry{\r\n\t\tif(event.target && event.target.tagName.toLocaleLowerCase() === 'rect') {\r\n\t\t\tvar offset = event.target.__mouse__;\r\n\t\t\tvar touches = event.touches;\r\n\t\t\tvar pageX = touches[0].pageX;\r\n\t\t\tvar pageY = touches[0].pageY;\r\n\r\n\t\t\tif (touches.length === 1) {\r\n\t\t\t\tmouse['move'] = [pageX - (pageX - offset[0]), pageY - (pageY - offset[1]), event.target.id];\r\n\t\t\t}\r\n\r\n\t\t\tif (mouse.isPinch && touches.length >= 2) {\r\n\t\t\t\tvar nowPoint = [];\r\n\t\t\t\tnowPoint[0] = {\r\n\t\t\t\t\tx: touches[0].pageX,\r\n\t\t\t\t\ty: touches[0].pageY\r\n\t\t\t\t};\r\n\t\t\t\tnowPoint[1] = {\r\n\t\t\t\t\tx: touches[1].pageX,\r\n\t\t\t\t\ty: touches[1].pageY\r\n\t\t\t\t};\r\n\t\t\t\tvar startDis = getDis(mouse.startPoint[0], mouse.startPoint[1]);\r\n\t\t\t\tvar nowDis = getDis(nowPoint[0], nowPoint[1]);\r\n\r\n\t\t\t\tmouse['pinch'] = [nowDis / startDis, startPoint, nowPoint];\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tmouse['move'] = [-9999, -9999];\r\n\t\t}\r\n\t} catch(e){\r\n\t\t\r\n\t}\r\n});\r\n\r\nhandler(document, 'touchend', function(event) {\r\n\ttry{\r\n\t\tif(event.target && event.target.tagName.toLocaleLowerCase() === 'rect') {\r\n\t\t\tvar offset = event.target.__mouse__;\r\n\t\t\tvar touches = event.touches;\r\n\t\t\tvar targetTouches = event.targetTouches;\r\n\t\t\tvar pageX = touches[0].pageX;\r\n\t\t\tvar pageY = touches[0].pageY;\r\n\r\n\t\t\tif (mouse.isPinch) {\r\n\t\t\t\tif (\r\n\t\t\t\t\ttouches.length < 2 ||\r\n\t\t\t\t\ttargetTouches.length < 1\r\n\t\t\t\t) {\r\n\t\t\t\t\tmouse.isPinch = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// mouse['move'] = [pageX - (pageX - offset[0]), pageY - (pageY - offset[1])];\r\n\t\t} else {\r\n\t\t\t// mouse['move'] = [-9999, -9999];\r\n\t\t}\r\n\t} catch(e){\r\n\t\t\r\n\t}\r\n});\r\n\r\n\r\n\r\nmodule.exports = mouse;","'use strict';\r\n\r\nfunction defineProperty(scope, name, watchers) {\r\n\tvar value = scope[name];\r\n\r\n\tvar getter = function() {\r\n\t\treturn value;\r\n\t};\r\n\r\n\tvar setter = function(newValue) {\r\n\t\tvar oldValue = value;\r\n\t\tvalue = newValue;\r\n\t\tif(newValue !== oldValue) {\r\n\t\t\twatchers.forEach(function(watch) {\r\n\t\t\t\twatch.call(scope, newValue, oldValue);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\ttry{\r\n\t\tObject.defineProperty(scope, name, {\r\n\t\t\tset: setter,\r\n\t\t\tget: getter\r\n\t\t});\r\n\t} catch(error) {}\r\n}\r\n\r\nfunction observer() {\r\n\tthis.$$watchers = {};\r\n}\r\n\r\nobserver.prototype.$watch = function(name, cb) {\r\n\tif(!this.$$watchers.hasOwnProperty(name)) {\r\n\t\tthis.$$watchers[name] = [];\r\n\t\tdefineProperty(this, name, this.$$watchers[name]);\r\n\t}\r\n\r\n\tthis.$$watchers[name].push(cb);\r\n};\r\n\r\n/**\r\n * Export `observer`\r\n */\r\nmodule.exports = observer;","'use strict';\r\nvar handler  = require('./handler');\r\nvar observer = require('./observer');\r\n\r\nvar resizable = new observer();\r\n\r\nhandler(window, 'resize', function(event) {\r\n\tresizable.resize = event;\r\n});\r\n\r\nmodule.exports = resizable;","'use strict';\r\nvar handler  = require('./handler');\r\nvar observer = require('./observer');\r\n\r\nvar themes = new observer();\r\n\r\nmodule.exports = themes;","'use strict';\r\n\r\nvar version = \"0.0.1\";\r\n\r\n/**\r\n *不重复ID\r\n * @public\t \r\n * @method uid\r\n * @returns {String}\r\n */\t\r\nvar guid = (function () {\r\n\t\tvar u = Date.now();\r\n\t\treturn function () {\r\n\t\t\treturn (u++).toString(16);\r\n\t\t};\r\n\t})();\r\n\r\n/**\r\n * Canvas文本\r\n * @public\r\n * @method measure\r\n * @param {String} label\r\n * @param {String} [font]\r\n * @returns {Object}\r\n */\r\nvar measure = (function() {\r\n\t\ttry{\r\n\t\t\tvar canvas = document.createElement(\"canvas\");\r\n\t\t\tcanvas.width = 1;\r\n\t\t\tcanvas.height = 1;\r\n\t\t\treturn function (label, font) {\r\n\t\t\t\tvar context = canvas.getContext(\"2d\");\r\n\t\t\t\tcontext.font = font || '12px Arial';\r\n\t\t\t\treturn context.measureText(label);\r\n\t\t\t};\r\n\t\t} catch(e) {\r\n\t\t\treturn function() {\r\n\t\t\t\treturn 0;\r\n\t\t\t};\r\n\t\t}\r\n\t})();\r\n\r\n/**\r\n * 转化数字\r\n * @public\r\n * @method number\r\n * @param {String} x\r\n * @returns {Number}\r\n */\r\nfunction number(x) {\r\n\treturn x === null ? NaN : +x;\r\n}\r\n\r\n/**\r\n * 是否为数字\r\n * @public\r\n * @method number\r\n * @param {String} value\r\n * @returns {Boolean}\r\n */\r\nfunction isNumber(value) {\r\n\treturn !isNaN(parseFloat(value)) && isFinite(value);\r\n}\r\n\r\n/**\r\n * 升序\r\n * @public\r\n * @method ascending\r\n * @param {Number} a\r\n * @param {Number} b\r\n * @returns {Number}\r\n */\r\nfunction ascending(a, b) {\r\n\treturn a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\r\n}\r\n\r\n/**\r\n * 二等分\r\n * @public\r\n * @method bisect\r\n * @param {Array} a\r\n * @param {Number} x\r\n * @param {Number} lo\r\n * @param {Number} hi\r\n * @returns {Number}\r\n */\r\nfunction bisect(a, x, lo, hi) {\r\n\tif (arguments.length < 3) {\r\n\t\tlo = 0;\r\n\t}\r\n\tif (arguments.length < 4) {\r\n\t\thi = a.length;\r\n\t}\r\n\twhile (lo < hi) {\r\n\t\tvar mid = lo + hi >>> 1;\r\n\r\n\t\tif (ascending(a[mid], x) > 0) {\r\n\t\t\thi = mid;\r\n\t\t} else {\r\n\t\t\tlo = mid + 1;\r\n\t\t}\r\n\t}\r\n\treturn lo;\r\n}\r\n\r\n/**\r\n * 遍历对象或数组\r\n * @public\r\n * @param {Array | Object} object\r\n * @param {Function} callback\r\n * @returns {Array | Object}\r\n */\r\nfunction each(object, callback) {\r\n\tvar length,\r\n\tkey,\r\n\ti,\r\n\tvalue;\r\n\r\n\tif (object) {\r\n\t\tlength = object.length;\r\n\t\tif (length === undefined) {\r\n\t\t\tfor (key in object) {\r\n\t\t\t\tif (object.hasOwnProperty(key)) {\r\n\t\t\t\t\tvalue = object[key];\r\n\t\t\t\t\tif (callback.call(value, value, key) === false) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (i = 0; i < length; i++) {\r\n\t\t\t\tvalue = object[i];\r\n\t\t\t\tif (callback.call(value, value, i) === false) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn object;\r\n}\r\n\r\n/**\r\n * 数值区间 [min, max]\r\n * @public\r\n * @method extent\r\n * @param {Array} array\r\n * @param {function} cb\r\n * @returns {Array}\r\n */\r\nfunction extent(array, cb) {\r\n\tvar i = -1,\r\n\tn = array.length,\r\n\ta,\r\n\tb,\r\n\tc;\r\n\r\n\tif (cb == null) {\r\n\t\twhile (++i < n) {\r\n\t\t\tif ((b = array[i]) != null && b >= b) {\r\n\t\t\t\ta = c = b;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\twhile (++i < n) {\r\n\t\t\tif ((b = array[i]) != null) {\r\n\t\t\t\tif(a > b) {\r\n\t\t\t\t\ta = b;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(c < b) {\r\n\t\t\t\t\tc = b;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\t\t\t\t\r\n\t} else {\r\n\t\twhile (++i < n) {\r\n\t\t\tif ((b = cb(array[i], i, array)) != null && b >= b) {\r\n\t\t\t\ta = c = b;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\twhile (++i < n) {\r\n\t\t\tif ((b = cb(array[i], i, array)) != null) {\r\n\t\t\t\tif(a > b) {\r\n\t\t\t\t\ta = b;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(c < b) {\r\n\t\t\t\t\tc = b;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn [a, c];\r\n}\r\n\r\n/**\r\n * 数据堆叠\r\n * @public\r\n * @method stack\r\n * @param {Array} array\r\n * @param {Function} callback\r\n * @returns {Array}\r\n */\r\nfunction stack(array, callback) {\r\n\tvar result = [0];\r\n\tvar size = array.length;\r\n\tfor(var i = 1; i < size; i++) {\r\n\t\tvar previous = array[i - 1];\r\n\t\tvar current = array[i];\r\n\t\tresult.push(callback(previous, current) + result[result.length - 1]);\r\n\t}\r\n\treturn result;\r\n}\r\n\r\n/**\r\n * 定义常量\r\n * @public\r\n * @method constant\r\n * @param {Object} x\r\n * @returns {function}\r\n */\r\nfunction constant(x) {\r\n\treturn function () {\r\n\t\treturn x;\r\n\t};\r\n}\r\n\r\n/**\r\n * 求最大值\r\n * @public\r\n * @method max\r\n * @param {Array} array\r\n * @param {function} [f]\r\n * @returns {Number}\r\n */\r\nfunction max(array, f) {\r\n\tvar i = -1,\r\n\tn = array.length,\r\n\ta,\r\n\tb;\r\n\r\n\tif (f == null) {\r\n\t\twhile (++i < n) {\r\n\t\t\tif ((b = array[i]) != null && b >= b) {\r\n\t\t\t\ta = b;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\twhile (++i < n) {\r\n\t\t\tif ((b = array[i]) != null && b > a) {\r\n\t\t\t\ta = b;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t} else {\r\n\t\twhile (++i < n) {\r\n\t\t\tif ((b = f(array[i], i, array)) != null && b >= b) {\r\n\t\t\t\ta = b;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\twhile (++i < n) {\r\n\t\t\tif ((b = f(array[i], i, array)) != null && b > a) {\r\n\t\t\t\ta = b;\r\n\t\t\t}\r\n\t\t}\t\t\t\t\r\n\t}\r\n\r\n\treturn a;\r\n}\r\n\r\n/**\r\n * 求最小值\r\n * @public\r\n * @method min\r\n * @param {Array} array\r\n * @param {function} [f]\r\n * @returns {Number}\r\n */\r\nfunction min(array, f) {\r\n\tvar i = -1,\r\n\tn = array.length,\r\n\ta,\r\n\tb;\r\n\r\n\tif (f == null) {\r\n\t\twhile (++i < n) {\r\n\t\t\tif ((b = array[i]) != null && b >= b) {\r\n\t\t\t\ta = b;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\twhile (++i < n) {\r\n\t\t\tif ((b = array[i]) != null && a > b) {\r\n\t\t\t\ta = b;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t} else {\r\n\t\twhile (++i < n) {\r\n\t\t\tif ((b = f(array[i], i, array)) != null && b >= b) {\r\n\t\t\t\ta = b;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\twhile (++i < n) {\r\n\t\t\tif ((b = f(array[i], i, array)) != null && a > b) {\r\n\t\t\t\ta = b;\r\n\t\t\t}\r\n\t\t}\t\t\t\t\r\n\t}\r\n\r\n\treturn a;\r\n}\r\n\r\n/**\r\n * 多数组合并\r\n * @public\r\n * @method merge\r\n * @param {Array} arrays\r\n * @returns {Number}\r\n */\r\nfunction merge(arrays) {\r\n\tvar n = arrays.length,\r\n\tm,\r\n\ti = -1,\r\n\tj = 0,\r\n\tmerged,\r\n\tarray;\r\n\r\n\twhile (++i < n) {\r\n\t\tj += arrays[i].length;\r\n\t}\r\n\t\t\r\n\tmerged = new Array(j);\r\n\r\n\twhile (--n >= 0) {\t\t\t\r\n\t\tarray = arrays[n];\r\n\t\tm = array.length;\r\n\t\twhile (--m >= 0) {\r\n\t\t\tmerged[--j] = array[m];\r\n\t\t}\r\n\t}\r\n\r\n\treturn merged;\r\n}\r\n\r\n/**\r\n * 求平均数\r\n * @public\r\n * @method mean\r\n * @param {Array} array\r\n * @param {function} [f]\r\n * @returns {Number}\r\n */\r\nfunction mean(array, f) {\r\n\tvar s = 0,\r\n\tn = array.length,\r\n\ta,\r\n\ti = -1,\r\n\tj = n;\r\n\r\n\tif (f == null) {\r\n\t\twhile (++i < n) {\r\n\t\t\tif (!isNaN(a = number(array[i]))) {\r\n\t\t\t\ts += a;\r\n\t\t\t} else {\r\n\t\t\t\t--j;\r\n\t\t\t}\t\t\t\t\r\n\t\t}\r\n\t\t\t\r\n\t} else {\r\n\t\twhile (++i < n) {\r\n\t\t\tif (!isNaN(a = number(f(array[i], i, array)))) {\r\n\t\t\t\ts += a;\t\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\t--j;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (j) {\r\n\t\treturn s / j;\r\n\t}\r\n}\r\n\r\n/**\r\n * 洗牌\r\n * @public\r\n * @method shuffle\r\n * @param {Array} array\r\n * @param {Number} [i0] 默认是0\r\n * @param {Number} [i1] 默认是数组长度\r\n * @returns {Array}\r\n */\r\nfunction shuffle(array, i0, i1) {\r\n\tvar m = (i1 == null ? array.length : i1) - (i0 = i0 == null ? 0 : +i0),\r\n\tt,\r\n\ti;\r\n\twhile (m) {\r\n\t\ti = Math.random() * m-- | 0;\r\n\t\tt = array[m + i0];\r\n\t\tarray[m + i0] = array[i + i0];\r\n\t\tarray[i + i0] = t;\r\n\t}\r\n\r\n\treturn array;\r\n}\r\n\r\n/**\r\n * 求和\r\n * @public\r\n * @method sum\r\n * @param {Array} array\r\n * @param {function} [f]\r\n * @returns {Number}\r\n */\r\nfunction sum(array, f) {\r\n\tvar s = 0,\r\n\tn = array.length,\r\n\ta,\r\n\ti = -1;\r\n\r\n\tif (f == null) {\r\n\t\twhile (++i < n) {\r\n\t\t\tif (a = +array[i]) {\r\n\t\t\t\ts += a;\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\twhile (++i < n) {\r\n\t\t\tif (a = +f(array[i], i, array)) {\r\n\t\t\t\ts += a;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn +s.toFixed(10);\r\n}\r\n\r\n/**\r\n * 获取对象的键名\r\n * @public\r\n * @method values\r\n * @param {Object} map\r\n * @returns {Array}\r\n */\r\nfunction keys(map) {\r\n\tvar keys = [];\r\n\tfor (var key in map) {\r\n\t\tkeys.push(key);\r\n\t}\r\n\treturn keys;\r\n}\r\n\r\n/**\r\n * 获取对象的值\r\n * @public\r\n * @method values\r\n * @param {Object} map\r\n * @returns {Array}\r\n */\r\nfunction values(map) {\r\n\tvar values = [];\r\n\tfor (var key in map) {\r\n\t\tvalues.push(map[key]);\r\n\t}\r\n\treturn values;\r\n}\r\n\r\n/**\r\n * 对象转化成数组\r\n * @public\r\n * @method entries\r\n * @param {Object} map\r\n * @returns {Array}\r\n */\r\nfunction entries(map) {\r\n\tvar result = [];\r\n\tfor (var key in map) {\r\n\t\tresult.push({\r\n\t\t\tkey : key,\r\n\t\t\tvalue : map[key]\r\n\t\t});\r\n\t}\t\t\t\r\n\treturn result;\r\n}\r\n\r\n/**\r\n * 创建指定范围的随机数\r\n * @public\r\n * @method uniform\r\n * @param {Number} min\r\n * @param {Number} max\r\n * @returns {Function}\r\n */\r\nfunction uniform(min, max) {\r\n\tmin = min == null ? 0 : +min;\r\n\tmax = max == null ? 1 : +max;\r\n\tif (arguments.length === 1) {\r\n\t\tmax = min, min = 0;\r\n\t} else {\r\n\t\tmax -= min;\r\n\t}\r\n\treturn function () {\r\n\t\treturn Math.random() * (max - min) + min;\r\n\t};\r\n}\r\n\r\n/**\r\n * 求多边形中心点\r\n * @public\r\n * @method centroid\r\n * @param {Array} polygon\r\n * @returns {Array}\r\n */\r\nfunction centroid(polygon) {\r\n\tvar i = -1,\r\n\tn = polygon.length,\r\n\tx = 0,\r\n\ty = 0,\r\n\ta,\r\n\tb = polygon[n - 1],\r\n\tc,\r\n\tk = 0;\r\n\twhile (++i < n) {\r\n\t\ta = b;\r\n\t\tb = polygon[i];\r\n\t\tk += c = a[0] * b[1] - b[0] * a[1];\r\n\t\tx += (a[0] + b[0]) * c;\r\n\t\ty += (a[1] + b[1]) * c;\r\n\t}\r\n\r\n\treturn k *= 3, [x / k, y / k];\r\n}\r\n\r\n/**\r\n * 判断某个点是否在多边形中\r\n * @public\r\n * @method range\r\n * @param {Array} polygon\r\n * @param {Array} point\r\n * @returns {boolean}\r\n */\r\nfunction contains(polygon, point) {\r\n\tvar n = polygon.length,\r\n\tp = polygon[n - 1],\r\n\tx = point[0],\r\n\ty = point[1],\r\n\tx0 = p[0],\r\n\ty0 = p[1],\r\n\tx1,\r\n\ty1,\r\n\tinside = false;\r\n\r\n\tfor (var i = 0; i < n; ++i) {\r\n\t\tp = polygon[i],\r\n\t\tx1 = p[0],\r\n\t\ty1 = p[1];\r\n\t\tif (((y1 > y) !== (y0 > y)) && (x < (x0 - x1) * (y - y1) / (y0 - y1) + x1)) {\r\n\t\t\tinside = !inside;\r\n\t\t}\r\n\t\tx0 = x1,\r\n\t\ty0 = y1;\r\n\t}\r\n\r\n\treturn inside;\r\n}\r\n\r\n/**\r\n * 创建数据单元\r\n * @public\r\n * @method range\r\n * @param {Number} start 数组元素的最小值\r\n * @param {Number} stop 数组元素的最大值\r\n * @param {Number} [step] 默认是1\r\n * @returns {Array}\r\n */\r\nfunction range(start, stop, step) {\r\n\tstart = +start,\r\n\tstop = +stop,\r\n\tstep = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\r\n\r\n\tvar i = -1,\r\n\tn = Math.max(0, Math.ceil((stop - start) / step)) | 0,\r\n\trange = new Array(n);\r\n\twhile (++i < n) {\r\n\t\trange[i] = +(start + i * step).toFixed(10);\r\n\t}\r\n\r\n\treturn range;\r\n}\r\n\r\nvar e10 = Math.sqrt(50);\r\nvar e5 = Math.sqrt(10);\r\nvar e2 = Math.sqrt(2);\r\n\r\n/**\r\n * 求刻度区间\r\n * @public\r\n * @method ticks\r\n * @param {Number} start\r\n * @param {Number} stop\r\n * @param {Number} [count] 默认为 5\r\n * @returns {Array}\r\n */\r\nfunction ticks(start, stop, count) {\r\n\tvar step = tickStep(start, stop, count || 5);\r\n\tvar result = range(\r\n\t\tMath.ceil(start / step) * step,\r\n\t\tMath.floor(stop / step) * step + step / 2,\r\n\t\tstep);\r\n\r\n\tvar first = result[0];\r\n\tvar last  = result[result.length - 1];\r\n\r\n\tif(first > start) {\r\n\t\tresult.splice(0, 0, first - step);\r\n\t}\r\n\r\n\tif(last < stop) {\r\n\t\tresult.push(last + step);\r\n\t}\r\n\r\n\treturn result;\r\n}\r\n\r\n/**\r\n * 步调\r\n * @private\r\n * @method tickStep\r\n * @param {Number} start\r\n * @param {Number} stop\r\n * @param {Number} count\r\n * @returns {Number}\r\n */\r\nfunction tickStep(start, stop, count) {\r\n\tvar step0 = Math.abs(stop - start) / Math.max(0, count),\r\n\tstep1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\r\n\terror = step0 / step1;\r\n\tif (error >= e10) {\r\n\t\tstep1 *= 10;\r\n\t} else if (error >= e5) {\r\n\t\tstep1 *= 5;\r\n\t} else if (error >= e2) {\r\n\t\tstep1 *= 2;\r\n\t}\r\n\treturn stop < start ? -step1 : step1;\r\n}\r\n\r\nfunction _ticks(start, stop, count = 5) {\r\n\tvar step0 = Math.floor(Math.log(stop - start) / Math.log(10));\r\n\tvar unit = Math.pow(10, step0);\r\n\r\n\tvar min = Math.floor(start / unit) * unit;\r\n\tvar max = Math.ceil(stop / unit) * unit;\r\n\r\n\tvar step = (max - min) / (count - 1);\r\n\r\n\tif(unit === 1 && step > 1 && Math.ceil(step) !== step) {\r\n\t\tstep = Math.ceil(step);\r\n\t\tmax = min + step * (count - 1);\r\n\t}\r\n\r\n\tif(min < 0 && max > 0) {\r\n\t\tmin = Math.floor(min / step) * step;\r\n\t\tmax = Math.floor(max / step) * step;\r\n\t}\r\n\r\n\tvar count = Math.floor(Math.log(step) / Math.log(10));\t\r\n\t\r\n\tvar result = [];\r\n\r\n\tfor(var i = min; min < max ? i <= max : i >= max; i += step) {\r\n\t\tif(step < 1) {\r\n\t\t\tresult.push(parseFloat(i.toFixed(1 - count)));\r\n\t\t} else {\r\n\t\t\tresult.push(i);\r\n\t\t}\r\n\t}\r\n\r\n\treturn result\r\n}\r\n\r\n/**\r\n * 线性比例\r\n * @public\r\n * @method linear\r\n * @param {Array} domain\r\n * @returns {linear}\r\n */\r\nfunction linear(domain) {\r\n\tvar buffer = ticks.apply(this, domain);\r\n\tvar size = buffer.length;\r\n\tvar start = buffer[0];\r\n\tvar stop = buffer[size - 1];\r\n\tvar range = [1, 0];\r\n\r\n\t/**\r\n\t * @public\r\n\t * @method linear\r\n\t * @param {Number} x\r\n\t * @returns {Number}\r\n\t */\r\n\tfunction linear(x) {\r\n\t\treturn Math.floor(range[0] - (x - start) / (stop - start) * (range[0] - range[1]));\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * @method range\r\n\t * @param {Array} x\r\n\t * @returns {linear}\r\n\t */\r\n\tlinear.range = function(x) {\r\n\t\treturn x ? (range = x, linear) : range;\r\n\t};\r\n\r\n\t/**\r\n\t * @public\r\n\t * @method ticks\r\n\t * @returns {Array}\r\n\t */\r\n\tlinear.ticks = function() {\r\n\t\treturn buffer;\r\n\t};\r\n\t\r\n\treturn linear;\r\n}\r\n\r\n/**\r\n * 离散比例\r\n * @public\r\n * @method ordinal\r\n * @param {Array} domain\r\n * @param {Number} rangeBand [0-1]\r\n * @returns {ordinal}\r\n */\r\nfunction ordinal(domain, rangeBand) {\r\n\tvar size = domain.length;\r\n\tvar start = domain[0];\r\n\tvar stop = domain[size - 1];\r\n\tvar range = [1, 0];\r\n\r\n\trangeBand = rangeBand || 0;\r\n\r\n\tvar buffer = {};\r\n\r\n\tdomain.forEach(function(tick, index) {\r\n\t\tbuffer[tick] = index;\r\n\t});\r\n\t\r\n\t/**\r\n\t * @public\r\n\t * @method ordinal\r\n\t * @param {String} x\r\n\t * @returns {Number}\r\n\t */\r\n\tfunction ordinal(x) {\r\n\t\tvar n = rangeBand ? 0 : 1;\r\n\t\tvar width = (range[1] - range[0]) / (size - n);\r\n\t\treturn rangeBand ? Math.floor(range[0] + width * buffer[x] + width * 0.5) : Math.floor(range[0] + width * buffer[x]);\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * @method rangeBand\r\n\t * @returns {Number}\r\n\t */\r\n\tordinal.rangeBand = function() {\r\n\t\tvar width =  (1 - rangeBand * 2) / size * (range[1] - range[0]);\r\n\t\treturn rangeBand ? Math.floor(width) : 0;\r\n\t};\r\n\r\n\t/**\r\n\t * @public\r\n\t * @method range\r\n\t * @param {Array} x\r\n\t * @returns {ordinal}\r\n\t */\r\n\tordinal.range = function(x) {\r\n\t\treturn x ? (range = x, ordinal) : range;\r\n\t};\r\n\r\n\t/**\r\n\t * @public\r\n\t * @method ticks\r\n\t * @returns {Array}\r\n\t */\r\n\tordinal.ticks = function() {\r\n\t\treturn domain;\r\n\t};\r\n\t\r\n\treturn ordinal;\r\n}\r\n\r\nvar TIME_STEPS = [1e3, 5e3, 15e3, 3e4, 6e4, 3e5, 9e5, 18e5, 36e5, 108e5, 216e5, 432e5, 864e5, 1728e5, 6048e5, 2592e6, 7776e6, 31536e6];\r\n\r\n/**\r\n * @public\r\n * @method interval\r\n * @param {Function} local\r\n * @param {Function} step\r\n * @param {Function} number\r\n * @returns {local}\r\n */\r\nfunction interval(local, step, number) {\r\n\r\n\tfunction round(date) {\r\n\t\tvar d0 = local(date),\r\n\t\td1 = offset(d0, 1);\r\n\t\treturn date - d0 < d1 - date ? d0 : d1;\r\n\t}\r\n\r\n\tfunction ceil(date) {\r\n\t\tstep(date = local(new Date(date - 1)), 1);\r\n\t\treturn date;\r\n\t}\r\n\r\n\tfunction offset(date, k) {\r\n\t\tstep(date = new Date(+date), k);\r\n\t\treturn date;\r\n\t}\r\n\r\n\tfunction range(t0, t1, dt) {\r\n\t\tvar time = ceil(t0),\r\n\t\ttimes = [];\r\n\t\tif (dt > 1) {\r\n\t\t\twhile (time < t1) {\r\n\t\t\t\tif (!(number(time) % dt)) {\r\n\t\t\t\t\ttimes.push(new Date(+time));\r\n\t\t\t\t}\r\n\t\t\t\tstep(time, 1);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\twhile (time < t1) {\r\n\t\t\t\ttimes.push(new Date(+time)),\r\n\t\t\t\tstep(time, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn times;\r\n\t}\r\n\r\n\tlocal.floor = local;\r\n\tlocal.round = round;\r\n\tlocal.ceil = ceil;\r\n\tlocal.offset = offset;\r\n\tlocal.range = range;\r\n\r\n\treturn local;\r\n}\r\n\r\nvar TIME_LIST = (() => {\r\n\tvar time = {};\r\n\r\n\ttime.second = interval((date) => {\r\n\t\treturn new Date(Math.floor(date / 1e3) * 1e3);\r\n\t}, (date, offset) => {\r\n\t\tdate.setTime(date.getTime() + Math.floor(offset) * 1e3);\r\n\t}, (date) => {\r\n\t\treturn date.getSeconds();\r\n\t});\r\n\r\n\ttime.minute = interval((date) => {\r\n\t\treturn new Date(Math.floor(date / 6e4) * 6e4);\r\n\t}, (date, offset) => {\r\n\t\tdate.setTime(date.getTime() + Math.floor(offset) * 6e4);\r\n\t}, (date) => {\r\n\t\treturn date.getMinutes();\r\n\t});\r\n\r\n\ttime.hour = interval((date) => {\r\n\t\tvar timezone = date.getTimezoneOffset() / 60;\r\n\t\treturn new Date((Math.floor(date / 36e5 - timezone) + timezone) * 36e5);\r\n\t}, (date, offset) => {\r\n\t\tdate.setTime(date.getTime() + Math.floor(offset) * 36e5);\r\n\t}, (date) => {\r\n\t\treturn date.getHours();\r\n\t});\r\n\r\n\ttime.day = interval((date) => {\r\n\t\tvar day = new Date(2e3, 0);\r\n\t\tday.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\r\n\t\treturn day;\r\n\t}, (date, offset) => {\r\n\t\tdate.setDate(date.getDate() + offset);\r\n\t}, (date) => {\r\n\t\treturn date.getDate() - 1;\r\n\t});\r\n\r\n\ttime.dayOfYear = function (date) {\r\n\t\tvar year = time.year(date);\r\n\t\treturn Math.floor((date - year - (date.getTimezoneOffset() - year.getTimezoneOffset()) * 6e4) / 864e5);\r\n\t};\r\n\r\n\t[ \"sunday\", \"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\" ]\r\n\t.forEach((day, i) => {\r\n\t    i = 7 - i;\r\n\t    time[day] = interval((date) => {\r\n\t    \t(date = time.day(date)).setDate(date.getDate() - (date.getDay() + i) % 7);\r\n\t    \treturn date;\r\n\t    }, (date, offset) => {\r\n\t    \tdate.setDate(date.getDate() + Math.floor(offset) * 7);\r\n\t    }, (date) => {\r\n\t    \tvar day = time.year(date).getDay();\r\n\t    \treturn Math.floor((time.dayOfYear(date) + (day + i) % 7) / 7) - (day !== i);\r\n\t    });\r\n\r\n\t\ttime[day + \"OfYear\"] = function(date) {\r\n\t\t\tvar day = time.year(date).getDay();\r\n\t\t\treturn Math.floor((time.dayOfYear(date) + (day + i) % 7) / 7);\r\n\t\t};\r\n\t});\r\n\r\n\ttime.week = time.sunday;\r\n\r\n\ttime.month = interval((date) => {\r\n\t\tdate = time.day(date);\r\n\t\tdate.setDate(1);\r\n\t\treturn date;\r\n\t}, (date, offset) => {\r\n\t\tdate.setMonth(date.getMonth() + offset);\r\n\t}, (date) => {\r\n\t\treturn date.getMonth();\r\n\t});\r\n\r\n\ttime.year = interval((date) => {\r\n\t\tdate = time.day(date);\r\n\t\tdate.setMonth(0, 1);\r\n\t\treturn date;\r\n\t}, (date, offset) => {\r\n\t\tdate.setFullYear(date.getFullYear() + offset);\r\n\t}, (date) => {\r\n\t\treturn date.getFullYear();\r\n\t});\r\n\r\n\treturn [[time.second, 1], [time.second, 5], [time.second, 15], [time.second, 30], [time.minute, 1], [time.minute, 5], [time.minute, 15], [time.minute, 30], [time.hour, 1], [time.hour, 3], [time.hour, 6],\t[time.hour, 12], [time.day, 1],\t[time.day, 2], [time.week, 1], [time.month, 1], [time.month, 3], [time.year, 1]];\r\n})();\r\n\r\nfunction scaleDate(t) {\r\n\treturn new Date(t);\r\n}\r\n\r\nfunction identity(d) {\r\n\treturn d;\r\n}\r\n\r\nvar scaleMilliseconds = {\r\n\trange : function (start, stop, step) {\r\n\t\treturn d3.range(Math.ceil(start / step) * step, +stop, step).map(scaleDate);\r\n\t},\r\n\tfloor : identity,\r\n\tceil : identity\r\n};\r\n\r\nfunction tickMethod(extent, count) {\r\n\tvar span = extent[1] - extent[0];\r\n\tvar target = span / count;\r\n\tvar i = bisect(TIME_STEPS, target);\r\n\tvar interval;\r\n\tvar step;\r\n\tif(i === TIME_LIST.length) {\r\n\t\tinterval = methods.year;\r\n\t\tstep = range(extent.map(function(d) {\r\n\t\t\treturn d / 31536e6;\r\n\t\t}), count)[2];\r\n\t} else if(!i) {\r\n\t\tinterval = scaleMilliseconds;\r\n\t\tstep = range(extent, count)[2];\r\n\t} else {\r\n\t\tvar index = target / TIME_STEPS[i - 1] < TIME_STEPS[i] / target ? i - 1 : i;\r\n\t\tvar method = TIME_LIST[index];\r\n\t\tinterval = method[0];\r\n\t\tstep = method[1];\r\n\t}\r\n\r\n\treturn interval.range(extent[0], new Date(extent[1] + 1), step);\r\n}\r\n\r\n/**\r\n * 时间比例\r\n * @public\r\n * @method extime\r\n * @param {Array} domain\r\n * @returns {ordinal}\r\n */\r\nfunction extime(domain) {\r\n\tvar buffer = tickMethod(domain, 5).map(function(d) {\r\n\t\treturn new Date(d).getTime();\r\n\t});\r\n\tvar range = [1, 0];\r\n\t\r\n\tfunction timer(x) {\r\n\t\treturn Math.floor(range[0] - ((new Date(x)).getTime() - domain[0]) / (domain[1] - domain[0]) * (range[0] - range[1]));\r\n\t}\r\n\t/**\r\n\t * @public\r\n\t * @method range\r\n\t * @param {Array} x\r\n\t * @returns {timer}\r\n\t */\r\n\ttimer.range = function(x) {\r\n\t\treturn x ? (range = x, timer) : range;\r\n\t};\r\n\r\n\t/**\r\n\t * @public\r\n\t * @method ticks\r\n\t * @returns {Array}\r\n\t */\r\n\ttimer.ticks = function() {\r\n\t\treturn buffer;\r\n\t};\r\n\r\n\ttimer.parse = function(x, size) {\t\t\r\n\t\tvar width = range[1] - range[0];\t\t\r\n\t\tvar band = width / (size - 1);\r\n\t\t\r\n\t\tif(x < (band / 2) ) {\r\n\t\t\tx = x;\r\n\t\t} else if((x + band / 2) > width) {\r\n\t\t\tx = x + band * 0.5;\r\n\t\t} else {\r\n\t\t\tx = x + band * 0.5;\r\n\t\t}\r\n\t\treturn Math.floor(x / band);\r\n\t};\r\n\r\n\treturn timer;\r\n}\r\n\r\nfunction time(domain, gs) {\r\n\tvar range;\r\n\tvar format = date(domain[0]);\r\n\r\n\tvar exclude = [format('11:30'), format('13:00')].map(function(d) {\r\n\t\treturn new Date(d).getTime();\r\n\t});\r\n\r\n\tvar scale = extime([domain[0], domain[1] - (exclude[1] - exclude[0]) + (gs || 0)]);\r\n\r\n\tfunction exscale(d) {\r\n\t\tvar t0 = new Date(d).getTime();\r\n\t\tvar t1 = new Date(t0 > exclude[0] ? (t0 - (exclude[1] - exclude[0]) + (gs || 0) ) : t0).getTime();\r\n\t\treturn scale(t1);\r\n\t}\r\n\r\n\texscale.range = function(x) {\r\n\t\treturn x ? (range = x, scale.range(x), exscale) : range;\r\n\t};\r\n\r\n\texscale.parse = function(x, size) {\t\t\r\n\t\tvar width = range[1] - range[0];\r\n\r\n\t\tvar band = width / (size - 1);\r\n\r\n\t\tif(x < (band / 2) ) {\r\n\t\t\tx = x;\r\n\t\t} else if((x + band / 2) > width) {\r\n\t\t\tx = x + band * 0.5;\r\n\t\t} else {\r\n\t\t\tx = x + band;\r\n\t\t}\r\n\t\treturn Math.floor(x / band);\r\n\t};\r\n\r\n\texscale.ticks = function() {\r\n\t\treturn [format('9:30'), format('10:30'), format('11:30'), format('14:00'), format('15:00')].map(function(d){\r\n\t\t\treturn new Date(d).getTime();\r\n\t\t});\r\n\t};\r\n\r\n\treturn domain[1] > new Date(format('11:30')).getTime() ? exscale : extime(domain);\r\n}\r\n\r\nfunction date(d) {\r\n\tvar t = new Date(d);\r\n\treturn function(hms) {\r\n\t\treturn t.getFullYear() + '/' + (t.getMonth() + 1) + '/'+ t.getDate() + ' '+ hms;\r\n\t};\r\n}\r\n\r\nfunction gather(size, range) {\r\n\tvar gs = 1;\r\n\tvar time = [1, 3, 5, 10, 15, 30, 60, 180, 300, 600, 900];\r\n\teach(time, function(d, i) {\r\n\t\tif(size / (range / d + 2) >= 5) {\r\n\t\t\treturn gs = d, false;\r\n\t\t}\r\n\t});\r\n\r\n\tfunction dataFilter(data, callback) {\r\n\t\tvar result = [];\r\n\t\tvar item = [];\r\n\t\teach(data, function(d) {\r\n\t\t\tvar t = new Date(d[0]);\r\n\t\t\tif(gs < 60) {\r\n\t\t\t\titem.push(d);\r\n\t\t\t\tif(t.getSeconds() % gs === 0) {\r\n\t\t\t\t\tresult.push(callback(item, gs * 1000) || []);\r\n\t\t\t\t\titem = [];\r\n\t\t\t\t}\r\n\t\t\t} else if(gs >= 60 && gs <= 900) {\r\n\t\t\t\titem.push(d);\r\n\t\t\t\tif(t.getMinutes() % (gs / 60) === 0) {\r\n\t\t\t\t\tresult.push(callback(item, gs * 1000) || []);\r\n\t\t\t\t\titem = [];\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t//todo\r\n\t\t\t\tresult.push(d);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tdataFilter.gs = gs * 1000;\r\n\r\n\treturn dataFilter;\r\n}\r\n\r\nexports.version  = version;\r\nexports.guid     = guid;\r\nexports.measure  = measure;\r\nexports.each     = each;\r\nexports.number   = number;\r\nexports.isNumber = isNumber;\r\nexports.extent   = extent;\r\nexports.min      = min;\r\nexports.max      = max;\r\nexports.sum      = sum;\r\nexports.range    = range;\r\nexports.stack    = stack;\r\nexports.contains = contains;\r\nexports.centroid = centroid;\r\nexports.uniform  = uniform;\r\nexports.entries  = entries;\r\nexports.keys     = keys;\r\nexports.values   = values;\r\nexports.shuffle  = shuffle;\r\nexports.constant = constant;\r\nexports.linear   = linear;\r\nexports.time     = time;\r\nexports.extime   = extime;\r\nexports.ordinal  = ordinal;\r\nexports.gather   = gather;","'use strict';\r\n\r\n/**\r\n * 比例尺刻度\r\n * @public\t \r\n * @method d3SvgAxisNodes\r\n * @param {Document} context\r\n * @param {Array} data [{x: number, y: number, value: number, tick: string}, ...]\r\n * @param {String} orient `left|right|top|bottom`\r\n * @param {String} label 坐标刻度说明\r\n * @returns {void}\r\n */\t\r\nfunction d3SvgAxisNodes(context, data, orient, label) {\r\n\tvar axis = context.selectAll('g.axis-'+ orient).data([orient]);\r\n\taxis.enter().append('g').attr('class', 'axis axis-' + orient);\r\n\taxis.exit().remove();\r\n\r\n\tvar items = axis.selectAll('text').data(data);\r\n\titems.enter().append('text')\r\n\t.attr('x', function(d) {\r\n\t\treturn d.x;\r\n\t}).attr('y', function(d) {\r\n\t\treturn d.y;\r\n\t});\r\n\t\r\n\titems\r\n\t.attr('class', function(d) {\r\n\t\treturn d.hasOwnProperty('value') ? (d.value >= 0 ? 'tick-plus' : 'tick-minus') : 'tick-nums';\r\n\t})\r\n\t.style('text-anchor', function(d) {\r\n\t\treturn d.anchor;\r\n\t}).text(function(d) {\r\n\t\treturn d.tick;\r\n\t}).attr('transform', function(d) {\r\n\t\treturn 'translate('+ d.translate +')rotate('+ d.rotate +')';\r\n\t});\r\n\r\n\titems.exit().remove();\r\n}\r\n\r\n/**\r\n * Export `d3SvgAxisNodes`\r\n */\r\nmodule.exports = d3SvgAxisNodes;","'use strict';\r\n\r\nconst TEXT_POINTS = [\r\n\t{x: 0, y: -5, 'align': 'middle'}, \r\n\t{x: 8, y: 5, 'align': 'start'}, \r\n\t{x: 0, y: 15, 'align': 'middle'}, \r\n\t{x: -8, y: 5, 'align': 'end'}\r\n];\r\n\r\nfunction TipsPathData(size) {\r\n\tif(!size) {\r\n\t\treturn [];\r\n\t}\r\n\treturn [\r\n\t\t'M-'+(size / 2) +',0L'+ (size / 2) +',0L'+ (size / 2) +',-21L-'+ (size / 2) +',-21Z',\r\n\t\t'M0,0L 3,3L3,10L'+ (size + 3) +',10L'+ (size + 3) +',-10L3,-10L3,-3Z',\r\n\t\t'M-'+(size / 2) +',0L'+ (size / 2) +',0L'+ (size / 2) +',21L-'+ (size / 2) +',21Z',\r\n\t\t'M0,0L-3,-3L-3,-10L-'+(size + 3)+',-10L-'+(size + 3)+',10L-3,10L-3,3Z'\r\n\t];\r\n}\r\n\r\n/**\r\n * 刻度提示\r\n * @public\t \r\n * @method d3SvgAxisTips\r\n * @param {Document} context\r\n * @param {Array} data [{x: number, y: number, align: 'start|middle|end ', label: string}, ...]\r\n * @returns {void}\r\n */\t\r\nfunction d3SvgAxisTips(context, data) {\r\n\tvar tips = context.selectAll('g.tips-value').data(['tips-value']);\r\n\ttips.enter().append('g').attr('class', (d) => d);\r\n\r\n\ttips.exit().remove();\r\n\r\n\tvar items = tips.selectAll('path').data(data);\r\n\r\n\titems.enter().append('path');\r\n\r\n\r\n\titems.attr('d', function(d, i) {\r\n\t\treturn TipsPathData(d.size)[i];\r\n\t}).attr('transform', function(d) {\r\n\t\treturn 'translate('+ d.x +','+ d.y +')';\r\n\t});\r\n\r\n\titems.exit().remove();\r\n\r\n\tvar text = tips.selectAll('text').data(data);\r\n\r\n\ttext.enter().append('text').attr('x', function(d, i) {\r\n\t\treturn TEXT_POINTS[i].x;\r\n\t}).attr('y', function(d, i) {\r\n\t\treturn TEXT_POINTS[i].y;\r\n\t})\r\n\t.style('text-anchor', (d, i) => TEXT_POINTS[i].align);\r\n\r\n\ttext.text((d) => d.value).attr('transform', function(d) {\r\n\t\treturn 'translate('+ d.x +','+ d.y +')';\r\n\t});\r\n\r\n\ttext.exit().remove();\r\n}\r\n\r\n/**\r\n * Export `d3SvgAxisTips`\r\n */\r\nmodule.exports = d3SvgAxisTips;","'use strict';\r\nfunction d3SvgBrush(context, left, top, x, h, extent) {\r\n\tvar wrap = context.selectAll('g.brush').data(['brush']);\r\n\r\n\twrap.enter().append('g').attr('class', (d) => d);\r\n\r\n\twrap.attr('transform', function(d) {\r\n\t\treturn 'translate('+ 0 +', '+ top +')';\r\n\t})\r\n\r\n\twrap.exit().remove();\r\n\r\n\tvar brush = d3.svg.brush()\r\n\t.x(x)\r\n\t//.extent(extent)\r\n\t.on(\"brushstart\", function() {\r\n\t\tvar extent = brush.extent();\r\n\t\tvar start = Math.floor(extent[0]);\r\n\t\tvar stop = Math.floor(extent[1]);\r\n\t})\r\n\t.on(\"brushend\", function(d) {\r\n\t\tvar extent = brush.extent();\r\n\t\tvar start = Math.floor(extent[0]);\r\n\t\tvar stop = Math.floor(extent[1]);\r\n\r\n\t\tif(stop !== start) {\r\n\t\t\tconsole.log(stop, start);\r\n\t\t\t//chart.fire('brush-end', category[start], category[stop]);\r\n\t\t}\t\t\t\r\n\t})\r\n\t.on(\"brush\", function() {\r\n\t\tvar extent = brush.extent();\r\n\t\tvar start = Math.floor(extent[0]);\r\n\t\tvar stop = Math.floor(extent[1]);\r\n\t});\r\n\r\n\twrap.call(brush).selectAll('rect').attr('height', h);\r\n}\r\n\r\n/**\r\n * Export `d3SvgBrush`\r\n */\r\nmodule.exports = d3SvgBrush;","'use strict';\r\n\r\n/**\r\n * 图形说明\r\n * @public\t \r\n * @method d3SvgDesc\r\n * @param {Document} context\r\n * @param {String} desc\r\n * @returns {void}\r\n */\r\nfunction d3SvgDesc(context, desc) {\r\n\tvar describe = context.selectAll('desc.svg-desc').data([desc]);\r\n\r\n\tdescribe.enter().append('desc').attr('class', 'svg-desc').text((d) => d);\r\n\r\n\tdescribe.exit().remove();\r\n}\r\n\r\n/**\r\n * Export `d3SvgDesc`\r\n */\r\nmodule.exports = d3SvgDesc;","'use strict';\r\n\r\nfunction gridLineData(scaleX, scaleY) {\r\n\tvar rangeX = scaleX.range();\r\n\tvar ticksX = scaleX.ticks();\r\n\r\n\tvar rangeY = scaleY.range();\r\n\tvar ticksY = scaleY.ticks();\r\n\r\n\tvar result = [];\r\n\r\n\tif(Math.floor(scaleX(ticksX[0])) !== Math.floor(rangeX[0])) {\r\n\t\tresult.push({\r\n\t\t\tx: Math.floor(rangeX[0]) + 0.5,\r\n\t\t\ty: 0,\r\n\t\t\ty1: rangeY[0],\r\n\t\t\ty2: rangeY[1]\r\n\t\t});\r\n\t}\r\n\r\n\tticksX.forEach(function(d) {\r\n\t\tresult.push({\r\n\t\t\tx: scaleX(d) + 0.5,\r\n\t\t\ty: 0,\r\n\t\t\ty1: rangeY[0],\r\n\t\t\ty2: rangeY[1]\r\n\t\t});\r\n\t});\r\n\r\n\tif(Math.floor(scaleX(ticksX[ticksX.length - 1])) !== Math.floor(rangeX[1])) {\r\n\t\tresult.push({\r\n\t\t\tx: rangeX[1] + 0.5,\r\n\t\t\ty: 0,\r\n\t\t\ty1: rangeY[0],\r\n\t\t\ty2: rangeY[1]\r\n\t\t});\r\n\t}\r\n\r\n\tticksY.forEach(function(d, i) {\r\n\t\tresult.push({\r\n\t\t\tx: rangeX[0] - 1,\r\n\t\t\ty: scaleY(d) + 0.5,\r\n\t\t\tx1: 0,\r\n\t\t\tx2: rangeX[1] - rangeX[0] + 2,\r\n\t\t\tstyle: d === 0 ? 'graph-zero' : '' \r\n\t\t});\r\n\t});\r\n\r\n\treturn result;\r\n}\r\n\r\n/**\r\n * 图形网络线\r\n * @public\t \r\n * @method d3SvgGridLine\r\n * @param {Document} context\r\n * @param {Function} scaleX\r\n * @param {Function} scaleY \r\n * @returns {void}\r\n */\t\r\nfunction d3SvgGridLine(context, scaleX, scaleY, ticksX) {\r\n\tvar data = gridLineData(scaleX, scaleY);\r\n\r\n\tvar grid = context.selectAll('g.grid-line').data(['grid-line']);\r\n\r\n\tgrid.enter().append('g').attr('class', (d) => d);\r\n\r\n\tgrid.exit().remove();\r\n\r\n\tvar items = grid.selectAll('line').data(data);\r\n\r\n\titems.enter().append('line');\r\n\r\n\titems.attr('x1', (d) => d.x1)\r\n\t.attr('x2', (d) => d.x2)\r\n\t.attr('y1', (d) => d.y1)\r\n\t.attr('y2', (d) => d.y2)\r\n\t.attr('class', (d) => d.style)\r\n\t.attr('transform', (d) => 'translate('+ d.x +', '+ d.y +')');\r\n\r\n\titems.exit().remove();\r\n\r\n\treturn grid;\r\n}\r\n\r\n/**\r\n * Export `d3SvgGridLine`\r\n */\r\nmodule.exports = d3SvgGridLine;","'use strict';\r\n\r\n/**\r\n * 鼠标Hover事件\r\n * @public\t \r\n * @method d3SvgHover\r\n * @param {Document} context\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @param {Number} width \r\n * @param {Number} height \r\n * @returns {void}\r\n */\t\r\nfunction d3SvgHover(context, id, x, y, width, height) {\t\r\n\tvar rect = context.selectAll('rect.graph-hover').data([{name: 'graph-hover', left: x, top: y}]);\r\n\r\n\trect.enter().append('rect').attr('class', (d) => d.name).attr('id', id);\r\n\r\n\trect.attr('width', width)\r\n\t.attr('height', height)\r\n\t.attr('transform', function(d) {\r\n\t\treturn 'translate('+ d.left +','+ d.top +')';\r\n\t});\r\n\r\n\trect.exit().remove();\r\n\r\n\treturn rect;\r\n}\r\n/**\r\n * Export `d3SvgHover`\r\n */\r\nmodule.exports = d3SvgHover;","'use strict';\r\n\r\n/**\r\n * MarkerTips\r\n * @public\t \r\n * @method d3SvgMarkerTips\r\n * @param {Document} context\r\n * @param {Array} data [{left: number, top: number, label: string}]\r\n * @returns {void}\r\n */\t\r\nfunction d3SvgMarkerTips(context, data) {\t\r\n\tvar marker = context.selectAll('div.marker-tips').data(data);\r\n\r\n\tmarker.enter().append('div')\r\n\t.attr('class', 'marker-tips');\r\n\r\n\r\n\tmarker.style('left', function(d) {\r\n\t\treturn (d.left + 12) +'px';\r\n\t}).style('top', function(d) {\r\n\t\treturn (d.top - 10) +'px';\r\n\t}).html(function(d) {\r\n\t\treturn d.label;\r\n\t});\r\n\t\r\n\t/*marker.attr('transform', function(d) {\r\n\t\treturn 'translate('+d.left+', '+ d.top+')';\r\n\t}).html(function(d) {\r\n\t\treturn d.label;\r\n\t});*/\r\n\r\n\tmarker.exit().remove();\r\n\r\n\tvar icon = marker.selectAll('span.marker-icon').data(['marker-icon']);\r\n\ticon.enter().append('span').attr('class', 'marker-icon');\r\n\ticon.exit().remove();\r\n\t/*\r\n\t<div class=\"marker-tips\">\r\n\t\t\t<p>09:30:05.878</p>\r\n\t\t\t<p>笔数:1500</p>\r\n\t\t\t<p>笔数:1500</p>\r\n\t\t\t<span class=\"icon\"></span>\r\n\t\t</div>\r\n\t*/ \r\n}\r\n\r\n/**\r\n * Export `d3SvgMarkerTips`\r\n */\r\nmodule.exports = d3SvgMarkerTips;","'use strict';\r\n\r\n/**\r\n * 图形遮罩层\r\n * @public\t \r\n * @method d3SvgMask\r\n * @param {Document} context\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @param {Number} width \r\n * @param {Number} height \r\n * @returns {void}\r\n */\t\r\nfunction d3SvgMask(context, id, x, y, width, height) {\r\n\tvar defs = context.selectAll('defs').data(['defs']);\r\n\tdefs.enter().append('defs');\r\n\tdefs.exit().remove();\r\n\r\n\tvar mask = defs.selectAll('clipPath#'+ id).data([id]);\r\n\tmask.enter().append('clipPath').attr('id', id);\r\n\tmask.exit().remove();\r\n\r\n\tvar rect = mask.selectAll('rect.'+ id).data([id]);\r\n\trect.enter().append('rect').attr('class', id);\r\n\r\n\trect.attr('width', width)\r\n\t.attr('height', height)\r\n\t.attr('transform', function(d) {\r\n\t\treturn 'translate('+ x +','+ y +')';\r\n\t});\r\n\r\n\trect.exit().remove();\r\n}\r\n\r\n/**\r\n * Export `d3SvgMask`\r\n */\r\nmodule.exports = d3SvgMask;","'use strict';\r\n\r\n/**\r\n * 图形说明\r\n * @public\t \r\n * @method d3SvgMessage\r\n * @param {Document} context\r\n * @param {String} desc\r\n * @returns {void}\r\n */\r\nfunction d3SvgMessage(context, desc) {\r\n\tvar message = context.selectAll('text.svg-message').data([desc]);\r\n\r\n\tmessage.enter().append('text').attr('class', 'svg-message').attr('text-anchor', 'middle');\r\n\r\n\tmessage.attr('x', function(d) {\r\n\t\treturn d.x;\r\n\t}).attr('y', function(d) {\r\n\t\treturn d.y;\r\n\t}).text((d) => d.label);\r\n\r\n\tmessage.exit().remove();\r\n}\r\n\r\n/**\r\n * Export `d3SvgMessage`\r\n */\r\nmodule.exports = d3SvgMessage;","'use strict';\r\n\r\n/**\r\n * SVG画布\r\n * @public\t \r\n * @method d3SvgPaint\r\n * @param {String} id\r\n * @param {Document} domEl\r\n * @param {Number} width\r\n * @param {Number} height\r\n * @returns {Document:SVG}\r\n */\t\r\nfunction d3SvgPaint(context, id, width, height) {\r\n\tvar svg = context.selectAll('svg#svg-'+ id).data(['svg-'+id]);\r\n\r\n\tsvg.enter().append('svg').attr('id', (d) => d).attr('version', '1.1');\r\n\r\n\tsvg.attr('width', width).attr('height', height);\r\n\r\n\tsvg.exit().remove();\r\n\r\n\treturn svg;\r\n}\r\n\r\n/**\r\n * Export `d3SvgPaint`\r\n */\r\nmodule.exports = d3SvgPaint;","'use strict';\r\n\r\nvar CLASS_LIST = [\r\n\t'cursor-line-vertical', \r\n\t'cursor-line-horizontal'\r\n\t];\r\n\r\nvar CLASS_MAPS = CLASS_LIST.map((d) => 'line.' + d).join(',');\r\n\r\n/**\r\n * PointerEvents\r\n * @private\t \r\n * @method d3SvgPointerEvents\r\n * @param {Document} context\r\n * @param {Array} data \r\n * @returns {void}\r\n */\r\nfunction d3SvgPointerEvents(context, data) {\r\n\tvar pointer = context.selectAll('g.pointer-events').data(['pointer-events']);\r\n\tpointer.enter().append('g').attr('class', (d) => d);\r\n\tpointer.exit().remove();\r\n\r\n\tvar lines = pointer.selectAll(CLASS_MAPS).data(data);\r\n\tlines.enter().append('line').attr('class', (d, i) => {\r\n\t\treturn CLASS_LIST[i];\r\n\t});\r\n\r\n\tlines.attr('x1', function(d) {\r\n\t\treturn d.x1;\r\n\t}).attr('x2', function(d) {\r\n\t\treturn d.x2;\r\n\t}).attr('y1', function(d) {\r\n\t\treturn d.y1;\r\n\t}).attr('y2', function(d) {\r\n\t\treturn d.y2;\r\n\t}).attr('transform', function(d) {\r\n\t\treturn 'translate('+ d.x +', '+ d.y +')';\r\n\t});\r\n\t\r\n\tlines.exit().remove();\r\n}\r\n\r\n/**\r\n * Export `d3SvgPointerEvents`\r\n */\r\nmodule.exports = d3SvgPointerEvents;","'use strict';\r\n\r\n/**\r\n * 鼠标选区\r\n * @public\t \r\n * @method d3SvgHover\r\n * @param {Document} context\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @param {Number} width \r\n * @param {Number} height \r\n * @returns {void}\r\n */\t\r\nfunction d3SvgSelection(context, x, y, width, height) {\t\r\n\tvar rect = context.selectAll('rect.graph-selection').data(['graph-selection']);\r\n\r\n\trect.enter().append('rect').attr('class', (d) => d);\r\n\r\n\trect.attr('width', width)\r\n\t.attr('height', height)\r\n\t.attr('transform', function(d) {\r\n\t\treturn 'translate('+ x +','+ y +')';\r\n\t});\r\n\r\n\trect.exit().remove();\r\n\r\n\treturn rect;\r\n}\r\n/**\r\n * Export `d3SvgSelection`\r\n */\r\nmodule.exports = d3SvgSelection;","'use strict';\r\n\r\nvar utils = require('./../../core/utils');\r\nvar colors = require('./../../core/colors');\r\nvar dataset = require('./../../core/dataset');\r\n\r\nvar d3WidgetMask = require('./../../widget/d3WidgetMask');\r\nvar d3WidgetHover = require('./../../widget/d3WidgetHover');\r\nvar d3WidgetSelection = require('./../../widget/d3WidgetSelection');\r\nvar d3WidgetPaint = require('./../../widget/d3WidgetPaint');\r\nvar d3WidgetMarker = require('./../../widget/d3WidgetMarker');\r\nvar d3WidgetLine = require('./../../widget/d3WidgetLine');\r\nvar d3WidgetBrush = require('./../../widget/d3WidgetBrush');\r\nvar d3WidgetMessage = require('./../../widget/d3WidgetMessage');\r\nvar d3WidgetAxisTips = require('./../../widget/d3WidgetAxisTips');\r\nvar d3WidgetGridLine = require('./../../widget/d3WidgetGridLine');\r\nvar d3WidgetAxisNodes = require('./../../widget/d3WidgetAxisNodes');\r\nvar d3WidgetPointerEvents = require('./../../widget/d3WidgetPointerEvents');\r\n\r\nclass Brush {\r\n\tconstructor(options) {\r\n\t\tvar date = new Date();\r\n\t\tvar day = date.getFullYear() + '/' + (date.getMonth() + 1) + '/'+ date.getDate();\r\n\t\tvar scope = dataset(options, [[day + ' 9:30', -2],[day + ' 15:00', 2]]);\r\n\t\tscope.guid = utils.guid();\r\n\t\tscope.uid = 's-chart-el-'+ scope.guid;\r\n\t\tscope.progress = 0;\r\n\r\n\t\tfunction x(d, i) {\r\n\t\t\treturn scope.$Scale.get(2)(new Date(d[0]).getTime());\r\n\t\t}\r\n\r\n\t\tfunction y(d) {\r\n\t\t\treturn scope.$Scale.get(3)(d[1]);\r\n\t\t}\r\n\r\n\t\tfunction defined(d) {\r\n\t\t\treturn !isNaN(d[1]);\r\n\t\t}\r\n\r\n\t\tvar context = d3WidgetPaint(options.id, scope.width, scope.height, scope)\r\n\t\t.call(d3WidgetMask(scope))\r\n\t\t//.call(d3WidgetPointerEvents(scope))\r\n\t\t.call(d3WidgetGridLine(scope), function() {\r\n\t\t\treturn scope.$Scale.get(2);\r\n\t\t}, function() {\r\n\t\t\treturn scope.$Scale.get(3);\r\n\t\t})\r\n\t\t.call(d3WidgetAxisNodes(scope))\r\n\t\t//.call(d3WidgetAxisTips(scope))\r\n\t\t.call(d3WidgetMessage(scope))\r\n\t\t.call(d3WidgetLine(scope), scope.uid, x, y, defined, true)\r\n\t\t.call(d3WidgetBrush(scope), scope.$Scale.get(2), null)\r\n\t\t//.call(d3WidgetSelection(scope))\r\n\t\t//.call(d3WidgetHover(scope));\r\n\r\n\t\tthis.$WATCHER = scope;\r\n\t}\r\n\r\n\tprogress(x) {\r\n\t\tthis.$WATCHER.progress = x;\r\n\t}\r\n\r\n\tmouse(x) {\r\n\t\t//console.log(\"Brush\",this.$WATCHER.mouse);\r\n\t\t//this.$WATCHER.$EVENT_HOVER = x;\r\n\t}\r\n\r\n\trender(data) {\r\n\t\tthis.$WATCHER.LINE_DATA = data;\r\n\t}\r\n}\r\n\r\n\r\n/**\r\n * Export `chart.Brush`\r\n */\r\nmodule.exports = Brush;","'use strict';\r\n\r\nvar utils = require('./../../core/utils');\r\nvar colors = require('./../../core/colors');\r\nvar dataset = require('./../../core/dataset');\r\nvar resizable = require('./../../core/resizable');\r\n\r\nvar d3WidgetMask = require('./../../widget/d3WidgetMask');\r\nvar d3WidgetRect = require('./../../widget/d3WidgetRect');\r\nvar d3WidgetHover = require('./../../widget/d3WidgetHover');\r\nvar d3WidgetSelection = require('./../../widget/d3WidgetSelection');\r\nvar d3WidgetPaint = require('./../../widget/d3WidgetPaint');\r\nvar d3WidgetMarker = require('./../../widget/d3WidgetMarker');\r\nvar d3WidgetPath = require('./../../widget/d3WidgetPath');\r\nvar d3WidgetCandlestick = require('./../../widget/d3WidgetCandlestick');\r\nvar d3WidgetMessage = require('./../../widget/d3WidgetMessage');\r\nvar d3WidgetAxisTips = require('./../../widget/d3WidgetAxisTips');\r\nvar d3WidgetGridLine = require('./../../widget/d3WidgetGridLine');\r\nvar d3WidgetMarkerTips = require('./../../widget/d3WidgetMarkerTips');\r\nvar d3WidgetAxisNodes = require('./../../widget/d3WidgetAxisNodes');\r\nvar d3WidgetPointerEvents = require('./../../widget/d3WidgetPointerEvents');\r\n\r\nclass Candlestick {\r\n\tconstructor(options) {\r\n\r\n\t\tvar date = new Date();\r\n\t\tvar day = date.getFullYear() + '/' + (date.getMonth() + 1) + '/'+ date.getDate();\r\n\r\n\t\tif(options.width === '100%') {\r\n\t\t\tif(options.domEl) {\r\n\t\t\t\toptions.width = options.domEl.offsetWidth;\r\n\t\t\t} else {\r\n\t\t\t\toptions.width = document.getElementById(options.id).offsetWidth;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar scope = dataset(options, [[day + \" 9:30\", 4, 2, 1, 3], [day + \" 15:00\", 4, 2, 1, 3]]);\r\n\r\n\t\tscope.guid = utils.guid();\r\n\r\n\t\tscope.uid = 's-chart-el-'+ scope.guid;\r\n\r\n\t\tscope.progress = 0;\r\n\r\n\t\tresizable.$watch('resize', function() {\r\n\t\t\tif(options.domEl) {\r\n\t\t\t\tscope.width = options.domEl.offsetWidth;\r\n\t\t\t\tscope.resizable = [scope.width, scope.height];\r\n\t\t\t} else {\r\n\t\t\t\tscope.width = document.getElementById(options.id).offsetWidth;\r\n\t\t\t\tscope.resizable = [scope.width, scope.height];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tfunction x(d, i) {\r\n\t\t\tvar size = (scope.$DATA_STORAGE || []).length;\r\n\r\n\t\t\tvar band = 0;\r\n\t\t\tif(size) {\r\n\t\t\t\tband = Math.floor((scope.width - scope.$Layout.LEFT_VALUE - scope.$Layout.RIGHT_VALUE) / size);\r\n\t\t\t\tband = band > 3 ? (band > 20 ? 20 : band) : 3;\r\n\t\t\t}\r\n\t\t\treturn scope.$Scale.get(2)(new Date(d[0]).getTime()) - Math.floor(band * 0.45) + 1;\r\n\t\t}\r\n\r\n\t\tfunction y(d) {\r\n\t\t\treturn scope.$Scale.get(3)(d);\r\n\t\t}\r\n\r\n\t\tfunction markerY(d) {\r\n\t\t\treturn scope.$Scale.get(3)(d[1])\r\n\t\t}\r\n\r\n\t\tfunction lineY(d) {\r\n\t\t\treturn scope.$Scale.get(3)(d[1])\r\n\t\t}\r\n\r\n\t\tfunction w(d) {\r\n\t\t\tvar size = (scope.$DATA_STORAGE || []).length;\r\n\r\n\t\t\tif(size) {\r\n\t\t\t\tvar band = Math.floor((scope.width - scope.$Layout.LEFT_VALUE - scope.$Layout.RIGHT_VALUE) / size);\r\n\t\t\t\tband = band > 20 ? 20 : band;\r\n\t\t\t\tband = Math.floor(band * 0.9) - Math.floor(band * 0.9) % 2 - 2;\r\n\t\t\t\treturn band > 3 ? band : 3;\r\n\t\t\t}\r\n\t\t\treturn 1;\r\n\t\t}\r\n\r\n\t\tfunction h(d) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\r\n\t\tfunction defined(d) {\r\n\t\t\treturn !isNaN(d[1]);\r\n\t\t}\r\n\r\n\t\t//this['_tooltips_'] = d3.select('#' + options.id).append('div').attr('class', 'chart-tooltips');\r\n\r\n\t\tthis[0] = d3WidgetPaint(options.id, scope.width, scope.height, scope)\r\n\t\t.call(d3WidgetMask(scope))\t\t\r\n\t\t.call(d3WidgetPointerEvents(scope))\r\n\t\t.call(d3WidgetGridLine(scope), function() {\r\n\t\t\treturn scope.$Scale.get(2);\r\n\t\t}, function() {\r\n\t\t\treturn scope.$Scale.get(3);\r\n\t\t})\r\n\t\t.call(d3WidgetAxisNodes(scope))\r\n\t\t.call(d3WidgetAxisTips(scope))\r\n\t\t.call(d3WidgetMessage(scope))\r\n\t\t.call(d3WidgetCandlestick(scope), x, y, w, h)\r\n\t\t.call(d3WidgetPath(scope), scope.uid, x, lineY, defined, true)\r\n\t\t.call(d3WidgetSelection(scope))\r\n\t\t.call(d3WidgetHover(scope))\r\n\t\t.call(d3WidgetMarker(scope), x, markerY, function(d) {\r\n\t\t\treturn d[2] === 'S' ? 'minus' : 'plus';\r\n\t\t});\r\n\r\n\t\tvar wrapper = d3.select('#' + options.id);\r\n\r\n\t\twrapper.call(d3WidgetMarkerTips(scope));\r\n\r\n\t\tvar tips = wrapper.append('div').attr('class', 'chart-tooltips');\r\n\r\n\t\tscope.element_tips = {\r\n\t\t\tleft: options.left,\r\n\t\t\tright:options.right,\r\n\t\t\ttips: tips,\r\n\t\t\tlabel: options.tooltips\r\n\t\t};\r\n\r\n\t\tthis.$WATCHER = scope;\r\n\t}\r\n\r\n\tprogress(x) {\r\n\t\tthis.$WATCHER.progress = x;\r\n\t}\r\n\r\n\tmouse(layers) {\r\n\t\tvar layerX = layers[0];\r\n\t\tvar layerY = layers[1];\r\n\t\tvar $WATCHER = this.$WATCHER;\r\n\t\tvar $Layout = $WATCHER.$Layout;\r\n\t\tvar $Config = $WATCHER.$Config;\r\n\t\tvar LEFT_VALUE = $Layout.LEFT_VALUE;\r\n\r\n\t\tvar x = layerX - LEFT_VALUE;\r\n\r\n\t\tif($WATCHER.guid !== layers[2]) {\r\n\t\t\tlayerY = -9999;\r\n\t\t}\r\n\r\n\t\tvar tips = $WATCHER.element_tips.tips.node();\r\n\r\n\t\tif(x > 0) {\r\n\t\t\ttry{\r\n\t\t\t\tvar index = $WATCHER.$Scale.get(2).parse(x, $WATCHER.CANDLESTICK_DATA.length);\r\n\t\t\t\tvar data = $WATCHER.CANDLESTICK_DATA[index];\r\n\t\t\t\tvar label = data[0];\r\n\r\n\t\t\t\t$WATCHER.$EVENT_HOVER = [$WATCHER.$Scale.get(2)(label), layerY];\r\n\r\n\t\t\t\t$WATCHER.$AXIS_TIPS = $WATCHER.$Extents.map(function(extent, index) {\r\n\t\t\t\t\treturn index === 2 ? label : extent;\r\n\t\t\t\t});\r\n\r\n\t\t\t\t\r\n\t\t\t\ttips.removeAttribute('style');\r\n\t\t\t\ttips.style.display = 'block';\r\n\t\t\t\tif(x > $WATCHER.width / 2) {\r\n\t\t\t\t\ttips.style.left = $WATCHER.element_tips.left + 'px';\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttips.style.right = $WATCHER.element_tips.right + 'px';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(typeof $WATCHER.element_tips.label === 'function') {\r\n\t\t\t\t\ttips.innerHTML =  $WATCHER.element_tips.label(data)\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttips.innerHTML = data.join('<br>');\r\n\t\t\t\t}\r\n\r\n\t\t\t} catch(e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t$WATCHER.$EVENT_TIPS = {x: -9999, y: -9999, data:[null, null, null, null]};\r\n\t\t\t$WATCHER.$EVENT_HOVER = layers;\r\n\t\t\ttips.style.display = 'none';\r\n\t\t}\r\n\t}\r\n\r\n\tpinch(params) {\r\n\t\tconsole.log(params);\r\n\t\t//var $WATCHER = this.$WATCHER;\r\n\t\t//$WATCHER.CANDLESTICK_DATA;\r\n\t\t//console.log($WATCHER.$Scale.get(3));\r\n\r\n\t}\r\n\r\n\twatch(name, callback) {\r\n\t\tvar $WATCHER = this.$WATCHER;\t\t\r\n\r\n\t\t$WATCHER.$watch('$CURRENT_' + name.toLocaleUpperCase(), function(data) {\r\n\t\t\tif(typeof callback === 'function') {\r\n\t\t\t\tcallback($WATCHER.$CURRENT_MARKER);\r\n\t\t\t}\r\n\t\t});\t\t\r\n\t}\r\n\r\n\ton(name, callback) {\r\n\t\tvar $WATCHER = this.$WATCHER;\r\n\t\tvar element = this[0].node().querySelector('g.graph-'+ name.toLocaleLowerCase());\r\n\t\tif(element) {\r\n\t\t\telement.onclick = function(event) {\r\n\t\t\t\tvar tips = event.target.__data__;\r\n\t\t\t\tvar label = callback(tips);\r\n\t\t\t\t$WATCHER.MARKER_ACTIVE = [{\r\n\t\t\t\t\ttop: $WATCHER.$Scale.get(3)(tips[1]),\r\n\t\t\t\t\tleft: $WATCHER.$Scale.get(2)(tips[0]),\r\n\t\t\t\t\tlabel: label\r\n\t\t\t\t}];\r\n\t\t\t};\r\n\t\t};\r\n\r\n\t\tthis[0].select('rect.graph-hover').on('click', function() {\r\n\t\t\t$WATCHER.MARKER_ACTIVE = [{left: -9999, top: -9999}];\r\n\t\t});\r\n\t}\r\n\r\n\tconverge(callback) {\r\n\t\tthis.DATA_FILTER = callback;\r\n\t}\r\n\r\n\trender(dataset) {\r\n\t\tvar $WATCHER = this.$WATCHER;\r\n\t\tvar $Layout = $WATCHER.$Layout;\r\n\t\tvar LEFT_VALUE  = $Layout.LEFT_VALUE;\r\n\t\tvar RIGHT_VALUE = $Layout.RIGHT_VALUE;\r\n\r\n\t\tvar width = $WATCHER.width - LEFT_VALUE - RIGHT_VALUE;\r\n\r\n\t\tvar data = dataset.candlestick || dataset;\r\n\t\tvar start = data[0];\r\n\t\tvar last = data[data.length - 1];\r\n\r\n\t\tvar startTime = new Date(start[0]);\r\n\t\tvar lastTime = new Date(last[0]);\r\n\r\n\t\tvar excludeStart = new Date(last[0]);\r\n\t\texcludeStart.setHours('11');\r\n\t\texcludeStart.setMinutes('30');\r\n\t\texcludeStart.setSeconds('00');\r\n\r\n\t\tvar excludeStop = new Date(last[0]);\r\n\t\texcludeStop.setHours('13');\r\n\t\texcludeStop.setMinutes('00');\r\n\t\texcludeStop.setSeconds('00');\r\n\r\n\t\tvar filter;\r\n\t\tif(startTime.getTime() >= excludeStop.getTime() || lastTime.getTime() <= excludeStart.getTime()) {\r\n\t\t\tfilter = utils.gather(width, (lastTime.getTime() - startTime.getTime()) / 1000);\r\n\t\t} else {\r\n\t\t\tfilter = utils.gather(width, (lastTime.getTime() - startTime.getTime() - 1.5 * 60 * 60 * 1000) / 1000);\r\n\t\t}\t\t\r\n\r\n\t\t$WATCHER.DATA_GS = filter.gs;\r\n\r\n\t\t$WATCHER.CANDLESTICK_DATA = filter(data, this.DATA_FILTER || function(d) {return d[d.length - 1]});\r\n\t\t/*$WATCHER.MARKER_DATA = (dataset.marker || []).map(function(d) {\r\n\r\n\t\t\treturn [new Date(d[0]).getTime(), + d[1], d[2], d[3]];\r\n\t\t});*/\r\n\t\t$WATCHER.MARKER_DATA = (dataset.marker || []);\r\n\t\t$WATCHER.PATH_DATA = dataset.line || [];\r\n\t}\r\n}\r\n\r\n\r\n/**\r\n * Export `chart.Candlestick`\r\n */\r\nmodule.exports = Candlestick;","'use strict';\r\n\r\nvar utils = require('./../../core/utils');\r\nvar colors = require('./../../core/colors');\r\nvar dataset = require('./../../core/dataset');\r\nvar resizable = require('./../../core/resizable');\r\n\r\nvar d3WidgetMask = require('./../../widget/d3WidgetMask');\r\nvar d3WidgetRect = require('./../../widget/d3WidgetRect');\r\nvar d3WidgetHover = require('./../../widget/d3WidgetHover');\r\nvar d3WidgetSelection = require('./../../widget/d3WidgetSelection');\r\nvar d3WidgetPaint = require('./../../widget/d3WidgetPaint');\r\nvar d3WidgetMarker = require('./../../widget/d3WidgetMarker');\r\nvar d3WidgetLine = require('./../../widget/d3WidgetLine');\r\nvar d3WidgetMessage = require('./../../widget/d3WidgetMessage');\r\nvar d3WidgetAxisTips = require('./../../widget/d3WidgetAxisTips');\r\nvar d3WidgetGridLine = require('./../../widget/d3WidgetGridLine');\r\nvar d3WidgetAxisNodes = require('./../../widget/d3WidgetAxisNodes');\r\nvar d3WidgetMarkerTips = require('./../../widget/d3WidgetMarkerTips');\r\nvar d3WidgetPointerEvents = require('./../../widget/d3WidgetPointerEvents');\r\n\r\nclass TimeSeries {\r\n\tconstructor(options) {\r\n\t\tvar date = new Date();\r\n\t\tvar day = date.getFullYear() + '/' + (date.getMonth() + 1) + '/'+ date.getDate();\r\n\r\n\t\tif(options.width === '100%') {\r\n\t\t\tif(options.domEl) {\r\n\t\t\t\toptions.width = options.domEl.offsetWidth;\r\n\t\t\t} else {\r\n\t\t\t\toptions.width = document.getElementById(options.id).offsetWidth;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar scope = dataset(options, [[day + ' 9:30', -2],[day + ' 15:00', 2]]);\r\n\t\tscope.guid = utils.guid();\r\n\t\tscope.uid = 's-chart-el-'+ scope.guid;\r\n\t\tscope.progress = 0;\r\n\r\n\t\tresizable.$watch('resize', function() {\r\n\t\t\tif(options.domEl) {\r\n\t\t\t\tscope.width = options.domEl.offsetWidth;\r\n\t\t\t\tscope.resizable = [scope.width, scope.height];\r\n\t\t\t} else {\r\n\t\t\t\tscope.width = document.getElementById(options.id).offsetWidth;\r\n\t\t\t\tscope.resizable = [scope.width, scope.height];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tfunction x(d, i) {\r\n\t\t\treturn scope.$Scale.get(2)(new Date(d[0]).getTime());\r\n\t\t}\r\n\r\n\t\tfunction y(d) {\r\n\t\t\treturn scope.$Scale.get(3)(d[1]);\r\n\t\t}\r\n\r\n\t\tfunction markerY(d) {\r\n\t\t\treturn scope.$Scale.get(3)(d[1])\r\n\t\t}\r\n\r\n\t\tfunction defined(d) {\r\n\t\t\treturn !isNaN(d[1]);\r\n\t\t}\r\n\r\n\t\tthis[0] = d3WidgetPaint(options.id, scope.width, scope.height, scope)\r\n\t\t.call(d3WidgetMask(scope))\r\n\t\t.call(d3WidgetPointerEvents(scope))\r\n\t\t.call(d3WidgetGridLine(scope), function() {\r\n\t\t\treturn scope.$Scale.get(2);\r\n\t\t}, function() {\r\n\t\t\treturn scope.$Scale.get(3);\r\n\t\t})\r\n\t\t.call(d3WidgetAxisNodes(scope))\r\n\t\t.call(d3WidgetAxisTips(scope))\r\n\t\t.call(d3WidgetMessage(scope))\r\n\t\t.call(d3WidgetLine(scope), options.id, scope.uid, x, y, defined, true)\r\n\t\t.call(d3WidgetSelection(scope))\r\n\t\t.call(d3WidgetHover(scope))\r\n\t\t.call(d3WidgetMarker(scope), x, markerY, function(d) {\r\n\t\t\treturn d[2] === 'S' ? 'minus' : 'plus';\r\n\t\t});\r\n\r\n\t\tvar wrapper = d3.select('#' + options.id);\r\n\r\n\t\twrapper.call(d3WidgetMarkerTips(scope));\r\n\r\n\t\tvar tips = wrapper.append('div').attr('class', 'chart-tooltips');\r\n\r\n\t\tscope.element_tips = {\r\n\t\t\tleft: options.left,\r\n\t\t\tright:options.right,\r\n\t\t\ttips: tips,\r\n\t\t\tlabel: options.tooltips\r\n\t\t};\r\n\r\n\r\n\t\tthis.$WATCHER = scope;\r\n\t}\r\n\r\n\tprogress(x) {\r\n\t\tthis.$WATCHER.progress = x;\r\n\t}\r\n\r\n\tmouse(layers) {\r\n\t\tvar layerX = layers[0];\r\n\t\tvar layerY = layers[1];\r\n\t\tvar $WATCHER = this.$WATCHER;\r\n\t\tvar $Layout = $WATCHER.$Layout;\r\n\t\tvar $Config = $WATCHER.$Config;\r\n\t\tvar LEFT_VALUE = $Layout.LEFT_VALUE;\r\n\r\n\t\tvar x = layerX - LEFT_VALUE;\r\n\r\n\t\tif($WATCHER.guid !== layers[2]) {\r\n\t\t\tlayerY = -9999;\r\n\t\t}\r\n\r\n\t\tvar tips = $WATCHER.element_tips.tips.node();\r\n\r\n\t\tif(x > 0) {\r\n\t\t\tvar index = $WATCHER.$Scale.get(2).parse(x, $WATCHER.LINE_DATA.length);\r\n\t\t\tvar data = $WATCHER.LINE_DATA[index];\r\n\t\t\tvar label = data[0];\r\n\r\n\t\t\t$WATCHER.$EVENT_HOVER = [$WATCHER.$Scale.get(2)(label), layerY];\r\n\r\n\t\t\t$WATCHER.$AXIS_TIPS = $WATCHER.$Extents.map(function(extent, index) {\r\n\t\t\t\treturn index === 2 ? label : extent;\r\n\t\t\t});\r\n\r\n\t\t\ttips.removeAttribute('style');\r\n\t\t\ttips.style.display = 'block';\r\n\t\t\tif(x > $WATCHER.width / 2) {\r\n\t\t\t\ttips.style.left = $WATCHER.element_tips.left + 'px';\r\n\t\t\t} else {\r\n\t\t\t\ttips.style.right = $WATCHER.element_tips.right + 'px';\r\n\t\t\t}\r\n\r\n\t\t\tif(typeof $WATCHER.element_tips.label === 'function') {\r\n\t\t\t\ttips.innerHTML =  $WATCHER.element_tips.label(data)\r\n\t\t\t} else {\r\n\t\t\t\ttips.innerHTML = data.join('<br>');\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\t$WATCHER.$EVENT_TIPS = {x: -9999, y: -9999, data:[null, null, null, null]};\r\n\t\t\t$WATCHER.$EVENT_HOVER = layers;\r\n\t\t\ttips.style.display = 'none';\r\n\t\t}\r\n\t}\r\n\r\n\twatch(name, callback) {\r\n\t\tvar $WATCHER = this.$WATCHER;\t\t\r\n\r\n\t\t$WATCHER.$watch('$CURRENT_' + name.toLocaleUpperCase(), function(data) {\r\n\t\t\tif(typeof callback === 'function') {\r\n\t\t\t\tcallback($WATCHER.$CURRENT_MARKER);\r\n\t\t\t}\r\n\t\t});\t\t\r\n\t}\r\n\r\n\ton(name, callback) {\r\n\t\tvar $WATCHER = this.$WATCHER;\r\n\t\tvar element = this[0].node().querySelector('g.graph-'+ name.toLocaleLowerCase());\r\n\t\tif(element) {\r\n\t\t\telement.onclick = function(event) {\r\n\t\t\t\tvar tips = event.target.__data__;\r\n\t\t\t\tvar label = callback(tips);\r\n\t\t\t\t$WATCHER.MARKER_ACTIVE = [{\r\n\t\t\t\t\ttop: $WATCHER.$Scale.get(3)(tips[1]),\r\n\t\t\t\t\tleft: $WATCHER.$Scale.get(2)(tips[0]),\r\n\t\t\t\t\tlabel: label\r\n\t\t\t\t}];\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis[0].select('rect.graph-hover').on('click', function() {\r\n\t\t\t$WATCHER.MARKER_ACTIVE = [{left: -9999, top: -9999}];\r\n\t\t});\r\n\t}\r\n\r\n\tconverge(callback) {\r\n\t\tthis.DATA_FILTER = callback;\r\n\t}\r\n\r\n\trender(dataset) {\r\n\r\n\t\tvar $WATCHER = this.$WATCHER;\r\n\t\tvar $Layout = $WATCHER.$Layout;\r\n\t\tvar LEFT_VALUE  = $Layout.LEFT_VALUE;\r\n\t\tvar RIGHT_VALUE = $Layout.RIGHT_VALUE;\r\n\r\n\t\tvar width = $WATCHER.width - LEFT_VALUE - RIGHT_VALUE;\r\n\r\n\t\tvar data = dataset.line || dataset;\r\n\t\tvar start = data[0];\r\n\t\tvar last = data[data.length - 1];\r\n\r\n\t\tvar startTime = new Date(start[0]);\r\n\t\tvar lastTime = new Date(last[0]);\r\n\r\n\t\tvar excludeStart = new Date(last[0]);\r\n\t\texcludeStart.setHours('11');\r\n\t\texcludeStart.setMinutes('30');\r\n\t\texcludeStart.setSeconds('00');\r\n\r\n\t\tvar excludeStop = new Date(last[0]);\r\n\t\texcludeStop.setHours('13');\r\n\t\texcludeStop.setMinutes('00');\r\n\t\texcludeStop.setSeconds('00');\r\n\r\n\t\tvar filter;\r\n\t\tif(startTime.getTime() >= excludeStop.getTime() || lastTime.getTime() <= excludeStart.getTime()) {\r\n\t\t\tfilter = utils.gather(width, (lastTime.getTime() - startTime.getTime()) / 1000);\r\n\t\t} else {\r\n\t\t\tfilter = utils.gather(width, (lastTime.getTime() - startTime.getTime() - 1.5 * 60 * 60 * 1000) / 1000);\r\n\t\t}\t\t\r\n\r\n\t\t$WATCHER.DATA_GS = filter.gs;\r\n\r\n\t\t$WATCHER.LINE_DATA = filter(data, this.DATA_FILTER || function(d) {return d[d.length - 1]});\r\n\r\n\t\t$WATCHER.MARKER_DATA = (dataset.marker || []);\r\n\t}\r\n\r\n\r\n\r\n}\r\n\r\n\r\n/**\r\n * Export `chart.TimeSeries`\r\n */\r\nmodule.exports = TimeSeries;","'use strict';\r\n\r\nvar utils = require('./../../core/utils');\r\nvar colors = require('./../../core/colors');\r\nvar dataset = require('./../../core/dataset');\r\nvar resizable = require('./../../core/resizable');\r\n\r\nvar d3WidgetMask = require('./../../widget/d3WidgetMask');\r\nvar d3WidgetRect = require('./../../widget/d3WidgetRect');\r\nvar d3WidgetHover = require('./../../widget/d3WidgetHover');\r\nvar d3WidgetSelection = require('./../../widget/d3WidgetSelection');\r\nvar d3WidgetPaint = require('./../../widget/d3WidgetPaint');\r\nvar d3WidgetMarker = require('./../../widget/d3WidgetMarker');\r\nvar d3WidgetMessage = require('./../../widget/d3WidgetMessage');\r\nvar d3WidgetAxisTips = require('./../../widget/d3WidgetAxisTips');\r\nvar d3WidgetGridLine = require('./../../widget/d3WidgetGridLine');\r\nvar d3WidgetAxisNodes = require('./../../widget/d3WidgetAxisNodes');\r\nvar d3WidgetPointerEvents = require('./../../widget/d3WidgetPointerEvents');\r\n\r\nclass Volume {\r\n\tconstructor(options) {\r\n\t\tvar date = new Date();\r\n\t\tvar day = date.getFullYear() + '/' + (date.getMonth() + 1) + '/'+ date.getDate();\r\n\r\n\t\tif(options.width === '100%') {\r\n\t\t\tif(options.domEl) {\r\n\t\t\t\toptions.width = options.domEl.offsetWidth;\r\n\t\t\t} else {\r\n\t\t\t\toptions.width = document.getElementById(options.id).offsetWidth;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar scope = dataset(options, [[day + ' 9:30', -2],[day + ' 15:00', 2]]);\r\n\t\tscope.guid = utils.guid();\r\n\t\tscope.uid = 's-chart-el-'+ scope.guid;\r\n\t\tscope.progress = 0;\r\n\r\n\t\tresizable.$watch('resize', function() {\r\n\t\t\tif(options.domEl) {\r\n\t\t\t\tscope.width = options.domEl.offsetWidth;\r\n\t\t\t\tscope.resizable = [scope.width, scope.height];\r\n\t\t\t} else {\r\n\t\t\t\tscope.width = document.getElementById(options.id).offsetWidth;\r\n\t\t\t\tscope.resizable = [scope.width, scope.height];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tfunction x(d, i) {\r\n\t\t\tvar size = (scope.RECT_DATA || []).length;\r\n\t\t\tvar band = 1;\r\n\t\t\tif(size) {\r\n\t\t\t\tband = Math.floor((scope.width - scope.$Layout.LEFT_VALUE - scope.$Layout.RIGHT_VALUE) / size);\r\n\t\t\t\tband = band > 20 ? 20 : band;\r\n\t\t\t}\r\n\t\t\treturn scope.$Scale.get(2)(new Date(d[0]).getTime()) - Math.floor(band * 0.45) + 1;\r\n\t\t}\r\n\r\n\t\tfunction y(d) {\r\n\t\t\treturn scope.$Scale.get(3)(d[1]);\r\n\t\t}\r\n\r\n\t\tfunction w(d) {\r\n\t\t\tvar size = (scope.RECT_DATA || []).length;\r\n\t\t\tif(size) {\r\n\t\t\t\tvar band = Math.floor((scope.width - scope.$Layout.LEFT_VALUE - scope.$Layout.RIGHT_VALUE) / size);\r\n\t\t\t\tband = band > 20 ? 20 : band;\r\n\t\t\t\tband = Math.floor(band * 0.9) - Math.floor(band * 0.9) % 2 - 2;\r\n\t\t\t\treturn band > 3 ? band : 3;\r\n\t\t\t}\r\n\t\t\treturn 1;\r\n\t\t}\r\n\r\n\t\tfunction h(d) {\r\n\t\t\treturn scope.height - scope.$Layout.BOTTOM_VALUE - scope.$Scale.get(3)(d[1]);\r\n\t\t}\r\n\t\t\r\n\t\tfunction style(d) {\r\n\t\t\treturn d[2];\r\n\t\t}\r\n\r\n\t\tvar context = d3WidgetPaint(options.id, scope.width, scope.height, scope)\r\n\t\t.call(d3WidgetMask(scope))\r\n\t\t.call(d3WidgetPointerEvents(scope))\r\n\t\t.call(d3WidgetGridLine(scope), function() {\r\n\t\t\treturn scope.$Scale.get(2);\r\n\t\t}, function() {\r\n\t\t\treturn scope.$Scale.get(3);\r\n\t\t})\r\n\t\t.call(d3WidgetAxisNodes(scope))\r\n\t\t.call(d3WidgetAxisTips(scope))\r\n\t\t.call(d3WidgetMessage(scope))\r\n\t\t.call(d3WidgetRect(scope), x, y, w, h, style)\r\n\t\t.call(d3WidgetHover(scope));\r\n\r\n\t\tvar tips = d3.select('#' + options.id).append('div').attr('class', 'chart-tooltips');\r\n\r\n\t\tscope.element_tips = {\r\n\t\t\tleft: options.left,\r\n\t\t\tright:options.right,\r\n\t\t\ttips: tips,\r\n\t\t\tlabel: options.tooltips\r\n\t\t};\r\n\r\n\t\tthis.$WATCHER = scope;\r\n\t}\r\n\r\n\tprogress(x) {\r\n\t\tthis.$WATCHER.progress = x;\r\n\t}\r\n\r\n\tmouse(layers) {\r\n\t\tvar layerX = layers[0];\r\n\t\tvar layerY = layers[1];\r\n\t\tvar $WATCHER = this.$WATCHER;\r\n\t\tvar $Layout = $WATCHER.$Layout;\r\n\t\tvar $Config = $WATCHER.$Config;\r\n\t\tvar LEFT_VALUE = $Layout.LEFT_VALUE;\r\n\r\n\t\tvar x = layerX - LEFT_VALUE;\r\n\r\n\t\tif($WATCHER.guid !== layers[2]) {\r\n\t\t\tlayerY = -9999;\r\n\t\t}\r\n\r\n\t\tvar tips = $WATCHER.element_tips.tips.node();\r\n\r\n\t\tif(x > 0) {\r\n\t\t\tvar index = $WATCHER.$Scale.get(2).parse(x, $WATCHER.RECT_DATA.length);\r\n\t\t\tvar data = $WATCHER.RECT_DATA[index];\r\n\t\t\tvar label = $WATCHER.RECT_DATA[index][0];\r\n\r\n\t\t\t$WATCHER.$EVENT_HOVER = [$WATCHER.$Scale.get(2)(label), layerY];\r\n\r\n\t\t\t$WATCHER.$AXIS_TIPS = $WATCHER.$Extents.map(function(extent, index) {\r\n\t\t\t\treturn index === 2 ? label : extent;\r\n\t\t\t});\r\n\r\n\t\t\ttips.removeAttribute('style');\r\n\t\t\ttips.style.display = 'block';\r\n\t\t\tif(x > $WATCHER.width / 2) {\r\n\t\t\t\ttips.style.left = $WATCHER.element_tips.left + 'px';\r\n\t\t\t} else {\r\n\t\t\t\ttips.style.right = $WATCHER.element_tips.right + 'px';\r\n\t\t\t}\r\n\r\n\t\t\tif(typeof $WATCHER.element_tips.label === 'function') {\r\n\t\t\t\ttips.innerHTML =  $WATCHER.element_tips.label(data)\r\n\t\t\t} else {\r\n\t\t\t\ttips.innerHTML = data.join('<br>');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t$WATCHER.$EVENT_TIPS = {x: -9999, y: -9999, data:[null, null, null, null]};\r\n\t\t\t$WATCHER.$EVENT_HOVER = layers;\r\n\t\t\ttips.style.display = 'none';\r\n\t\t}\r\n\t}\r\n\r\n\trender(dataset) {\r\n\r\n\t\tvar $WATCHER = this.$WATCHER;\r\n\t\tvar $Layout = $WATCHER.$Layout;\r\n\t\tvar LEFT_VALUE  = $Layout.LEFT_VALUE;\r\n\t\tvar RIGHT_VALUE = $Layout.RIGHT_VALUE;\r\n\r\n\t\tvar width = $WATCHER.width - LEFT_VALUE - RIGHT_VALUE;\r\n\r\n\t\t/*var dataset = data.map(function(d) {\r\n\t\t\treturn [new Date(d[0]).getTime(), +d[1], d[2]]\r\n\t\t});*/\r\n\t\tvar start = dataset[0];\r\n\t\tvar last = dataset[dataset.length - 1];\r\n\r\n\t\tvar startTime = new Date(start[0]);\r\n\t\tvar lastTime = new Date(last[0]);\r\n\r\n\t\tvar excludeStart = new Date(last[0]);\r\n\t\texcludeStart.setHours('11');\r\n\t\texcludeStart.setMinutes('30');\r\n\t\texcludeStart.setSeconds('00');\r\n\r\n\t\tvar excludeStop = new Date(last[0]);\r\n\t\texcludeStop.setHours('13');\r\n\t\texcludeStop.setMinutes('00');\r\n\t\texcludeStop.setSeconds('00');\r\n\r\n\t\tvar filter;\r\n\t\tif(startTime.getTime() >= excludeStop.getTime() || lastTime.getTime() <= excludeStart.getTime()) {\r\n\t\t\tfilter = utils.gather(width, (lastTime.getTime() - startTime.getTime()) / 1000);\r\n\t\t} else {\r\n\t\t\tfilter = utils.gather(width, (lastTime.getTime() - startTime.getTime() - 1.5 * 60 * 60 * 1000) / 1000);\r\n\t\t}\r\n\r\n\t\t$WATCHER.DATA_GS = filter.gs;\r\n\r\n\t\t$WATCHER.RECT_DATA = filter(dataset, this.DATA_FILTER || function(d) {return d[d.length - 1]});\r\n\t}\r\n}\r\n\r\n\r\n/**\r\n * Export `chart.Volume`\r\n */\r\nmodule.exports = Volume;","'use strict';\r\n/**\r\n * K线\r\n * @public\t \r\n * @method d3SvgCandlestick\r\n * @param {Document} context\r\n * @param {Array} data\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @param {Number} w\r\n * @param {Number} h \r\n * @param {Boolean} smooth \r\n * @returns {Void}\r\n */\t\r\nfunction d3SvgCandlestick(context, data, x, y, w, h) {\r\n\r\n\t//console.log(data)\r\n\r\n\tvar wrap = context.selectAll('g.graph-content').data(['graph-content']);\r\n\twrap.enter().append('g').attr('class', (d) => d);\r\n\r\n\twrap.exit().remove();\r\n\r\n\tvar item = wrap.selectAll('path.item').data(data);\r\n\r\n\t//初始化Candlestick属性, class, attr;\r\n\titem.enter().append('path')\r\n\t.attr('data-series', function(item, i) {\r\n\t\treturn item.series || '';\r\n\t})\r\n\t.attr('data-category', function(item, i) {\r\n\t\treturn item[0];\r\n\t});\r\n\r\n\t//动画过渡, attr;\r\n\titem.attr('class', function(item) {\r\n\t\treturn 'item ' + (item[2] < item[4] ? 'plus' : 'minus');\r\n\t})\r\n\t.attr('d', function(item, i) {\r\n\t\treturn drawCandlesShape(item, i, x, y, w);\r\n\t});\r\n\r\n\titem.exit().remove();\r\n}\r\n\r\nfunction getValues(item, y) {\r\n\treturn {\r\n\t\thigh: y(item[1]),\r\n\t\topen: y(item[2]),\r\n\t\tlow: y(item[3]),\r\n\t\tclose: y(item[4])\r\n\t};\r\n}\r\n\r\n//绘制 `蜡烛` 路径\r\nfunction drawCandlesShape(item, i, x, y, w) {\r\n\r\n\tvar data = getValues(item, y);\r\n\tvar high = data.high;\r\n\tvar open = data.open;\r\n\tvar close = data.close;\r\n\tvar low = data.low;\r\n\r\n\tvar left = x(item);\r\n\tvar width = w(item) || 3; // doto\r\n\twidth = width % 2 === 0 ? width : (width > 1 ? width - 1 : 1);\r\n\r\n\tvar mid = width * 0.5;\r\n\tif(high !== low) {\r\n\t\treturn [\r\n\t\t\t'M'+ Math.floor(left + mid), high,\r\n\t\t\t'L'+ Math.floor(left + mid), close,\r\n\t\t\tMath.floor(left), close,\r\n\t\t\tMath.floor(left), open,\r\n\t\t\tMath.floor(left + mid), open,\r\n\t\t\tMath.floor(left + mid), low,\r\n\t\t\tMath.floor(left + mid), open,\r\n\t\t\tMath.floor(left + width), open,\r\n\t\t\tMath.floor(left + width), close,\r\n\t\t\tMath.floor(left + mid), close,\r\n\t\t\tMath.floor(left + mid), high + 'Z'\r\n\r\n\t\t].join(' ');\r\n\t} \r\n\r\n\treturn [\r\n\t\t\t'M'+ Math.floor(left + mid), high,\r\n\t\t\t'L'+left, high,\r\n\t\t\tleft + width, high\r\n\t\t\t/*Math.floor(left), close,\r\n\t\t\tMath.floor(left), open,\r\n\t\t\tMath.floor(left + mid), open,\r\n\t\t\tMath.floor(left + mid), low,\r\n\t\t\tMath.floor(left + mid), open,\r\n\t\t\tMath.floor(left + width), open,\r\n\t\t\tMath.floor(left + width), close,\r\n\t\t\tMath.floor(left + mid), close,\r\n\t\t\tMath.floor(left + mid), high + 'Z'*/\r\n\r\n\t\t].join(' ')\r\n\t\r\n}\r\n\r\n/**\r\n * Export `d3SvgCandlestick`\r\n */\r\nmodule.exports = d3SvgCandlestick;","'use strict';\r\nvar colors = require('./../core/colors');\r\nvar themes = require('./../core/themes');\r\nfunction d3SvgPath(x, y, defined, smooth) {\r\n\tvar line = d3.svg.line();\r\n\treturn line.x(x).y(y).defined(defined).interpolate(smooth ? 'monotone' : false);\r\n}\r\n\r\n/**\r\n * 折线\r\n * @public\t \r\n * @method d3SvgLine\r\n * @param {Document} context\r\n * @param {String} id\r\n * @param {Array} data\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @param {Function} defined \r\n * @param {Boolean} smooth \r\n * @returns {Void}\r\n */\t\r\nfunction d3SvgLine(context, eid, uid, data, x, y, defined, smooth) {\r\n\tvar line = d3SvgPath(x, y, defined, smooth);\r\n\r\n\tvar wrap = context.selectAll('g.graph-line').data(['graph-line']);\r\n\twrap.enter().append('g').style('clip-path', 'url(#'+ uid +')').attr('class', (d) => d);\r\n\r\n\twrap.exit().remove();\r\n\r\n\tvar items = wrap.selectAll('path.graph-line').data(data);\r\n\r\n\titems.enter().append('path')\r\n\t.attr('class', 'graph-line');\r\n\t//console.log(eid);\r\n\titems.attr('d', (d) => {\r\n\t\treturn line(d);\r\n\t})\r\n\t.attr(\"stroke\", (d, i) => {\r\n\t\ttry{\r\n\t\t\treturn themes.skin[eid][i];\r\n\t\t} catch(e) {\r\n\t\t\treturn colors.Accent[i + 4][i];\r\n\t\t}\r\n\t\t\r\n\t})\r\n\t.attr('fill', () => 'none');\r\n\r\n\tthemes.$watch('skin', function(skin) {\r\n\t\titems.attr(\"stroke\", (d, i) => {\r\n\t\t\ttry{\r\n\t\t\t\treturn themes.skin[eid][i];\r\n\t\t\t} catch(e) {\r\n\t\t\t\treturn colors.Accent[i + 4][i];\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\titems.exit().remove();\r\n}\r\n\r\n/**\r\n * Export `d3SvgLine`\r\n */\r\nmodule.exports = d3SvgLine;","'use strict';\r\n\r\n/**\r\n * 圆点\r\n * @public\t \r\n * @method d3SvgMarker\r\n * @param {Document} context\r\n * @param {String} id\r\n * @param {Array} data\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @param {Function} defined \r\n * @param {Boolean} smooth \r\n * @returns {Void}\r\n */\t\r\nfunction d3SvgMarker(context, array, x, y, style) {\r\n\r\n\tvar markerC = [];\r\n\tvar markerX = [];\r\n\r\n\tarray.forEach(function(d) {\r\n\t\tif(d[2] === 'C') {\r\n\t\t\tmarkerX.push(d);\r\n\t\t} else {\r\n\t\t\tmarkerC.push(d);\r\n\t\t}\r\n\t});\r\n\r\n\tvar marker = context.selectAll('g.graph-marker').data(['graph-marker']);\r\n\t\r\n\tmarker.enter().append('g').attr('class', (d) => d);\r\n\tmarker.exit().remove();\r\n\r\n\tvar point = marker.selectAll('circle').data(markerC);\r\n\tpoint.enter().append('circle').attr('r', 5).attr('class', (d) => style(d));\r\n\r\n\tpoint.attr('cx', (d) => x(d) + 0.5).attr('cy',  (d) => y(d));\r\n\t\r\n\tpoint.exit().remove();\r\n\r\n\tvar path = marker.selectAll('path.marker-x').data(markerX);\r\n\tpath.enter()\r\n\t.append('path')\r\n\t.attr('d', function() {\r\n\t\treturn 'M-2,-2L2, 2M2,-2L-2,2';\r\n\t}).attr('class', 'marker-x');\r\n\r\n\tpath.attr('transform', function(d) {\r\n\t\treturn 'translate('+ x(d) +','+ y(d) +')';\r\n\t})\r\n\r\n\t//path.attr('cx', (d) => x(d) + 0.5).attr('cy',  (d) => y(d));\r\n\t\r\n\tpath.exit().remove();\r\n}\r\n\r\n/**\r\n * Export `d3SvgMarker`\r\n */\r\nmodule.exports = d3SvgMarker;","'use strict';\r\n\r\n/**\r\n * 圆点\r\n * @public\t \r\n * @method d3SvgPoint\r\n * @param {Document} context\r\n * @param {String} id\r\n * @param {Array} data\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @param {Function} defined \r\n * @param {Boolean} smooth \r\n * @returns {Void}\r\n */\t\r\nfunction d3SvgPoint(context, array) {\r\n\tvar points = context.selectAll('g.point-hover').data(['point-hover']);\r\n\tpoints.enter().append('g').attr('class', (d) => d);\r\n\tpoints.exit().remove();\r\n\r\n\tvar items = points.selectAll('circle').data(array);\r\n\titems.enter().append('circle').attr('r', 2);\r\n\r\n\titems.attr('cx', (d) => d.x + 0.5).attr('cy',  (d) => d.y);\r\n\r\n\titems.exit().remove();\r\n}\r\n\r\n/**\r\n * Export `d3SvgPoint`\r\n */\r\nmodule.exports = d3SvgPoint;","'use strict';\r\n\r\n/**\r\n * 矩形\r\n * @public\t \r\n * @method d3SvgRect\r\n * @param {Document} context\r\n * @param {String} id\r\n * @param {Array} data\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @param {Function} defined \r\n * @param {Boolean} smooth \r\n * @returns {Void}\r\n */\t\r\nfunction d3SvgRect(context, array, x, y, w, h, style) {\r\n\tvar rect = context.selectAll('g.graph-rect').data(['graph-rect']);\r\n\t\r\n\trect.enter().append('g').attr('class', (d) => d);\r\n\trect.exit().remove();\r\n\r\n\tvar items = rect.selectAll('rect').data(array);\t\r\n\titems.enter().append('rect').attr('class', (d) => style(d));\r\n\r\n\titems.attr('width', (d, i) => w(d, i)).attr('height', (d, i) =>  h(d, i)).attr('x', (d, i) => x(d, i) + 0.5).attr('y', (d, i) => y(d, i));\r\n\t\r\n\titems.exit().remove();\r\n}\r\n\r\n/**\r\n * Export `d3SvgRect`\r\n */\r\nmodule.exports = d3SvgRect;","'use strict';\r\n\r\nvar element = require('./../elements/d3SvgAxisNodes');\r\n\r\n/**\r\n * d3WidgetAxisNodes\r\n * @public\t \r\n * @method d3WidgetAxisNodes\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\t\r\nfunction d3WidgetAxisNodes($scope) {\r\n\r\n\tvar ticks = getScaleTicks($scope);\r\n\tvar array = ['top', 'right', 'bottom', 'left'];\r\n\r\n\treturn function (context) {\r\n\t\tarray.forEach(function(orient, i) {\r\n\t\t\tcontext.call(element, ticks[i] || [], orient);\r\n\t\t});\r\n\t\t\r\n\t\t//窗体变化时,设置刻度;\r\n\t\t$scope.$watch('resizable', function() {\r\n\t\t\tticks = getScaleTicks($scope);\r\n\t\t\tarray.forEach(function(orient, i) {\r\n\t\t\t\tcontext.call(element, ticks[i] || [], orient);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t//数据变化时,设置刻度;\r\n\t\t$scope.$watch('$DATA_LOAD', function() {\r\n\t\t\tticks = getScaleTicks($scope);\r\n\t\t\tarray.forEach(function(orient, i) {\r\n\t\t\t\tcontext.call(element, ticks[i] || [], orient);\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n}\r\n\r\n\r\nfunction getScaleTicks($scope) {\r\n\tvar ANCHORS = ['middle', 'start' , 'middle', 'end'];\r\n\r\n\tvar POINTS = [[0, -5], [8, 3], [0, 18], [-8, 3]];\r\n\r\n\tvar DEGRESS = [\r\n\t\t$scope.$Layout.TOP_DEGRESS, \r\n\t\t$scope.$Layout.RIGHT_DEGRESS, \r\n\t\t$scope.$Layout.BOTTOM_DEGRESS, \r\n\t\t$scope.$Layout.LEFT_DEGRESS\r\n\t];\r\n\r\n\tvar transform = function(d, i) {\r\n\t\tvar array = [\r\n\t\t\t[d, $scope.$Layout.TOP_VALUE],\r\n\t\t\t[$scope.width - $scope.$Layout.RIGHT_VALUE, d],\r\n\t\t\t[d, $scope.height - $scope.$Layout.BOTTOM_VALUE],\r\n\t\t\t[$scope.$Layout.LEFT_VALUE, d]\r\n\t\t];\r\n\t\treturn array[i];\r\n\t};\r\n\t\r\n\tvar ticks = $scope.$Scale.get().map(function(scale, index) {\r\n\t\tif(!scale) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn scale.ticks().map(function(d, i) {\r\n\t\t\tvar data = {\r\n\t\t\t\ttranslate: transform(scale(d), index),\r\n\t\t\t\tx: POINTS[index][0],\r\n\t\t\t\ty: POINTS[index][1],\r\n\t\t\t\trotate: DEGRESS[index],\r\n\t\t\t\tanchor: DEGRESS[index] ? 'end' : ANCHORS[index]\r\n\t\t\t};\r\n\r\n\t\t\tif($scope.$Config[index].data) {\r\n\t\t\t\tif($scope.$Config[index].data.label) {\r\n\t\t\t\t\tdata.tick = $scope.$Config[index].data.label(d);\t\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdata.tick = d;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif($scope.$Config[index].data.value) {\r\n\t\t\t\t\tdata.value = $scope.$Config[index].data.value(d);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\t\t});\r\n\t});\r\n\r\n\treturn ticks;\r\n}\r\n\r\n/**\r\n * Export `d3WidgetAxisNodes`\r\n */\r\nmodule.exports = d3WidgetAxisNodes;","'use strict';\r\n\r\nvar utils = require('./../core/utils');\r\nvar element = require('./../elements/d3SvgAxisTips');\r\n/**\r\n * d3WidgetPointerEvents\r\n * @public\t \r\n * @method d3WidgetPointerEvents\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\t\r\nfunction d3WidgetPointerEvents($scope) {\r\n\tvar data = [{\r\n\t\t\tx: -9999,\r\n\t\t\ty: $scope.$Layout.TOP_VALUE,\r\n\t\t\tsize: 0,\r\n\t\t\tvalue: 0\r\n\t\t},{\r\n\t\t\tx: $scope.width - $scope.$Layout.RIGHT_VALUE,\r\n\t\t\ty: -9999,\r\n\t\t\tsize: 0,\r\n\t\t\tvalue: 0\r\n\t\t},{\r\n\t\t\tx: -9999,\r\n\t\t\ty: $scope.height - $scope.$Layout.BOTTOM_VALUE,\r\n\t\t\tsize:  0,\r\n\t\t\tvalue: '9:30'\r\n\t\t},{\r\n\t\t\tx: $scope.$Layout.LEFT_VALUE,\r\n\t\t\ty: -9999,\r\n\t\t\tsize: 0,\r\n\t\t\tvalue: 0\r\n\t\t}\r\n\t];\r\n\r\n\t//console.log($scope.height,$scope.$Layout.BOTTOM_VALUE)\r\n\r\n\treturn function(context) {\r\n\t\tvar TIPS_PIXEL = [\r\n\t\t\t{index: 0, size: $scope.width - $scope.$Layout.LEFT_VALUE - $scope.$Layout.RIGHT_VALUE, fixed: $scope.$Layout.LEFT_VALUE, value: 0},\r\n\t\t\t{index: 1, size: $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE, fixed: $scope.$Layout.TOP_VALUE, value: 1},\r\n\t\t\t{index: 0, size: $scope.width - $scope.$Layout.LEFT_VALUE - $scope.$Layout.RIGHT_VALUE, fixed: $scope.$Layout.LEFT_VALUE, value: 0},\r\n\t\t\t{index: 1, size: $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE, fixed: $scope.$Layout.TOP_VALUE, value: 1},\r\n\t\t];\r\n\r\n\t\tcontext.call(element, data);\r\n\r\n\t\t//窗体变化时,设置AxisTips;\r\n\t\t$scope.$watch('resizable', function() {\r\n\r\n\t\t\t[$scope.$Layout.TOP_VALUE,\r\n\t\t\t$scope.width - $scope.$Layout.RIGHT_VALUE,\r\n\t\t\t$scope.height - $scope.$Layout.BOTTOM_VALUE + 1,\r\n\t\t\t$scope.$Layout.LEFT_VALUE].forEach(function(v, i) {\r\n\t\t\t\tdata[i][i % 2 ? 'x' : 'y'] = v;\r\n\t\t\t\tdata[i][i % 2 ? 'y' : 'x'] = -9999;\r\n\t\t\t});\r\n\r\n\t\t\tTIPS_PIXEL = [\r\n\t\t\t\t{index: 0, size: $scope.width - $scope.$Layout.LEFT_VALUE - $scope.$Layout.RIGHT_VALUE, fixed: $scope.$Layout.LEFT_VALUE, value: 0},\r\n\t\t\t\t{index: 1, size: $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE, fixed: $scope.$Layout.TOP_VALUE, value: 1},\r\n\t\t\t\t{index: 0, size: $scope.width - $scope.$Layout.LEFT_VALUE - $scope.$Layout.RIGHT_VALUE, fixed: $scope.$Layout.LEFT_VALUE, value: 0},\r\n\t\t\t\t{index: 1, size: $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE, fixed: $scope.$Layout.TOP_VALUE, value: 1},\r\n\t\t\t];\r\n\r\n\t\t\tcontext.call(element, data);\r\n\t\t});\r\n\r\n\t\t//数据变化时,设置AxisTips;\r\n\t\t$scope.$watch('$EVENT_TIPS', function(tips) {\r\n\t\t\tvar result = tips.data || [];\r\n\r\n\t\t\tresult.forEach(function(v, i) {\r\n\t\t\t\tvar mod = i % 2 ? 'y' : 'x';\r\n\t\t\t\tdata[i][mod] = tips[mod];\r\n\t\t\t\tdata[i].value = v;\r\n\t\t\t\tdata[i].size = v ? utils.measure(v).width + 10 : 0;\r\n\t\t\t});\r\n\t\t\tcontext.call(element, data);\r\n\t\t});\r\n\r\n\t\t//鼠标移动时,设置AxisTips;\r\n\t\t$scope.$watch('$AXIS_TIPS', function(extents) {\r\n\t\t\tvar mouse = $scope.$EVENT_HOVER;\r\n\r\n\t\t\tvar data = extents.map(function(extent, index) {\r\n\t\t\t\tif(!extent) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\tif(index === 2) {\r\n\t\t\t\t\treturn $scope.$Config[index].data.label(extent);\r\n\t\t\t\t}\r\n\t\t\t\tvar num = (Math.abs((TIPS_PIXEL[index].value - (mouse[TIPS_PIXEL[index].index] - TIPS_PIXEL[index].fixed) / TIPS_PIXEL[index].size)) * (extent[1] - extent[0]));\r\n\t\t\t\treturn $scope.$Config[index].data.label(Math.floor((num + extent[0]) * 10) / 10);\r\n\t\t\t});\r\n\r\n\t\t\t$scope.$EVENT_TIPS = {\r\n\t\t\t\tx: mouse[0],\r\n\t\t\t\ty: mouse[1],\r\n\t\t\t\tdata: data\r\n\t\t\t};\t\t\t\r\n\t\t});\r\n\t};\r\n}\r\n\r\n/**\r\n * Export `d3WidgetPointerEvents`\r\n */\r\nmodule.exports = d3WidgetPointerEvents;","'use strict';\r\nvar element = require('./../elements/d3SvgBrush');\r\n\r\nfunction d3WidgetBrush($scope) {\r\n\tvar $Layout = $scope.$Layout;\r\n\tvar TOP_VALUE = $Layout.TOP_VALUE;\r\n\tvar height = $scope.height - $Layout.TOP_VALUE - $Layout.BOTTOM_VALUE;\r\n\treturn function(context, x, extent) {\r\n\t\tcontext.call(element, 0, TOP_VALUE, x, height, extent);\r\n\t}\r\n}\r\n/**\r\n * Export `d3WidgetBrush`\r\n */\r\nmodule.exports = d3WidgetBrush;\r\n","'use strict';\r\nvar utils = require('./../core/utils');\r\nvar element = require('./../shapes/d3SvgCandlestick');\r\n\r\n/**\r\n * d3WidgetCandlestick\r\n * @public\t \r\n * @method d3WidgetCandlestick\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\t\r\nfunction d3WidgetCandlestick($scope) {\r\n\treturn function(context, x, y, w, h, style) {\r\n\t\t//初始化marker数据;\r\n\t\t$scope.$CANDLESTICK_STORAGE = [];\r\n\r\n\t\t//创建无数据的元素;\r\n\t\tcontext.call(element, [], x, y, w, h, style);\r\n\r\n\t\t//监听数据变化时,更新 CANDLESTICK_STORAGE;\r\n\t\t$scope.$watch('CANDLESTICK_DATA', function(data) {\r\n\t\t\t$scope.$CANDLESTICK_STORAGE = [data, data];\r\n\t\t});\r\n\r\n\t\t$scope.$watch('resizable', function() {\r\n\t\t\tcontext.call(element, $scope.progress === 1 ? $scope.$DATA_STORAGE : $scope.CANDLESTICK_CHANGE, x, y, w, h, style);\r\n\t\t});\r\n\r\n\t\t//数据变化时,更新元素个数;\r\n\t\t$scope.$watch('$CANDLESTICK_STORAGE', function(data) {\r\n\t\t\t$scope.$DATA_STORAGE = data[0];\r\n\t\t\t$scope.progress = 1.0;\r\n\t\t\t$scope.$DATA_LOAD = utils.guid();\r\n\t\t});\r\n\r\n\t\t$scope.$watch('$DATA_LOAD', function(data) {\r\n\r\n\t\t\tcontext.call(element, $scope.$DATA_STORAGE || [], x, y, w, h, style);\r\n\t\t});\r\n\r\n\t\t$scope.$watch('progress', function(progress) {\r\n\t\t\tvar start = $scope.$Extents[2][0];\r\n\t\t\tvar stop = $scope.$Extents[2][1];\r\n\r\n\t\t\tvar excludeStart = new Date(start);\r\n\t\t\texcludeStart.setHours('11');\r\n\t\t\texcludeStart.setMinutes('30');\r\n\t\t\texcludeStart.setSeconds('00');\r\n\r\n\t\t\tvar excludeStop = new Date(stop);\r\n\t\t\texcludeStop.setHours('13');\r\n\t\t\texcludeStop.setMinutes('00');\r\n\t\t\texcludeStop.setSeconds('00');\r\n\r\n\t\t\tvar current = 0;\r\n\t\t\tif(start > excludeStop.getTime() || stop < excludeStart.getTime()) {\r\n\t\t\t\tcurrent = Math.floor((stop - start) * progress + start);\r\n\t\t\t} else {\r\n\t\t\t\tcurrent = Math.floor((stop - start -  1.5 * 60 * 60 * 1000) * progress + start);\r\n\t\t\t}\r\n\r\n\t\t\tif(current > excludeStart.getTime()) {\r\n\t\t\t\tcurrent += 1.5 * 60 * 60 * 1000;\r\n\t\t\t}\r\n\r\n\t\t\t$scope.$CANDLESTICK_SIZE = binary($scope.$CANDLESTICK_STORAGE[1] || [], current);\r\n\r\n\t\t});\r\n\r\n\t\t$scope.$watch('$CANDLESTICK_SIZE',function(size) {\r\n\r\n\t\t\t$scope.CANDLESTICK_CHANGE = ($scope.$CANDLESTICK_STORAGE[1] || []).slice(0, size + 1);\r\n\t\t\t//console.log($scope.CANDLESTICK_CHANGE.length);\r\n\t\t\tcontext.call(element, $scope.CANDLESTICK_CHANGE || [], x, y, w, h, style);\r\n\t\t});\r\n\t};\r\n}\r\n\r\nfunction binary(data, dest) {\r\n\tvar h = data.length - 1;\r\n\tvar l = 0;\r\n\twhile(l <= h ) {\r\n\t\tvar m = l + ((h - l) >> 1);\r\n\t\tvar t = new Date(data[m][0]).getTime();\r\n\t\tif(t === dest) {\r\n\t\t\treturn m;\r\n\t\t} else if(dest > t) {\r\n\t\t\t/*if((data[m + 1] && dest < new Date( data[m + 1][0]).getTime()) || data[m + 1] === undefined) {\r\n\t\t\t\treturn m;\r\n\t\t\t}*/\r\n\r\n\t\t\t/*if(data[m + 1] === undefined) {\r\n\t\t\t\treturn m;\r\n\t\t\t}*/\r\n\r\n\t\t\tif(data[m + 1] && dest < new Date( data[m + 1][0]).getTime()) {\r\n\t\t\t\treturn m;\r\n\t\t\t}\r\n\r\n\t\t\tl = m + 1;\r\n\t\t} else {\r\n\t\t\th = m -1;\r\n\t\t}\r\n\t}\r\n\treturn -1;\r\n}\r\n\r\n/**\r\n * Export `d3WidgetMarker`\r\n */\r\nmodule.exports = d3WidgetCandlestick;","'use strict';\r\n\r\nvar element = require('./../elements/d3SvgGridLine');\r\n\r\n/**\r\n * d3WidgetGridLine\r\n * @public\t \r\n * @method d3WidgetGridLine\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\t\r\nfunction d3WidgetGridLine($scope) {\r\n\r\n\treturn function(context, scaleX, scaleY) {\r\n\t\tcontext.call(element, scaleX(), scaleY());\r\n\r\n\t\t//窗体变化时,设置网格线;\r\n\t\t$scope.$watch('resizable', function() {\r\n\t\t\tcontext.call(element, scaleX(), scaleY());\r\n\t\t});\r\n\r\n\t\t//监听数据变化时,设置网格线;\r\n\t\t$scope.$watch('$DATA_LOAD', function() {\r\n\t\t\tcontext.call(element, scaleX(), scaleY());\r\n\t\t});\r\n\t};\r\n}\r\n\r\n/**\r\n * Export `d3WidgetGridLine`\r\n */\r\nmodule.exports = d3WidgetGridLine;","'use strict';\r\nvar utils   = require('./../core/utils');\r\nvar handler = require('./../core/handler');\r\nvar element = require('./../elements/d3SvgHover');\r\n\r\n/**\r\n * d3SvgMask\r\n * @public\t \r\n * @method d3WidgetMask\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\t\r\nfunction d3WidgetHover($scope) {\r\n\tvar x = $scope.$Layout.LEFT_VALUE + 1;\r\n\tvar y = $scope.$Layout.TOP_VALUE;\r\n\tvar width  = $scope.width - $scope.$Layout.LEFT_VALUE - $scope.$Layout.RIGHT_VALUE;\r\n\tvar height = $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE;\r\n\r\n\treturn function(context) {\r\n\t\tvar guid;\r\n\t\tcontext.call(element, $scope.guid, x, y, width * (utils.isNumber($scope.progress) ? $scope.progress : 1), height)\r\n\t\t.select('rect.graph-hover')\r\n\t\t/*.on('mousedown', function() {\r\n\t\t\tvar mouse = d3.mouse(this);\r\n\t\t\t$scope.$EventIsSelection = true;\r\n\t\t\t$scope.$EventSelectionStart = [mouse[0] + $scope.$Layout.LEFT_VALUE, mouse[1] + $scope.$Layout.TOP_VALUE];\r\n\t\t})*/\r\n\t\t.on('mousemove', function() {\r\n\t\t\tvar mouse = d3.mouse(this);\r\n\t\t\t$scope.mouse = [mouse[0] + $scope.$Layout.LEFT_VALUE, mouse[1] + $scope.$Layout.TOP_VALUE];\r\n\t\t\tthis.__mouse__ = $scope.mouse;\r\n\t\t}).on('mousedown', function() {\r\n\t\t\tvar mouse = d3.mouse(this);\r\n\t\t\t$scope.mouse = [mouse[0] + $scope.$Layout.LEFT_VALUE, mouse[1] + $scope.$Layout.TOP_VALUE];\r\n\t\t}).on('mouseout', function() {\r\n\t\t\t$scope.mouse = [-9999, -9999];\r\n\t\t}).on('touchmove', function() {\r\n\t\t\tvar mouse = d3.mouse(this);\r\n\t\t\tif(mouse[0] >= 0 && mouse[0] <= width *$scope.progress && mouse[1] >= 0 && mouse[1] <= height) {\r\n\t\t\t\t$scope.mouse = [mouse[0] + $scope.$Layout.LEFT_VALUE, mouse[1] + $scope.$Layout.TOP_VALUE];\r\n\t\t\t\tthis.__mouse__ = $scope.mouse;\r\n\t\t\t}\r\n\t\t}).on('touchend', function() {\r\n\t\t\tif(guid) {\r\n\t\t\t\tclearTimeout(guid);\r\n\t\t\t\tguid = null;\r\n\t\t\t}\r\n\t\t\tguid = setTimeout(function() {\r\n\t\t\t\t$scope.mouse = [-9999, -9999];\r\n\t\t\t}, 3000);\r\n\t\t});\r\n\r\n\t\t//监听数据变化时,设置hover区间;\r\n\t\t$scope.$watch('$DATA_LOAD', function() {\r\n\t\t\tx = $scope.$Layout.LEFT_VALUE + 1;\r\n\t\t\ty = $scope.$Layout.TOP_VALUE;\r\n\t\t\twidth  = $scope.width - $scope.$Layout.LEFT_VALUE - $scope.$Layout.RIGHT_VALUE;\r\n\t\t\theight = $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE;\r\n\r\n\t\t\tcontext.call(element, $scope.guid, x, y, width * (utils.isNumber($scope.progress) ? $scope.progress : 1), height);\r\n\t\t});\r\n\r\n\t\t//监听窗口变化时, 设置hover区间;\t\r\n\t\t$scope.$watch('resizable', function() {\r\n\t\t\tx = $scope.$Layout.LEFT_VALUE + 1;\r\n\t\t\ty = $scope.$Layout.TOP_VALUE;\r\n\t\t\twidth  = $scope.width - $scope.$Layout.LEFT_VALUE - $scope.$Layout.RIGHT_VALUE;\r\n\t\t\theight = $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE;\r\n\r\n\t\t\tcontext.call(element, $scope.guid, x, y, width * (utils.isNumber($scope.progress) ? $scope.progress : 1), height);\r\n\t\t});\r\n\r\n\t\t//动画：Progress变化时, 设置hover区间;\t\r\n\t\t$scope.$watch('progress', function(progress) {\r\n\t\t\tcontext.call(element, $scope.guid, x, y, width  * (utils.isNumber(progress) ? progress : 1), height);\r\n\t\t});\r\n\r\n\t\t\r\n\r\n\t\t/*d3.select(window).on('mouseup', function() {\r\n\t\t\tvar mouse = d3.mouse(this);\r\n\t\t\t$scope.$EventIsSelection = false;\r\n\t\t\t//console.log(111)\r\n\t\t});*/\r\n\t};\r\n}\r\n\r\n/**\r\n * Export `d3WidgetHover`\r\n */\r\nmodule.exports = d3WidgetHover;","'use strict';\r\n\r\nvar utils = require('./../core/utils');\r\nvar element = require('./../shapes/d3SvgLine');\r\n\r\n/**\r\n * d3SvgMask\r\n * @public\t \r\n * @method d3WidgetMask\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\t\r\nfunction d3WidgetLine($scope) {\r\n\r\n\treturn function(context, eid, id, x, y, defined, smooth) {\r\n\t\t//console.log(eid);\r\n\t\tcontext.call(element, eid, id, [], x, y, defined, smooth);\r\n\r\n\t\t//窗口大小变化时，折线自适应;\r\n\t\t$scope.$watch('resizable', function() {\r\n\t\t\tcontext.call(element, eid, id, [$scope.$DATA_STORAGE || []], x, y, defined, smooth);\r\n\t\t});\r\n\r\n\t\t$scope.$watch('LINE_DATA', function(data) {\r\n\t\t\t$scope.$DATA_STORAGE = data;\r\n\t\t});\r\n\r\n\t\t$scope.$watch('$DATA_STORAGE', function(data) {\r\n\t\t\t$scope.progress = 1.0;\r\n\t\t\t$scope.$DATA_LOAD = utils.guid();\r\n\t\t\tvar array = utils.range(1, $scope.$DATA_STORAGE[0].length).map(function(i){\r\n\t\t\t\treturn $scope.$DATA_STORAGE.map(function(d) {\r\n\t\t\t\t\treturn [d[0], d[i]];\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tcontext.call(element, eid, id, array , x, y, defined, smooth);\t\t\t\r\n\t\t});\r\n\t};\r\n}\r\n\r\n/**\r\n * Export `d3WidgetLine`\r\n */\r\nmodule.exports = d3WidgetLine;","'use strict';\r\n\r\nvar element = require('./../shapes/d3SvgMarker');\r\n//var markertips = require('./../widget/d3WidgetMarkerTips');\r\n/**\r\n * d3SvgMask\r\n * @public\t \r\n * @method d3WidgetMask\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\t\r\nfunction d3WidgetMarker($scope) {\r\n\treturn function(context, x, y, style) {\r\n\t\t//初始化marker数据;\r\n\t\t$scope.$MARKER_STORAGE = [];\r\n\r\n\t\t//创建无数据的元素;\r\n\t\tcontext.call(element, [], x, y, style)/*.select('g.graph-marker')*/;\r\n\r\n\t\t//监听窗口变化时, 更新元素坐标;\r\n\t\t$scope.$watch('resizable', function() {\r\n\t\t\tcontext.call(element, $scope.$MARKER_STORAGE[0] || [], x, y, style);\r\n\t\t});\r\n\r\n\t\t//监听数据变化时,更新 MARKER_STORAGE;\r\n\t\t$scope.$watch('MARKER_DATA', function(data) {\r\n\t\t\t$scope.$MARKER_STORAGE = [data, data];\r\n\t\t});\r\n\r\n\t\t//数据变化时,更新元素个数;\r\n\t\t$scope.$watch('$MARKER_STORAGE', function(data) {\r\n\t\t\tcontext.call(element, data[0], x, y, style);\r\n\t\t});\r\n\r\n\t\t//动画: 运行时间内，计算元素个数;\r\n\t\t$scope.$watch('progress', function(progress) {\r\n\t\t\tvar start = $scope.$Extents[2][0];\r\n\t\t\tvar stop = $scope.$Extents[2][1];\r\n\r\n\t\t\tvar current = Math.floor((stop - start) * progress + start);\r\n\r\n\t\t\t$scope.$MARKER_SIZE = binary($scope.$MARKER_STORAGE[1] || [], current);\r\n\r\n\t\t\tif($scope.$MARKER_SIZE === -1) {\r\n\t\t\t\t$scope.$MARKER_STORAGE = [[], $scope.$MARKER_STORAGE[1] || []];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t//动画: 更新元素个数;\r\n\t\t$scope.$watch('$MARKER_SIZE',function(size) {\r\n\t\t\t$scope.$MARKER_STORAGE = [($scope.$MARKER_STORAGE[1] || []).slice(0, size + 1), $scope.$MARKER_STORAGE[1] || []];\r\n\t\t\t$scope.$CURRENT_MARKER = ($scope.$MARKER_STORAGE[1] || [])[size];\r\n\t\t});\r\n\t};\r\n}\r\n\r\nfunction binary(data, dest) {\r\n\tvar h = data.length - 1;\r\n\tvar l = 0;\r\n\twhile(l <= h ) {\r\n\t\tvar m = l + ((h - l) >> 1);\r\n\t\tvar t = new Date(data[m][0]).getTime();\r\n\t\tif(t === dest) {\r\n\t\t\treturn m;\r\n\t\t} else if(dest > t) {\r\n\t\t\t/*if((data[m + 1] && dest < new Date( data[m + 1][0]).getTime()) || data[m + 1] === undefined) {\r\n\t\t\t\treturn m;\r\n\t\t\t}*/\r\n\r\n\t\t\tif(data[m + 1] === undefined) {\r\n\t\t\t\treturn m;\r\n\t\t\t}\r\n\r\n\t\t\tif(data[m + 1] && dest < new Date( data[m + 1][0]).getTime()) {\r\n\t\t\t\treturn m;\r\n\t\t\t}\r\n\r\n\t\t\tl = m + 1;\r\n\t\t} else {\r\n\t\t\th = m -1;\r\n\t\t}\r\n\t}\r\n\treturn -1;\r\n}\r\n\r\n/**\r\n * Export `d3WidgetMarker`\r\n */\r\nmodule.exports = d3WidgetMarker;","'use strict';\r\n\r\nvar element = require('./../elements/d3SvgMarkerTips');\r\n\r\n//d3WidgetMarkerTips\r\nfunction d3WidgetMarkerTips($scope) {\r\n\r\n\treturn function (context) {\r\n\t\tcontext.call(element, [{left: -9999, top: -9999}]);\r\n\r\n\t\t//监听数据变化时,更新 RECT_STORAGE;\r\n\t\t$scope.$watch('MARKER_ACTIVE', function(data) {\r\n\t\t\tcontext.call(element, data);\r\n\t\t});\r\n\r\n\t\t$scope.$watch('resizable', function() {\r\n\t\t\tcontext.call(element, [{left: -9999, top: -9999}]);\r\n\t\t});\r\n\t};\r\n}\r\n\r\n/**\r\n * Export `d3WidgetMarkerTips`\r\n */\r\nmodule.exports = d3WidgetMarkerTips;","'use strict';\r\n\r\nvar utils   = require('./../core/utils');\r\nvar element = require('./../elements/d3SvgMask');\r\n\r\n/**\r\n * d3SvgMask\r\n * @public\t \r\n * @method d3WidgetMask\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\t\r\nfunction d3WidgetMask($scope) {\r\n\tvar x = $scope.$Layout.LEFT_VALUE + 1;\r\n\tvar y = $scope.$Layout.TOP_VALUE;\r\n\tvar width  = $scope.width - $scope.$Layout.LEFT_VALUE - $scope.$Layout.RIGHT_VALUE;\r\n\tvar height = $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE;\r\n\r\n\treturn function(context) {\r\n\t\tcontext.call(element, $scope.uid, x, y, width  * (utils.isNumber($scope.progress) ? $scope.progress : 1), height);\r\n\r\n\t\t//数据加载完成时,蒙板大小100%;\r\n\t\t$scope.$watch('$DATA_LOAD', function() {\r\n\t\t\tx = $scope.$Layout.LEFT_VALUE + 1;\r\n\t\t\ty = $scope.$Layout.TOP_VALUE;\r\n\t\t\twidth  = $scope.width - $scope.$Layout.LEFT_VALUE - $scope.$Layout.RIGHT_VALUE;\r\n\t\t\theight = $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE;\r\n\r\n\t\t\tcontext.call(element, $scope.uid, x, y, width * (utils.isNumber($scope.progress) ? $scope.progress : 1), height);\r\n\t\t});\r\n\r\n\t\t//窗口大小变化时，蒙板大小自适应;\r\n\t\t$scope.$watch('resizable', function() {\r\n\t\t\tx = $scope.$Layout.LEFT_VALUE + 1;\r\n\t\t\ty = $scope.$Layout.TOP_VALUE;\r\n\t\t\twidth  = $scope.width - $scope.$Layout.LEFT_VALUE - $scope.$Layout.RIGHT_VALUE;\r\n\t\t\theight = $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE;\r\n\r\n\t\t\tcontext.call(element, $scope.uid, x, y, width * (utils.isNumber($scope.progress) ? $scope.progress : 1), height);\r\n\t\t});\t\r\n\r\n\t\t//动画: 蒙板尺寸缩放;\r\n\t\t$scope.$watch('progress', function(progress) {\r\n\t\t\tcontext.call(element, $scope.uid, x, y, width  * (utils.isNumber(progress) ? progress : 1), height);\r\n\t\t});\r\n\t};\r\n}\r\n\r\n/**\r\n * Export `d3WidgetMask`\r\n */\r\nmodule.exports = d3WidgetMask;","'use strict';\r\n\r\nvar utils   = require('./../core/utils');\r\nvar element = require('./../elements/d3SvgMessage');\r\n\r\n/**\r\n * d3WidgetMessage\r\n * @public\t \r\n * @method d3WidgetMessage\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\t\r\nfunction d3WidgetMessage($scope) {\r\n\tvar x = $scope.$Layout.LEFT_VALUE + 1;\r\n\tvar y = $scope.$Layout.TOP_VALUE;\r\n\tvar width  = $scope.width - $scope.$Layout.LEFT_VALUE - $scope.$Layout.RIGHT_VALUE;\r\n\tvar height = $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE;\r\n\r\n\t$scope.$LOAD_MESSAGE = {\r\n\t\tx: width / 2 + x,\r\n\t\ty: height / 2 + y,\r\n\t\tlabel: '暂无数据！'\r\n\t};\r\n\r\n\treturn function(context) {\r\n\t\tcontext.call(element, $scope.$LOAD_MESSAGE);\r\n\r\n\t\t//数据加载完成时,清空Massage;\r\n\t\t$scope.$watch('$DATA_LOAD', function() {\r\n\t\t\t$scope.$LOAD_MESSAGE.label = '';\r\n\r\n\t\t\tcontext.call(element, $scope.$LOAD_MESSAGE);\r\n\t\t});\r\n\r\n\t\t//窗口大小变化时，提示信息自适应;\r\n\t\t$scope.$watch('resizable', function() {\r\n\t\t\tx = $scope.$Layout.LEFT_VALUE + 1;\r\n\t\t\ty = $scope.$Layout.TOP_VALUE;\r\n\t\t\twidth  = $scope.width - $scope.$Layout.LEFT_VALUE - $scope.$Layout.RIGHT_VALUE;\r\n\t\t\theight = $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE;\r\n\t\t\t$scope.$LOAD_MESSAGE.x = width / 2 + x;\r\n\t\t\t$scope.$LOAD_MESSAGE.y = height / 2 + y;\r\n\r\n\t\t\tcontext.call(element, $scope.$LOAD_MESSAGE);\r\n\t\t});\r\n\t};\r\n}\r\n\r\n/**\r\n * Export `d3WidgetMessage`\r\n */\r\nmodule.exports = d3WidgetMessage;","'use strict';\r\nvar Observer = require('./../core/observer');\r\nvar element = require('./../elements/d3SvgPaint');\r\n\r\n/**\r\n * d3SvgMask\r\n * @public\t \r\n * @method d3WidgetMask\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\t\r\nfunction d3WidgetPaint(id, width, height, $scope) {\r\n\tvar wrapper = d3.select('#'+ id).style('position', 'relative');\r\n\r\n\tvar context = element(wrapper, id, width, height);\r\n\t\r\n\t//窗口变化，更新svg属性\r\n\t$scope.$watch('resizable', function() {\r\n\t\tcontext.attr('width', $scope.width).attr('height', $scope.height);\r\n\t});\r\n\treturn context;\r\n}\r\n\r\n/**\r\n * Export `d3WidgetPaint`\r\n */\r\nmodule.exports = d3WidgetPaint;","'use strict';\r\n\r\nvar utils = require('./../core/utils');\r\nvar element = require('./../shapes/d3SvgLine');\r\n\r\n/**\r\n * d3WidgetPath\r\n * @public\t \r\n * @method d3WidgetPath\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\t\r\nfunction d3WidgetPath($scope) {\r\n\r\n\treturn function(context, id, x, y, defined, smooth) {\r\n\t\tcontext.call(element, id, [], x, y, defined, smooth);\r\n\r\n\t\t//窗口大小变化时，折线自适应;\r\n\t\t$scope.$watch('resizable', function() {\r\n\t\t\tcontext.call(element, id, $scope.$PATH_STORAGE, x, y, defined, smooth);\r\n\t\t});\r\n\r\n\t\t$scope.$watch('PATH_DATA', function(data) {\r\n\t\t\t$scope.$PATH_STORAGE = data;\r\n\t\t});\r\n\r\n\t\t$scope.$watch('$PATH_STORAGE', function(data) {\r\n\t\t\tcontext.call(element, id, $scope.$PATH_STORAGE , x, y, defined, smooth);\r\n\t\t});\r\n\t};\r\n}\r\n\r\n/**\r\n * Export `d3WidgetPath`\r\n */\r\nmodule.exports = d3WidgetPath;","'use strict';\r\n\r\nvar element = require('./../elements/d3SvgPointerEvents');\r\n/**\r\n * d3WidgetPointerEvents\r\n * @public\t \r\n * @method d3WidgetPointerEvents\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\t\r\nfunction d3WidgetPointerEvents($scope) {\r\n\tvar data = [{\r\n\t\tstyle: \"cursor-line-vertical\",\r\n\t\ty1: $scope.$Layout.TOP_VALUE,\r\n\t\ty2: $scope.height - $scope.$Layout.BOTTOM_VALUE,\r\n\t\tx: -9999,\r\n\t\ty: -9999\r\n\t}, {\r\n\t\tstyle:\"cursor-line-horizontal\",\r\n\t\tx1: $scope.$Layout.LEFT_VALUE,\r\n\t\tx2: $scope.width - $scope.$Layout.RIGHT_VALUE,\r\n\t\tx: -9999,\r\n\t\ty: -9999\r\n\t}];\r\n\r\n\treturn function(context) {\r\n\t\tcontext.call(element, data);\r\n\t\t\r\n\t\t//窗口大小变化时，重置PointEvents坐标;\r\n\t\t$scope.$watch('resizable', function() {\r\n\t\t\tdata[0].y1 = $scope.$Layout.TOP_VALUE;\r\n\t\t\tdata[0].y2 = $scope.height - $scope.$Layout.BOTTOM_VALUE;\r\n\t\t\tdata[0].x = -9999;\r\n\t\t\tdata[0].y = -9999;\r\n\r\n\t\t\tdata[1].x1 = $scope.$Layout.LEFT_VALUE,\r\n\t\t\tdata[1].x2 = $scope.width - $scope.$Layout.RIGHT_VALUE;\r\n\t\t\tdata[1].x = -9999;\r\n\t\t\tdata[1].y = -9999;\r\n\t\t\tcontext.call(element, data);\r\n\t\t});\r\n\r\n\t\t//数据加载完成时,重置PointEvents坐标;\r\n\t\t$scope.$watch('$DATA_LOAD', function() {\r\n\t\t\tdata[0].y1 = $scope.$Layout.TOP_VALUE;\r\n\t\t\tdata[0].y2 = $scope.height - $scope.$Layout.BOTTOM_VALUE;\r\n\t\t\tdata[0].x = -9999;\r\n\t\t\tdata[0].y = -9999;\r\n\r\n\t\t\tdata[1].x1 = $scope.$Layout.LEFT_VALUE,\r\n\t\t\tdata[1].x2 = $scope.width - $scope.$Layout.RIGHT_VALUE;\r\n\t\t\tdata[1].x = -9999;\r\n\t\t\tdata[1].y = -9999;\r\n\t\t\tcontext.call(element, data);\r\n\t\t});\r\n\r\n\t\t//鼠标移动时,设置PointEvents坐标;\r\n\t\t$scope.$watch('$EVENT_HOVER', function(mouse) {\r\n\t\t\tdata[0].x = mouse[0];\r\n\t\t\tdata[0].y = 0;\t\t\r\n\t\t\tdata[1].x = 0;\r\n\t\t\tdata[1].y = mouse[1];\r\n\t\t\tcontext.call(element, data);\r\n\t\t});\r\n\t};\r\n}\r\n\r\n/**\r\n * Export `d3WidgetPointerEvents`\r\n */\r\nmodule.exports = d3WidgetPointerEvents;","'use strict';\r\nvar utils = require('./../core/utils');\r\nvar element = require('./../shapes/d3SvgRect');\r\n\r\n/**\r\n * d3SvgMask\r\n * @public\t \r\n * @method d3WidgetMask\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\t\r\nfunction d3WidgetRect($scope) {\r\n\treturn function(context, x, y, w, h, style) {\r\n\t\t//初始化marker数据;\r\n\t\t$scope.$RECT_STORAGE = [];\r\n\r\n\t\t//创建无数据的元素;\r\n\t\tcontext.call(element, [], x, y, w, h, style);\r\n\r\n\t\t//监听数据变化时,更新 RECT_STORAGE;\r\n\t\t$scope.$watch('RECT_DATA', function(data) {\r\n\t\t\t$scope.$RECT_STORAGE = [data, data];\r\n\t\t});\r\n\r\n\t\t$scope.$watch('resizable', function() {\r\n\t\t\tcontext.call(element, $scope.progress === 1 ? $scope.$DATA_STORAGE : $scope.$VOLUME_CHANGE, x, y, w, h, style);\r\n\t\t});\r\n\r\n\t\t//数据变化时,更新元素个数;\r\n\t\t$scope.$watch('$RECT_STORAGE', function(data) {\r\n\t\t\t$scope.progress = 1.0;\r\n\t\t\t$scope.$DATA_STORAGE = data[0];\r\n\t\t\t$scope.$DATA_LOAD = utils.guid();\r\n\t\t});\r\n\r\n\t\t$scope.$watch('$DATA_LOAD', function(data) {\t\t\t\r\n\t\t\tcontext.call(element, $scope.$DATA_STORAGE || [], x, y, w, h, style);\r\n\t\t});\r\n\r\n\t\t$scope.$watch('progress', function(progress) {\r\n\t\t\tvar start = $scope.$Extents[2][0];\r\n\t\t\tvar stop = $scope.$Extents[2][1];\r\n\r\n\t\t\tvar excludeStart = new Date(start);\r\n\t\t\texcludeStart.setHours('11');\r\n\t\t\texcludeStart.setMinutes('30');\r\n\t\t\texcludeStart.setSeconds('00');\r\n\r\n\t\t\tvar excludeStop = new Date(stop);\r\n\t\t\texcludeStop.setHours('13');\r\n\t\t\texcludeStop.setMinutes('00');\r\n\t\t\texcludeStop.setSeconds('00');\r\n\r\n\t\t\tvar current = 0;\r\n\t\t\tif(start > excludeStop.getTime() || stop < excludeStart.getTime()) {\r\n\t\t\t\tcurrent = Math.floor((stop - start) * progress + start);\r\n\t\t\t} else {\r\n\t\t\t\tcurrent = Math.floor((stop - start -  1.5 * 60 * 60 * 1000) * progress + start);\r\n\t\t\t}\r\n\r\n\t\t\tif(current > excludeStart.getTime()) {\r\n\t\t\t\tcurrent += 1.5 * 60 * 60 * 1000;\r\n\t\t\t}\r\n\r\n\t\t\t$scope.$RECT_SIZE = binary($scope.$RECT_STORAGE[1] || [], current);\r\n\t\t});\r\n\r\n\t\t$scope.$watch('$RECT_SIZE',function(size) {\r\n\t\t\t$scope.$VOLUME_CHANGE = ($scope.$RECT_STORAGE[1] || []).slice(0, size + 1);\r\n\t\t\tcontext.call(element, $scope.$VOLUME_CHANGE || [], x, y, w, h, style);\r\n\t\t});\r\n\t};\r\n}\r\n\r\nfunction binary(data, dest) {\r\n\tvar h = data.length - 1;\r\n\tvar l = 0;\r\n\twhile(l <= h ) {\r\n\t\tvar m = l + ((h - l) >> 1);\r\n\t\tvar t = new Date(data[m][0]).getTime();\r\n\t\tif(t === dest) {\r\n\t\t\treturn m;\r\n\t\t} else if(dest > t) {\r\n\t\t\t/*if((data[m + 1] && dest < new Date( data[m + 1][0]).getTime()) || data[m + 1] === undefined) {\r\n\t\t\t\treturn m;\r\n\t\t\t}*/\r\n\r\n\t\t\t/*if(data[m + 1] === undefined) {\r\n\t\t\t\treturn m;\r\n\t\t\t}*/\r\n\r\n\t\t\tif(data[m + 1] && dest < new Date( data[m + 1][0]).getTime()) {\r\n\t\t\t\treturn m;\r\n\t\t\t}\r\n\r\n\t\t\tl = m + 1;\r\n\t\t} else {\r\n\t\t\th = m -1;\r\n\t\t}\r\n\t}\r\n\treturn -1;\r\n}\r\n\r\n/**\r\n * Export `d3WidgetMarker`\r\n */\r\nmodule.exports = d3WidgetRect;","'use strict';\r\n\r\nvar draggable = require('./../core/draggable');\r\nvar element = require('./../elements/d3SvgSelection');\r\n\r\n/**\r\n * d3WidgetSelection\r\n * @public\t \r\n * @method d3WidgetSelection\r\n * @param {Document} context\r\n * @param {Observer} $scope\r\n * @returns {void}\r\n */\t\r\nfunction d3WidgetSelection($scope) {\r\n\tvar offsetLeft = 0;\r\n\tvar offsetTop  = 0;\r\n\r\n\tvar startX = 0;\r\n\tvar startY = 0;\r\n\r\n\tvar stopX = 0;\r\n\tvar stopY = 0;\r\n\r\n\tdraggable.$watch('start'+$scope.guid, function(domain) {\r\n\t\t$scope.$EVENT_START = domain;\r\n\t});\r\n\r\n\tdraggable.$watch('drag'+$scope.guid, function(domain) {\r\n\t\t$scope.$EVENT_DRAG = domain;\r\n\t});\r\n\r\n\tdraggable.$watch('stop'+$scope.guid, function(domain) {\r\n\t\tif(draggable.$EventIsSelection) {\r\n\t\t\t$scope.$EVENT_STOP = domain;\r\n\t\t}\r\n\t});\r\n\r\n\treturn function(context) {\r\n\t\tcontext.call(element, 0, 0, 0, $scope.height - $scope.$Layout.TOP_VALUE - $scope.$Layout.BOTTOM_VALUE);\r\n\t\t$scope.mouse = [-9999, -9999];\r\n\r\n\t\t//区间变化;\r\n\t\t$scope.$watch('$EVENT_SELECTION', function(events) {\r\n\t\t\tvar TOP_VALUE = $scope.$Layout.TOP_VALUE;\r\n\t\t\tvar BOTTOM_VALUE = $scope.$Layout.BOTTOM_VALUE;\r\n\r\n\t\t\tcontext.call(element, events[0], TOP_VALUE, events[1], $scope.height - TOP_VALUE - BOTTOM_VALUE)\r\n\t\t});\r\n\r\n\t\t//监听窗口变化时, 更新元素坐标;\r\n\t\t$scope.$watch('resizable', function(events) {\r\n\t\t\tvar TOP_VALUE = $scope.$Layout.TOP_VALUE;\r\n\t\t\tvar BOTTOM_VALUE = $scope.$Layout.BOTTOM_VALUE;\r\n\t\t\tcontext.call(element, events[0], TOP_VALUE, 0, $scope.height - TOP_VALUE - BOTTOM_VALUE)\r\n\t\t});\r\n\r\n\t\t//播放过程中, 区间 Width：0px;\r\n\t\t$scope.$watch('progress', function(progress) {\r\n\t\t\tvar TOP_VALUE = $scope.$Layout.TOP_VALUE;\r\n\t\t\tvar BOTTOM_VALUE = $scope.$Layout.BOTTOM_VALUE;\r\n\r\n\t\t\tcontext.call(element, 0, 0, 0, $scope.height - TOP_VALUE - BOTTOM_VALUE)\r\n\t\t});\r\n\r\n\t\t//鼠标拖拽开始;\r\n\t\t$scope.$watch('$EVENT_START', function(domain) {\r\n\t\t\tstartX = $scope.mouse[0];\r\n\t\t\tstartY = $scope.mouse[1];\r\n\r\n\t\t\toffsetLeft = domain[0] - startX;\r\n\t\t\toffsetTop  = domain[1] - startY;\r\n\t\t});\r\n\r\n\t\t//鼠标拖拽中;\r\n\t\t$scope.$watch('$EVENT_DRAG', function(domain) {\r\n\t\t\tvar LEFT_VALUE = $scope.$Layout.LEFT_VALUE;\r\n\t\t\tvar RIGHT_VALUE = $scope.$Layout.RIGHT_VALUE;\r\n\r\n\t\t\tvar number = Math.min(Math.max(domain[0] - offsetLeft, LEFT_VALUE), $scope.width - RIGHT_VALUE);\r\n\t\t\tvar size = Math.floor(($scope.width - LEFT_VALUE - RIGHT_VALUE) * $scope.progress) + LEFT_VALUE;\r\n\r\n\t\t\tif(startX > 0) {\r\n\t\t\t\t$scope.$EVENT_SELECTION = [Math.min(startX, number), Math.abs(startX - Math.min(number, size))];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\r\n\t\t//鼠标拖拽停止;\r\n\t\t$scope.$watch('$EVENT_STOP', function(domain) {\r\n\t\t\tvar LEFT_VALUE = $scope.$Layout.LEFT_VALUE;\r\n\t\t\tvar RIGHT_VALUE = $scope.$Layout.RIGHT_VALUE;\r\n\t\t\tvar size = $scope.width - RIGHT_VALUE - LEFT_VALUE;\r\n\t\t\tvar extent = $scope.$Extents[2];\r\n\r\n\t\t\tif(domain[0] === startX) {\r\n\t\t\t\t$scope.$EVENT_SELECTION = [startX, 0];\r\n\t\t\t} else if($scope.$EVENT_SELECTION) {\r\n\t\t\t\tvar a = $scope.$EVENT_SELECTION[0];\r\n\t\t\t\tvar b = $scope.$EVENT_SELECTION[1];\r\n\r\n\t\t\t\tif(extent[1] - extent[0] !== 0) {\r\n\t\t\t\t\tvar start = ((a - LEFT_VALUE) / size * (extent[1] - extent[0]));\r\n\t\t\t\t\tvar stop = ((a + b - LEFT_VALUE) / size * (extent[1] - extent[0]));\r\n\t\t\t\t\tif($scope.progress === 1) {\r\n\t\t\t\t\t\tconsole.log('TIME:', new Date(Math.floor((start + extent[0]) * 10) / 10), new Date(Math.floor((stop + extent[0]) * 10) / 10));\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n}\r\n\r\n/** \r\n * Export `d3WidgetSelection`\r\n */\r\nmodule.exports = d3WidgetSelection;"]}